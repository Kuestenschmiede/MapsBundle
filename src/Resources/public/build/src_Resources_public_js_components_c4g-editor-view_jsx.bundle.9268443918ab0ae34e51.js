/*! For license information please see src_Resources_public_js_components_c4g-editor-view_jsx.bundle.9268443918ab0ae34e51.js.LICENSE.txt */
"use strict";(self.webpackChunkmapsbundle=self.webpackChunkmapsbundle||[]).push([["src_Resources_public_js_components_c4g-editor-view_jsx"],{"./src/Resources/public/js/c4g-popup-controller.js":(e,t,o)=>{var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.C4gPopupController=void 0;var s=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),a=o("./src/Resources/public/js/c4g-popup.js"),l=o("./src/Resources/public/js/c4g-maps-utils.js");t.C4gPopupController=function(){function e(t){(0,s.default)(this,e),this.mapController=t.options.mapController,this.mapData=t.options.mapController.data,this.popupHandling=parseInt(this.mapData.popupHandling,10),this.external=!!this.mapData.popupDiv,this.popups=[]}return(0,r.default)(e,[{key:"addPopup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.popups.push(new a.C4gPopup(this)),e&&this.popups[this.popups.length-1].setContent(e),this.mapData.caching&&l.utils.storeValue("popupInfos","")}},{key:"setPopup",value:function(e){this.popups[0]||this.popups.push(new a.C4gPopup(this)),this.popups[0].setContent(e)}},{key:"removePopup",value:function(){this.popups[0]&&this.popups[0].popup&&this.popups[0].popup.getMap()?this.mapData.map.removeOverlay(this.popups[0].popup):this.popups[0]&&this.popups[0].popupComponent&&this.popups[0].popupComponent.close(!0)}}]),e}()},"./src/Resources/public/js/c4g-popup.js":(e,t,o)=>{var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),s=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.C4gPopup=void 0;var r=n(o("./node_modules/@babel/runtime/helpers/typeof.js")),a=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),p=o("./node_modules/ol/index.js"),i=o("./src/Resources/public/js/c4g-maps-utils.js"),u=n(o("./node_modules/react-dom/index.js")),c=o("./src/Resources/public/js/components/c4g-popup-container.jsx"),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=s(e)&&"function"!=typeof e)return{default:e};var o=m(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o("./node_modules/react/index.js"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(m=function(e){return e?o:t})(e)}t.C4gPopup=function(){function e(t){(0,a.default)(this,e);var o=this;this.popupController=t;var n=document.createElement("div");n.setAttribute("id","c4g_popup_"+t.mapData.mapId),n.className="c4g-popup-wrapper c4g-active";var s=document.createElement("button");s.className="c4g-popup-close c4g-icon",jQuery(s).click((function(e){e.preventDefault(),t.mapController.map.removeOverlay(o.popup)}));var r=document.createElement("div");if(r.className="c4g-popup-content",n.appendChild(s),n.appendChild(r),this.popupContent=r,1===t.popupHandling||0===t.popupHandling){var l=1===t.popupHandling;this.popup=new p.Overlay({element:n,positioning:"bottom-left",offset:[-50,0],insertFirst:!1,autoPan:l,autoPanAnimation:{duration:250},autoPanMargin:20}),t.mapController.map.addOverlay(this.popup)}else if(2===t.popupHandling){jQuery(n).addClass("c4g-popup-wrapper-nonose");var i=t.mapController.map.getView().getCenter();this.popup=new p.Overlay({position:i,element:n,positioning:"center-center",offset:[-50,0],autoPan:!1}),t.mapController.map.addOverlay(this.popup)}else if(3===t.popupHandling){var m={open:!0,alwaysExtended:!1,hideOther:t.mapController.hideOtherComponents,activeComps:t.mapController.getActiveComponents(),mapData:t.mapData,mapController:t.mapController};this.popupContainer&&(u.default.unmountComponentAtNode(this.popupContainer),delete t.mapController.components.popup,t.external||this.popupContainer.parentNode.removeChild(this.popupContainer)),m.external=t.external,this.popupContainer=t.external?document.querySelector("."+t.mapData.popupDiv):document.createElement("div"),this.popupContainer||(this.popupContainer=document.createElement("div"),m.external=!1),this.popupComponent=u.default.render(d.createElement(c.PopupContainer,m),this.popupContainer),m.external||(t.mapController.$overlaycontainer_stopevent.append(this.popupContainer),t.mapController.hideOtherComponents(this.currentPopup)),this.currentPopup=this.popupComponent,t.mapController.components.popup=this.popupComponent}}return(0,l.default)(e,[{key:"setContent",value:function(e){var t,o,n=e.feature,s=e.layer;if(n.get("features"))for(var a=n.get("features"),l=0;l<a.length;l++)t+=i.utils.replaceAllPlaceholders(e.popup.content,a[l],s,this.popupController.mapController.data.lang);else t=i.utils.replaceAllPlaceholders(e.popup.content,n,s,this.popupController.mapController.data.lang);if(o=document.createElement("div"),this.popupController.popupHandling<3)this.popup.getMap()||this.popupController.mapController.map.addOverlay(this.popup),o.innerHTML=t,this.popupContent.innerHTML="",this.popupContent.appendChild(o),this.popupController.popupHandling<2&&this.setPosition(n.getGeometry());else if(this.popupComponent){var p=this.popupController.mapController.getActiveComponents();this.popupComponent.state.open||this.popupComponent.open(p),this.popupComponent.setContent(t)}void 0!==window.c4gMapsHooks&&"object"===(0,r.default)(window.c4gMapsHooks.proxy_appendPopup)&&i.utils.callHookFunctions(window.c4gMapsHooks.proxy_appendPopup,{popup:e,content:t,mapController:this.popupController.mapController,comp:this.popupComponent||null,div:o})}},{key:"setPosition",value:function(e){var t=this.popupController.mapController.map,o=this.popup.getElement(),n=null;if("Point"===e.getType())n=e.getCoordinates();else{var s=e.getExtent();n=[(s[0]+s[2])/2,(s[1]+s[3])/2]}var r=t.getView().getCenter(),a="",l=[0,0];r[1]>n[1]?a+="bottom":(l[1]=10,a+="top"),r[0]>n[0]?(l[0]=-50,a+="-left"):(l[0]=100,a+="-right"),jQuery(o).removeClass("nose-top-left").removeClass("nose-top-right").removeClass("nose-bottom-left").removeClass("nose-bottom-right"),jQuery(o).addClass("nose-"+a),this.popup.setPositioning(a),this.popup.setOffset(l),this.popup.setPosition(n)}}]),e}()},"./src/Resources/public/js/components/c4g-editor-view.jsx":(e,t,o)=>{var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),s=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=n(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),i=n(o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=n(o("./node_modules/@babel/runtime/helpers/inherits.js")),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=s(e)&&"function"!=typeof e)return{default:e};var o=y(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o("./node_modules/react/index.js")),d=(o("./node_modules/ol/layer.js"),o("./node_modules/ol/source.js"),o("./node_modules/ol/format.js")),m=o("./node_modules/ol/index.js"),h=o("./node_modules/ol/geom.js"),f=o("./node_modules/ol/interaction.js"),g=o("./src/Resources/public/js/c4g-maps-utils.js"),v=o("./src/Resources/public/js/components/c4g-starboard-style.jsx");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(y=function(e){return e?o:t})(e)}function C(e,t,o){return t=(0,p.default)(t),(0,l.default)(e,b()?Reflect.construct(t,o||[],(0,p.default)(e).constructor):t.apply(e,o))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}o("./src/Resources/public/js/c4g-popup-controller.js"),o("./src/Resources/public/js/c4g-maps-misc-tooltippopup.js"),t.default=function(e){function t(e){var o;return(0,r.default)(this,t),o=C(this,t,[e]),(0,i.default)(o),o.state={freehand:!1,selectedFeature:!1,features:"[]",activeElement:e.elements[0]?e.elements[0].id:0,activeStyle:e.elements[0]?e.elements[0].styleId:0,selectMode:"modify"},o.interaction=null,o.changeJSON=o.changeJSON.bind((0,i.default)(o)),o.resetInteraction=o.resetInteraction.bind((0,i.default)(o)),o}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this;if("select"!==this.props.mode&&this.props.active){var t;switch(this.resetInteraction(),this.props.mode){case"Point":t=new h.Point(0,0);break;case"LineString":t=new h.LineString([[0,0],[1,1]]);break;case"Polygon":t=new h.Polygon([[0,0],[1,1]])}var o=new m.Feature(t);o.set("locstyle",this.state.activeStyle),this.interaction=new f.Draw({source:this.props.editorLayer.getSource(),type:this.props.mode,snapTolerance:1,style:this.props.styleFunction(o),freehand:this.state.freehand}),this.interaction.on("drawend",(function(t){var o;if(t.feature.set("editorId",e.props.editorId),t.feature.set("locstyle",e.state.activeStyle),t.feature.set("elementId",e.state.activeElement),"Circle"===e.props.mode){var n=t.feature.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCenter(),s=t.feature.getGeometry().getRadius(),r=g.utils.measureGeometry(t.feature.getGeometry()).rawValue;o={type:"Feature",geometry:{type:"Point",coordinates:n},properties:{editorId:e.props.editorId,elementId:e.state.activeElement,locstyle:e.state.activeStyle,radius:s,realRadius:r}}}else o=(new d.GeoJSON).writeFeatureObject(t.feature,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});var a={source:e.props.editorLayer.getSource(),geojson:o,event:t,format:new d.GeoJSON};g.utils.callHookFunctions(window.c4gMapsHooks.hook_editor_draw,a),e.props.addFeature(o),e.props.countEditorId()})),this.props.mapController.map.addInteraction(this.interaction)}else"select"===this.props.mode&&this.props.active?(this.resetInteraction(),this.interaction=[],this.interaction.push(new f.Select({layers:[this.props.editorLayer],hitTolerance:20})),this.interaction.push(new f.Modify({features:this.state.selectedFeature?new m.Collection([this.state.selectedFeature]):new m.Collection([new m.Feature]),pixelTolerance:20})),this.interaction[0].on("select",(function(t){var o=t.selected[0];e.setState({selectedFeature:o})})),this.interaction[1].on("modifyend",(function(t){var o,n=t.features.getArray()[0];if(n.getGeometry()instanceof h.Circle){var s=n.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCenter(),r=n.getGeometry().getRadius(),a=g.utils.measureGeometry(n.getGeometry()).rawValue;o={type:"Feature",geometry:{type:"Point",coordinates:s},properties:{editorId:n.get("editorId"),elementId:n.get("elementId"),locstyle:n.get("activeStyle"),radius:r,realRadius:a}}}else o=(new d.GeoJSON).writeFeatureObject(n,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});var l={source:e.props.editorLayer.getSource(),geojson:o,event:t,format:new d.GeoJSON};g.utils.callHookFunctions(window.c4gMapsHooks.hook_editor_modify,l),e.props.modifyFeature(o)})),this.props.mapController.map.addInteraction(this.interaction[0]),this.props.mapController.map.addInteraction(this.interaction[1])):this.resetInteraction();var n=null;this.props.elements&&this.props.elements.length>1&&(n=this.props.elements.map((function(t){var o,n,s=e.props.styleData.arrLocStyles[t.styleId],r=s.locStyleArr,a=r?r.styletype:"default";if(!r||"cust_icon"!==a&&"cust_icon_svg"!==a&&"photo"!==a){var l=s.style&&s.style(new m.Feature({geometry:new h.Point(0,0)}),"EPSG:4326")?s.style(new m.Feature({geometry:new h.Point(0,0)}),"EPSG:4326"):null,p=Array.isArray(l)?l[0]:l;p&&p.getFill()&&p.getStroke()?o=p.getFill().getColor():r&&r.fillcolor&&r.strokecolor&&(o=g.utils.getRgbaFromHexAndOpacity(r.fillcolor[0],r.fillcolor[1])),n=c.default.createElement("span",{title:t.name,className:"c4g-editor-locstyle",style:{backgroundColor:o}})}else n=c.default.createElement(v.C4gStarboardStyle,{tooltip:t.name,styleData:e.props.styleData,styleId:t.styleId});return c.default.createElement("button",{key:t.id,style:{height:"32px",width:"32px"},onMouseUp:function(){e.setState({activeElement:t.id,activeStyle:t.styleId})}},n)})));var s=null;if("LineStringPolygon".includes(this.props.mode)){var r="c4g-editor-view ";r+=this.state.freehand?"c4g-active":"c4g-inactive",s=c.default.createElement("a",{className:r,title:this.props.lang.EDITOR_VIEW_TRIGGER_DRAW_FREEHAND,onMouseUp:function(){e.changeFreehand()}},this.props.lang.EDITOR_VIEW_TRIGGER_DRAW_FREEHAND)}var a=[];if(this.state.selectedFeature&&"select"===this.props.mode)for(var l in s=c.default.createElement("div",{className:"c4g-editor-mode-switcher"},c.default.createElement("button",{title:this.props.lang.EDITOR_FEATURE_DELETE,className:"c4g-editor-feature-delete "+("remove"===this.state.selectMode?"c4g-active":"c4g-inactive"),onMouseUp:function(){e.removeActiveFeature()}})),this.props.editorVars)if(this.props.editorVars.hasOwnProperty(l)){var p=this.props.editorVars[l];if(p.caption&&p.key){var i=this.state.selectedFeature.get(p.key)?this.state.selectedFeature.get(p.key):"";a.push(c.default.createElement("form",{className:"c4g-editor-vars-input",key:l,onSubmit:function(e){e.preventDefault()}},c.default.createElement("label",null,p.caption,":",c.default.createElement("input",{type:"text",value:i,name:p.key,onChange:function(t){e.handleVarChange(t)}}))))}}return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",null,s,c.default.createElement("div",{className:"c4g-editor-element-selection"},n)),c.default.createElement("div",{className:"c4g-editor-vars"},a))}},{key:"resetInteraction",value:function(){this.interaction&&(Array.isArray(this.interaction)?(this.props.mapController.map.removeInteraction(this.interaction[0]),this.props.mapController.map.removeInteraction(this.interaction[1])):this.props.mapController.map.removeInteraction(this.interaction))}},{key:"removeActiveFeature",value:function(){var e=(new d.GeoJSON).writeFeatureObject(this.state.selectedFeature,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this.props.removeFeature(e),this.props.editorLayer.getSource().removeFeature(this.state.selectedFeature),this.setState({selectedFeature:!1})}},{key:"componentDidUpdate",value:function(e,t,o){var n=this;this.props.elements[0]&&e.mode!==this.props.mode&&(0===this.state.activeElement?this.setState({activeElement:this.props.elements[0].id,activeStyle:this.props.elements[0].styleId}):this.props.elements.find((function(e){return e.id===n.state.activeElement}))||this.setState({activeElement:this.props.elements[0].id,activeStyle:this.props.elements[0].styleId}))}},{key:"changeSelectMode",value:function(e){this.setState({selectMode:e})}},{key:"handleVarChange",value:function(e){var t=e.target.value,o=e.target.name;this.state.selectedFeature.set(o,t);var n=(new d.GeoJSON).writeFeatureObject(this.state.selectedFeature,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this.props.modifyFeature(n),this.setState({selectedFeature:this.state.selectedFeature})}},{key:"changeFreehand",value:function(){this.setState({freehand:!this.state.freehand})}},{key:"changeJSON",value:function(e){this.setState({features:e.target.value})}}]),t}(c.Component)},"./src/Resources/public/js/components/c4g-popup-container.jsx":(e,t,o)=>{var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),s=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.PopupContainer=void 0;var r=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=n(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),i=n(o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=n(o("./node_modules/@babel/runtime/helpers/inherits.js")),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=s(e)&&"function"!=typeof e)return{default:e};var o=h(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o("./node_modules/react/index.js")),d=o("./src/Resources/public/js/c4g-maps-i18n.js"),m=o("./src/Resources/public/js/c4g-maps-utils.js");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(h=function(e){return e?o:t})(e)}function f(e,t,o){return t=(0,p.default)(t),(0,l.default)(e,g()?Reflect.construct(t,o||[],(0,p.default)(e).constructor):t.apply(e,o))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var v=c.default.lazy((function(){return o.e("src_Resources_public_js_components_c4g-titlebar_jsx").then(o.bind(o,"./src/Resources/public/js/components/c4g-titlebar.jsx"))}));t.PopupContainer=function(e){function t(e){var o;return(0,r.default)(this,t),(o=f(this,t,[e])).state={content:"",open:e.open,detailsOpen:!1,activeComps:e.activeComps,conststr:!1},e.hideOther((0,i.default)(o)),o.routeButtons="",o.language=(0,d.getLanguage)(o.props.mapData),o.close=o.close.bind((0,i.default)(o)),o.toggleDetails=o.toggleDetails.bind((0,i.default)(o)),o}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t=this.props.external?"c4g-popup-container ":"c4g-sideboard c4g-popup-container ";this.state.open?t+="c4g-open ":t+="c4g-close",this.props.alwaysExtended||this.state.detailsOpen?t+=" c4g-details-open":t+=" c4g-details-closed";var o="c4g-popup-header",n=c.default.createElement("div",null);return this.state.conststr&&(o+=" c4g-routing",n=c.default.createElement(this.state.conststr,{config:this.state.config})),this.state.content?c.default.createElement("div",{className:t},c.default.createElement("div",{className:"c4g-popup-wrapper"},c.default.createElement(c.Suspense,{fallback:c.default.createElement("div",null,"Loading...")},c.default.createElement(v,{wrapperClass:o,headerClass:"c4g-popup-header-headline",header:this.props.mapData.popupHeadline||"",closeBtnClass:"c4g-titlebar-close",closeBtnCb:function(){e.close(!0)},closeBtnTitle:this.language.CLOSE,detailBtnClass:"",detailBtnCb:""},n)),c.default.createElement("div",{className:"c4g-popup-content",dangerouslySetInnerHTML:{__html:this.state.content}}))):null}},{key:"setAddButtons",value:function(e,t){this.setState({config:t,conststr:e})}},{key:"setContent",value:function(e){this.setState({content:e})}},{key:"open",value:function(e){this.props.external||this.props.hideOther(),this.setState({open:!0,activeComps:e})}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.props.mapData.caching&&m.utils.storeValue("popupInfos",""),e&&this.state.activeComps)for(var t in this.state.activeComps)this.state.activeComps.hasOwnProperty(t)&&this.state.activeComps[t].setState({open:!0});var o={open:!1,content:this.props.external?"":this.state.content};this.setState(o)}},{key:"toggleDetails",value:function(){this.setState({detailsOpen:!this.state.detailsOpen})}},{key:"componentDidUpdate",value:function(e,t,o){t.open&&!this.state.open&&this.props.mapData.caching&&m.utils.storeValue("popupInfos","")}}]),t}(c.Component)},"./src/Resources/public/js/components/c4g-starboard-style.jsx":(e,t,o)=>{var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),s=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.C4gStarboardStyle=void 0;var r=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=n(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),i=n(o("./node_modules/@babel/runtime/helpers/inherits.js")),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=s(e)&&"function"!=typeof e)return{default:e};var o=f(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o("./node_modules/react/index.js")),c=n(o("./node_modules/ol/Feature.js")),d=o("./node_modules/ol/geom.js"),m=o("./src/Resources/public/js/c4g-maps-constant.js"),h=o("./src/Resources/public/js/c4g-maps-utils.js");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(f=function(e){return e?o:t})(e)}function g(e,t,o){return t=(0,p.default)(t),(0,l.default)(e,v()?Reflect.construct(t,o||[],(0,p.default)(e).constructor):t.apply(e,o))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}t.C4gStarboardStyle=function(e){function t(e){return(0,r.default)(this,t),g(this,t,[e])}return(0,i.default)(t,e),(0,a.default)(t,[{key:"enterEvent",value:function(e){13===e.which&&this.props.clickEvent(e)}},{key:"render",value:function(){var e=this,t=null,o=this.props.styleData.arrLocStyles[this.props.styleId],n=o.locStyleArr,s=o.style&&o.style(new c.default({geometry:new d.Point(0,0)}),"EPSG:4326")?o.style(new c.default({geometry:new d.Point(0,0)}),"EPSG:4326"):null,r=Array.isArray(s)?s[0]:s,a=n?n.styletype:"default",l=this.props.tooltip||"";if(!n||"cust_icon"!==a&&"cust_icon_svg"!==a&&"photo"!==a){var p,i,f;switch(a){case"point":p=m.cssConstants.STARBOARD_LOCSTYLE_POINT;break;case"square":p=m.cssConstants.STARBOARD_LOCSTYLE_SQUARE;break;case"star":p=m.cssConstants.STARBOARD_LOCSTYLE_STAR;break;case"x":p=m.cssConstants.STARBOARD_LOCSTYLE_X;break;case"cross":p=m.cssConstants.STARBOARD_LOCSTYLE_CROSS;break;case"triangle":p=m.cssConstants.STARBOARD_LOCSTYLE_TRIANGLE;break;default:p=m.cssConstants.STARBOARD_LOCSTYLE}r&&r.getFill()&&r.getStroke()?(i=r.getFill().getColor(),f=r.getStroke().getColor()):n&&n.fillcolor&&n.strokecolor&&(i=h.utils.getRgbaFromHexAndOpacity(n.fillcolor[0],n.fillcolor[1]),f=h.utils.getRgbaFromHexAndOpacity(n.strokecolor[0],n.strokecolor[1]));var g={"--var-color":i,"--var-bordercolor":f};t=this.props.clickEvent?u.default.createElement("span",{className:p,style:g,title:l,onMouseUp:function(t){return e.props.clickEvent(t)}}):u.default.createElement("span",{className:p,style:g,title:l})}else{var v,y=null;if(n.icon_src&&-1!==n.icon_src.indexOf(".")||n.svgSrc&&-1!==n.svgSrc.indexOf("."))v="cust_icon"===a||"photo"===a?n.icon_src:n.svgSrc,y=u.default.createElement("img",{src:v,style:{height:25,width:25}});else if(r){var C=r.getImage&&"function"==typeof r.getImage&&r.getImage()?r.getImage():null;if(!C||!C.getSrc())return null;y=u.default.createElement("img",{src:C.getSrc(),style:{height:25,width:25}})}t=this.props.clickEvent?u.default.createElement("span",{tabIndex:1,className:m.cssConstants.STARBOARD_LOCSTYLE,title:l,onKeyPress:function(t){return e.enterEvent(t)},onMouseUp:function(t){return e.props.clickEvent(t)}},y):u.default.createElement("span",{className:m.cssConstants.STARBOARD_LOCSTYLE,title:l},y)}return t}}]),t}(u.Component)}}]);
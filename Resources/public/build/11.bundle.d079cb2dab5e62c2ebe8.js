(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./Resources/public/js/components/c4g-infopage.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js")),s=g(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=g(n("./node_modules/babel-runtime/helpers/createClass.js")),l=g(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),c=g(n("./node_modules/babel-runtime/helpers/inherits.js")),r=n("./node_modules/react/index.js"),i=g(r),p=n("./Resources/public/js/components/c4g-titlebar.jsx"),u=n("./Resources/public/js/c4g-maps-i18n.js"),d=n("./node_modules/ol/control.js"),m=n("./Resources/public/js/c4g-maps-utils.js");function g(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(e){(0,s.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e)),a=n,c=document.createElement("div"),r=document.createElement("button");n.langConstants=(0,u.getLanguage)(e.mapController.data),r.title=n.langConstants.CTRL_INFOAREA,c.className="c4g-infopage-control ol-unselectable ol-control ",e.open?c.className+="c4g-open":c.className+="c4g-close",e.external&&(c.className+=" c4g-external"),c.appendChild(r),jQuery(c).on("click",(function(e){a.state.open?a.close():a.open()}));var i=e.mapController,p=new d.Control({element:c,target:e.target});return i.mapsControls.controls.infoPage=p,i.map.addControl(p),n.close=n.close.bind(n),n.open=n.open.bind(n),n.state={open:e.open||!1,control:p},n}return(0,c.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return this.state.open?(jQuery(this.state.control.element).addClass("c4g-open").removeClass("c4g-close"),jQuery(".c4g-infopage-container").addClass("c4g-open").removeClass("c4g-close")):(jQuery(this.state.control.element).removeClass("c4g-open").addClass("c4g-close"),jQuery(".c4g-infopage-container").removeClass("c4g-open").addClass("c4g-close")),i.default.createElement("div",{className:"c4g-infopage-wrapper"},i.default.createElement(p.Titlebar,{wrapperClass:"c4g-infopage-header",headerClass:"c4g-infopage-headline",header:this.langConstants.INFOPAGE,closeBtnClass:"c4g-titlebar-close",closeBtnCb:this.close,closeBtnTitle:this.langConstants.CLOSE}),i.default.createElement("div",{className:"c4g-infopage-content",dangerouslySetInnerHTML:{__html:this.props.infoContent}}))}},{key:"open",value:function(){this.setState({open:!0}),this.props.mapController.setOpenComponent(this)}},{key:"close",value:function(){this.setState({open:!1})}},{key:"componentDidUpdate",value:function(e,t,n){this.props.mapController.data.caching&&!this.state.open&&(m.utils.getValue("panel")===this.constructor.name&&m.utils.storeValue("panel",""))}}]),t}(r.Component);
/*
                      * This file is part of con4gis,
                      * the gis-kit for Contao CMS.
                      *
                      * @package   	con4gis
                      * @version        6
                      * @author  	    con4gis contributors (see "authors.txt")
                      * @license 	    LGPL-3.0-or-later
                      * @copyright 	KÃ¼stenschmiede GmbH Software & Design
                      * @link              https://www.con4gis.org
                      *
                      */t.default=C}}]);
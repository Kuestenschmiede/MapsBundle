(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./Resources/public/js/components/c4g-baselayerswitcher.jsx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a("./node_modules/react/index.js"),n=(r=l)&&r.__esModule?r:{default:r},s=a("./node_modules/ol/control.js"),c=a("./Resources/public/js/components/c4g-titlebar.jsx"),i=a("./Resources/public/js/c4g-maps-i18n.js"),u=a("./Resources/public/js/components/c4g-overlay-controls.jsx"),p=a("./Resources/public/js/c4g-maps-utils.js");
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=a,o=document.createElement("div"),l=document.createElement("button");a.langConstants=(0,i.getLanguage)(e.mapController.data),l.title=a.langConstants.CTRL_BASELAYER,o.className="c4g-baselayer-control ol-unselectable ol-control ",e.open?o.className+="c4g-open":o.className+="c4g-close",e.external&&(o.className+=" c4g-external"),o.appendChild(l),jQuery(o).on("click",(function(e){r.state.open?r.close():r.open()}));var n=e.mapController,c=new s.Control({element:o,target:e.target});n.mapsControls.controls.baselayerSwitcher=c,n.map.addControl(c),a.open=a.open.bind(a),a.close=a.close.bind(a);var u=!1;return e.mapController.proxy.baselayerLoaded?u=!0:(e.mapController.proxy.hook_baselayer_loaded=e.mapController.proxy.hook_baselayer_loaded||[],e.mapController.proxy.hook_baselayer_loaded.push((function(){r.setState({baselayerLoaded:!0,currentBaselayer:e.mapController.proxy.activeBaselayerId})}))),a.state={open:e.open||!1,className:e.className||"c4g-baselayerswitcher-panel",control:c,baselayerLoaded:u,currentBaselayer:0,baselayerFilter:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){}},{key:"getFilteredBaselayerIds",value:function(){var e=this.props.baselayerController.arrBaselayers,t=this.props.baselayerController.baselayerIds,a=[];if(""===this.state.baselayerFilter)a=t;else for(var r=0;r<t.length;r++){var o=e[t[r]];if(-1!==o.name.toLowerCase().indexOf(this.state.baselayerFilter.toLowerCase()))a.push(t[r]);else{var l=o.overlayController.arrOverlays,n=Object.keys(l);if(n.length>0)for(var s=0;s<n.length;s++)if(-1!==l[n[s]].name.toLowerCase().indexOf(this.state.baselayerFilter.toLowerCase())){a.push(t[r]);break}}}return a}},{key:"render",value:function(){var e=this,t=this.props.baselayerController.arrBaselayers,a=this.getFilteredBaselayerIds(),r="";this.props.mapController.data.baselayerswitcher.filter&&(r=n.default.createElement("div",{className:"c4g-baselayer-filter without-button"},n.default.createElement("input",{className:"c4g-baselayer-filter-field",type:"text",placeholder:"",onInput:function(){e.filterBaselayers(e.value)}}))),this.state.open?(jQuery(this.state.control.element).addClass("c4g-open").removeClass("c4g-close"),jQuery(".c4g-baselayer-container").addClass("c4g-open").removeClass("c4g-close")):(jQuery(this.state.control.element).removeClass("c4g-open").addClass("c4g-close"),jQuery(".c4g-baselayer-container").removeClass("c4g-open").addClass("c4g-close"));var o=this,l=this.props.mapController.data.baselayerswitcher.label?this.props.mapController.data.baselayerswitcher.label:"Basiskarten";return n.default.createElement("div",{className:"c4g-baselayer-wrapper"},n.default.createElement(c.Titlebar,{wrapperClass:"c4g-baselayer-header",headerClass:"c4g-baselayer-headline",header:l,closeBtnClass:"c4g-baselayer-close",closeBtnCb:this.close,closeBtnTitle:this.langConstants.CLOSE}),r,n.default.createElement("div",{className:"c4g-baselayertree-content"},n.default.createElement("ul",null,a.map((function(e,a){var r=t[e],l=o.state.currentBaselayer===e?"c4g-active":"c4g-inactive",s="";r.preview_image&&(s=n.default.createElement("img",{className:"c4g-baselayer-preview",src:r.preview_image,alt:""}));var c="";r.overlayController.arrOverlays.length>0&&o.state.currentBaselayer===e&&(c=n.default.createElement(u.OverlayControls,{overlayController:r.overlayController}));var i=r.name;return s&&(i=n.default.createElement("span",null,r.name)),n.default.createElement("li",{key:a,className:s?"with-image":"without-image"},n.default.createElement("a",{onMouseUp:function(t){t.preventDefault(),t.stopPropagation(),o.entryClick(e)},className:l},i,s),c)})))))}},{key:"filterBaselayers",value:function(e){var t=jQuery(".c4g-baselayer-filter-field").val();this.setState({baselayerFilter:t})}},{key:"entryClick",value:function(e){this.props.baselayerController.showBaseLayer(e),this.props.changeActiveLayers(e),this.setState({currentBaselayer:e})}},{key:"open",value:function(){this.setState({open:!0}),this.props.mapController.setOpenComponent(this)}},{key:"close",value:function(){this.setState({open:!1})}},{key:"componentDidUpdate",value:function(e,t,a){this.props.mapController.data.caching&&!this.state.open&&(p.utils.getValue("panel")===this.constructor.name&&p.utils.storeValue("panel",""))}}]),t}(l.Component);t.default=y},"./Resources/public/js/components/c4g-overlay-controls.jsx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayControls=void 0;var r,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a("./node_modules/react/index.js"),n=(r=l)&&r.__esModule?r:{default:r};
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.OverlayControls=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props.overlayController.arrOverlays;return n.default.createElement("ul",{className:"c4g-overlays"},t.map((function(t,a){return n.default.createElement("li",{key:a},n.default.createElement("a",null,n.default.createElement("span",null,t.name),n.default.createElement("input",{id:"c4g-overlay-toggle_"+a,className:"c4g-overlay-toggle",type:"range",onInput:function(){return t=a,r=jQuery("#c4g-overlay-toggle_"+t).val(),void e.props.overlayController.arrOverlays[t].changeOpacity(r);var t,r},min:0,max:100,step:10,defaultValue:t.opacity})))})))}}]),t}(l.Component)}}]);
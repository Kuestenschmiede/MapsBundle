(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./Resources/public/js/components/c4g-baselayerswitcher.jsx":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=h(t("./node_modules/babel-runtime/core-js/object/keys.js")),r=h(t("./node_modules/babel-runtime/core-js/object/get-prototype-of.js")),s=h(t("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=h(t("./node_modules/babel-runtime/helpers/createClass.js")),n=h(t("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),c=h(t("./node_modules/babel-runtime/helpers/inherits.js")),i=t("./node_modules/react/index.js"),u=h(i),p=t("./node_modules/ol/control.js"),d=t("./Resources/public/js/components/c4g-titlebar.jsx"),m=t("./Resources/public/js/c4g-maps-i18n.js"),y=t("./Resources/public/js/components/c4g-overlay-controls.jsx"),b=t("./Resources/public/js/c4g-maps-utils.js");function h(e){return e&&e.__esModule?e:{default:e}}
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package   	con4gis
 * @version        6
 * @author  	    con4gis contributors (see "authors.txt")
 * @license 	    LGPL-3.0-or-later
 * @copyright 	Küstenschmiede GmbH Software & Design
 * @link              https://www.con4gis.org
 *
 */var f=function(e){function a(e){(0,s.default)(this,a);var t=(0,n.default)(this,(a.__proto__||(0,r.default)(a)).call(this,e)),l=t,o=document.createElement("div"),c=document.createElement("button");t.langConstants=(0,m.getLanguage)(e.mapController.data),c.title=t.langConstants.CTRL_BASELAYER,o.className="c4g-baselayer-control ol-unselectable ol-control ",e.open?o.className+="c4g-open":o.className+="c4g-close",e.external&&(o.className+=" c4g-external"),o.appendChild(c),jQuery(o).on("click",(function(e){l.state.open?l.close():l.open()}));var i=e.mapController,u=new p.Control({element:o,target:e.target});i.mapsControls.controls.baselayerSwitcher=u,i.map.addControl(u),t.open=t.open.bind(t),t.close=t.close.bind(t);var d=!1;return e.mapController.proxy.baselayerLoaded?d=!0:(e.mapController.proxy.hook_baselayer_loaded=e.mapController.proxy.hook_baselayer_loaded||[],e.mapController.proxy.hook_baselayer_loaded.push((function(){l.setState({baselayerLoaded:!0,currentBaselayer:e.mapController.proxy.activeBaselayerId})}))),t.state={open:e.open||!1,className:e.className||"c4g-baselayerswitcher-panel",control:u,baselayerLoaded:d,currentBaselayer:0,baselayerFilter:""},t}return(0,c.default)(a,e),(0,o.default)(a,[{key:"componentDidMount",value:function(){}},{key:"getFilteredBaselayerIds",value:function(){var e=this.props.baselayerController.arrBaselayers,a=this.props.baselayerController.baselayerIds,t=[];if(""===this.state.baselayerFilter)t=a;else for(var r=0;r<a.length;r++){var s=e[a[r]];if(-1!==s.name.toLowerCase().indexOf(this.state.baselayerFilter.toLowerCase()))t.push(a[r]);else{var o=s.overlayController.arrOverlays,n=(0,l.default)(o);if(n.length>0)for(var c=0;c<n.length;c++)if(-1!==o[n[c]].name.toLowerCase().indexOf(this.state.baselayerFilter.toLowerCase())){t.push(a[r]);break}}}return t}},{key:"render",value:function(){var e=this,a=this.props.baselayerController.arrBaselayers,t=this.getFilteredBaselayerIds(),l="";this.props.mapController.data.baselayerswitcher.filter&&(l=u.default.createElement("div",{className:"c4g-baselayer-filter without-button"},u.default.createElement("input",{className:"c4g-baselayer-filter-field",type:"text",placeholder:"",onInput:function(){e.filterBaselayers(e.value)}}))),this.state.open?(jQuery(this.state.control.element).addClass("c4g-open").removeClass("c4g-close"),jQuery(".c4g-baselayer-container").addClass("c4g-open").removeClass("c4g-close")):(jQuery(this.state.control.element).removeClass("c4g-open").addClass("c4g-close"),jQuery(".c4g-baselayer-container").removeClass("c4g-open").addClass("c4g-close"));var r=this,s=this.props.mapController.data.baselayerswitcher.label?this.props.mapController.data.baselayerswitcher.label:"Basiskarten";return u.default.createElement("div",{className:"c4g-baselayer-wrapper"},u.default.createElement(d.Titlebar,{wrapperClass:"c4g-baselayer-header",headerClass:"c4g-baselayer-headline",header:s,closeBtnClass:"c4g-baselayer-close",closeBtnCb:this.close,closeBtnTitle:this.langConstants.CLOSE}),l,u.default.createElement("div",{className:"c4g-baselayertree-content"},u.default.createElement("ul",null,t.map((function(e,t){var l=a[e],s=r.state.currentBaselayer===e?"c4g-active":"c4g-inactive",o="";l.preview_image&&(o=u.default.createElement("img",{className:"c4g-baselayer-preview",src:l.preview_image,alt:""}));var n="";l.overlayController.arrOverlays.length>0&&r.state.currentBaselayer===e&&(n=u.default.createElement(y.OverlayControls,{overlayController:l.overlayController}));var c=l.name;return o&&(c=u.default.createElement("span",null,l.name)),u.default.createElement("li",{key:t,className:o?"with-image":"without-image"},u.default.createElement("a",{onMouseUp:function(a){a.preventDefault(),a.stopPropagation(),r.entryClick(e)},className:s},c,o),n)})))))}},{key:"filterBaselayers",value:function(e){var a=jQuery(".c4g-baselayer-filter-field").val();this.setState({baselayerFilter:a})}},{key:"entryClick",value:function(e){this.props.baselayerController.showBaseLayer(e),this.props.changeActiveLayers(e),this.setState({currentBaselayer:e})}},{key:"open",value:function(){this.setState({open:!0}),this.props.mapController.setOpenComponent(this)}},{key:"close",value:function(){this.setState({open:!1})}},{key:"componentDidUpdate",value:function(e,a,t){this.props.mapController.data.caching&&!this.state.open&&(b.utils.getValue("panel")===this.constructor.name&&b.utils.storeValue("panel",""))}}]),a}(i.Component);a.default=f},"./Resources/public/js/components/c4g-overlay-controls.jsx":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.OverlayControls=void 0;var l=u(t("./node_modules/babel-runtime/core-js/object/get-prototype-of.js")),r=u(t("./node_modules/babel-runtime/helpers/classCallCheck.js")),s=u(t("./node_modules/babel-runtime/helpers/createClass.js")),o=u(t("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),n=u(t("./node_modules/babel-runtime/helpers/inherits.js")),c=t("./node_modules/react/index.js"),i=u(c);function u(e){return e&&e.__esModule?e:{default:e}}a.OverlayControls=function(e){function a(e){return(0,r.default)(this,a),(0,o.default)(this,(a.__proto__||(0,l.default)(a)).call(this,e))}return(0,n.default)(a,e),(0,s.default)(a,[{key:"render",value:function(){var e=this,a=this.props.overlayController.arrOverlays;return i.default.createElement("ul",{className:"c4g-overlays"},a.map((function(a,t){return i.default.createElement("li",{key:t},i.default.createElement("a",null,i.default.createElement("span",null,a.name),i.default.createElement("input",{id:"c4g-overlay-toggle_"+t,className:"c4g-overlay-toggle",type:"range",onInput:function(){return a=t,l=jQuery("#c4g-overlay-toggle_"+a).val(),void e.props.overlayController.arrOverlays[a].changeOpacity(l);var a,l},min:0,max:100,step:10,defaultValue:a.opacity})))})))}}]),a}(c.Component);
/*
                      * This file is part of con4gis,
                      * the gis-kit for Contao CMS.
                      *
                      * @package   	con4gis
                      * @version        6
                      * @author  	    con4gis contributors (see "authors.txt")
                      * @license 	    LGPL-3.0-or-later
                      * @copyright 	Küstenschmiede GmbH Software & Design
                      * @link              https://www.con4gis.org
                      *
                      */}}]);
/*! For license information please see Resources_public_js_components_c4g-print_jsx.bundle.ba48a5b3f95f2cd2b2c1.js.LICENSE.txt */
(self.webpackChunkmapsbundle=self.webpackChunkmapsbundle||[]).push([["Resources_public_js_components_c4g-print_jsx"],{"./Resources/public/js/components/c4g-print.jsx":(e,t,n)=>{"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(n("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n("./node_modules/react/index.js")),f=n("./node_modules/ol/control.js"),d=n("./Resources/public/js/c4g-maps-constant.js"),p=n("./Resources/public/js/c4g-maps-i18n.js"),m=n("./node_modules/dom-to-image-more/dist/dom-to-image-more.min.js"),h=n("./node_modules/file-saver/dist/FileSaver.min.js");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var v=function(e){(0,s.default)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(t);if(n){var o=(0,l.default)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.default)(this,e)});function o(e){var t,n,a;(0,i.default)(this,o),t=r.call(this,e);var s=(0,p.getLanguage)(e.mapController.data),u=e.mapController.map,l=(e.mapController.data,{filter:function(e){return!e.className||(-1===e.className.indexOf("ol-control")||-1!==e.className.indexOf("ol-uncollapsible"))&&-1===e.className.indexOf("c4g-open")},bgcolor:"#000000"}),c=function(e){if(e.stopPropagation(),u.getTarget()){var t=document.getElementById(u.getTarget());(0,m.toBlob)(t,l).then((function(e){(0,h.saveAs)(e,"map.png")}))}};(n=document.createElement("div")).className=d.cssConstants.PRINT+" "+d.cssConstants.OL_UNSELECTABLE+" c4g-portside-control ol-control",(a=document.createElement("button")).title=s.CTRL_PRINT,a.className=d.cssConstants.PRINT,n.appendChild(a),a.addEventListener("click",c,{useCapture:!1,passive:!0}),a.addEventListener("touchstart",c,{useCapture:!1,passive:!0});var g=new f.Control({element:n,target:t.props.target}),v=e.mapController;return v.mapsControls.controls.print=g,v.map.addControl(g),t}return(0,a.default)(o,[{key:"render",value:function(){return null}}]),o}(c.Component);t.default=v},"./node_modules/dom-to-image-more/dist/dom-to-image-more.min.js":function(e){!function(t){"use strict";var n={escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:r,mimeType:function(e){return e=r(e).toLowerCase(),function(){var e="application/font-woff",t="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:t,jpeg:t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[e]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(n){for(var r=t.atob(e.toDataURL().split(",")[1]),o=r.length,i=new Uint8Array(o),a=0;a<o;a++)i[a]=r.charCodeAt(a);n(new Blob([i],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){return h.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime()),new Promise((function(t){var n,r,o=new XMLHttpRequest;function i(e){console.error(e),t("")}o.onreadystatechange=function(){var r;4===o.readyState&&(200===o.status?((r=new FileReader).onloadend=function(){var e=r.result.split(/,/)[1];t(e)},r.readAsDataURL(o.response)):n?t(n):i("cannot fetch resource: "+e+", status: "+o.status))},o.ontimeout=function(){n?t(n):i("timeout of 30000ms occured while fetching resource: "+e)},o.responseType="blob",o.timeout=3e4,h.impl.options.useCredentials&&(o.withCredentials=!0),o.open("GET",e,!0),o.send(),!h.impl.options.imagePlaceholder||(r=h.impl.options.imagePlaceholder.split(/,/))&&r[1]&&(n=r[1])}))},uid:function(){var e=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}}(),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return"data:,"===e?Promise.resolve():new Promise((function(t,n){var r=new Image;h.impl.options.useCredentials&&(r.crossOrigin="use-credentials"),r.onload=function(){t(r)},r.onerror=n,r.src=e}))},width:function(e){var t=o(e,"border-left-width"),n=o(e,"border-right-width");return e.scrollWidth+t+n},height:function(e){var t=o(e,"border-top-width"),n=o(e,"border-bottom-width");return e.scrollHeight+t+n}};function r(e){return(e=/\.([^\.\/]*?)(\?|$)/g.exec(e))?e[1]:""}function o(e,n){return n=t.getComputedStyle(e).getPropertyValue(n),parseFloat(n.replace("px",""))}var i,a={inlineAll:function(e,t,n){return s(e)?Promise.resolve(e).then(u).then((function(r){var o=Promise.resolve(e);return r.forEach((function(e){o=o.then((function(r){return l(r,e,t,n)}))})),o})):Promise.resolve(e)},shouldProcess:s,impl:{readUrls:u,inline:l}};function s(e){return-1!==e.search(i)}function u(e){for(var t,r=[];null!==(t=i.exec(e));)r.push(t[1]);return r.filter((function(e){return!n.isDataUrl(e)}))}function l(e,t,r,o){return Promise.resolve(t).then((function(e){return r?n.resolveUrl(e,r):e})).then(o||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t))})).then((function(r){return e.replace(new RegExp("(url\\(['\"]?)("+n.escape(t)+")(['\"]?\\))","g"),"$1"+r+"$3")}))}var c={resolveAll:function(){return f().then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:f}};function f(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){if(Object.getPrototypeOf(e).hasOwnProperty("cssRules"))try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return a.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return a.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}var d={inlineAll:function e(t){return t instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?a.inlineAll(t).then((function(t){e.style.setProperty("background",t,backgroud)})).then((function(){return e})):Promise.resolve(e)}(t).then((function(){return t instanceof HTMLImageElement?p(t).inline():Promise.all(n.asArray(t.childNodes).map((function(t){return e(t)})))})):Promise.resolve(t)},impl:{newImage:p}};function p(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e.src))})).then((function(t){return new Promise((function(n){e.onload=n,e.onerror=n,e.src=t}))}))}}}var m={imagePlaceholder:void 0,cacheBust:!(i=/url\(['"]?([^'"]+?)['"]?\)/g),useCredentials:!1},h={toSvg:g,toPng:function(e,t){return v(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return v(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return v(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return v(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data}))},toCanvas:function(e,t){return v(e,t||{})},impl:{fontFaces:c,images:d,util:n,inliner:a,options:{}}};function g(e,r){return function(e){void 0===e.imagePlaceholder?h.impl.options.imagePlaceholder=m.imagePlaceholder:h.impl.options.imagePlaceholder=e.imagePlaceholder,void 0===e.cacheBust?h.impl.options.cacheBust=m.cacheBust:h.impl.options.cacheBust=e.cacheBust,void 0===e.useCredentials?h.impl.options.useCredentials=m.useCredentials:h.impl.options.useCredentials=e.useCredentials}(r=r||{}),Promise.resolve(e).then((function(e){return function e(r,o,i){return i||!o||o(r)?Promise.resolve(r).then((function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(t){return function(t,r){return 0===(t=t.childNodes).length?Promise.resolve(r):function(t,n){var r=Promise.resolve();return n.forEach((function(n){r=r.then((function(){return e(n,o)})).then((function(e){e&&t.appendChild(e)}))})),r}(r,n.asArray(t)).then((function(){return r}))}(r,t)})).then((function(e){return function(e,r){return r instanceof Element?Promise.resolve().then((function(){!function(e,t){e.cssText?(t.cssText=e.cssText,function(e,t){t.font=e.font,t.fontFamily=e.fontFamily,t.fontFeatureSettings=e.fontFeatureSettings,t.fontKerning=e.fontKerning,t.fontSize=e.fontSize,t.fontStretch=e.fontStretch,t.fontStyle=e.fontStyle,t.fontVariant=e.fontVariant,t.fontVariantCaps=e.fontVariantCaps,t.fontVariantEastAsian=e.fontVariantEastAsian,t.fontVariantLigatures=e.fontVariantLigatures,t.fontVariantNumeric=e.fontVariantNumeric,t.fontVariationSettings=e.fontVariationSettings,t.fontWeight=e.fontWeight}(e,t)):function(e,r){n.asArray(e).forEach((function(t){r.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})),i&&(["inset-block","inset-block-start","inset-block-end"].forEach((e=>t.removeProperty(e))),["left","right","top","bottom"].forEach((e=>{t.getPropertyValue(e)&&t.setProperty(e,"0px")})))}(e,t)}(function(e,n){for(var r=t.getComputedStyle(e),o=e.style,i=0;i<r.length;i++){var a=r[i],s=r.getPropertyValue(a);o.getPropertyValue(a).length||(o.setProperty(a,n?"initial":"unset"),r.getPropertyValue(a)!==s?o.setProperty(a,s):o.removeProperty(a))}return o}(e,i),r.style)})).then((function(){[":before",":after"].forEach((function(o){!function(o){var i,a=t.getComputedStyle(e,o),s=a.getPropertyValue("content");""!==s&&"none"!==s&&(i=n.uid(),(s=r.getAttribute("class"))&&r.setAttribute("class",s+" "+i),(s=document.createElement("style")).appendChild(function(){var e="."+i+":"+o,t=(a.cssText?function(){return a.cssText+" content: "+a.getPropertyValue("content")+";"}:function(){return n.asArray(a).map((function(e){return e+": "+a.getPropertyValue(e)+(a.getPropertyPriority(e)?" !important":"")})).join("; ")+";"})();return document.createTextNode(e+"{"+t+"}")}()),r.appendChild(s))}(o)}))})).then((function(){e instanceof HTMLTextAreaElement&&(r.innerHTML=e.value),e instanceof HTMLInputElement&&r.setAttribute("value",e.value)})).then((function(){r instanceof SVGElement&&(r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r instanceof SVGRectElement&&["width","height"].forEach((function(e){var t=r.getAttribute(e);t&&r.style.setProperty(e,t)})))})).then((function(){return r})):r}(r,e)})):Promise.resolve()}(e,r.filter,!0)})).then(y).then(b).then((function(e){r.bgcolor&&(e.style.backgroundColor=r.bgcolor),r.width&&(e.style.width=r.width+"px"),r.height&&(e.style.height=r.height+"px"),r.style&&Object.keys(r.style).forEach((function(t){e.style[t]=r.style[t]}));var t=null;return"function"==typeof r.onclone&&(t=r.onclone(e)),Promise.resolve(t).then((function(){return e}))})).then((function(t){return t=t,o=r.width||n.width(e),i=r.height||n.height(e),Promise.resolve(t).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(n.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+o+'" height="'+i+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}));var o,i}))}function v(e,t){return g(e,t).then(n.makeImage).then(n.delay(100)).then((function(r){var o="number"!=typeof t.scale?1:t.scale,i=function(e,r){var o=document.createElement("canvas");return o.width=(t.width||n.width(e))*r,o.height=(t.height||n.height(e))*r,t.bgcolor&&((r=o.getContext("2d")).fillStyle=t.bgcolor,r.fillRect(0,0,o.width,o.height)),o}(e,o),a=i.getContext("2d");return r&&(a.scale(o,o),a.drawImage(r,0,0)),i}))}function y(e){return c.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function b(e){return d.inlineAll(e).then((function(){return e}))}e.exports=h}(this)},"./node_modules/file-saver/dist/FileSaver.min.js":function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=i.URL||i.webkitURL,u=document.createElement("a");n=n||e.name||"download",u.download=n,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?o(u):r(u.href)?t(e,n,a):o(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(r(e))t(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,u=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&u||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var f=i.URL||i.webkitURL,d=f.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,[]):r)||(e.exports=o)}}]);
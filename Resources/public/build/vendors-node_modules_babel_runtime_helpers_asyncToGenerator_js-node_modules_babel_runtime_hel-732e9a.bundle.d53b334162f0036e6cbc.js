(self.webpackChunkmapsbundle=self.webpackChunkmapsbundle||[]).push([["vendors-node_modules_babel_runtime_helpers_asyncToGenerator_js-node_modules_babel_runtime_hel-732e9a"],{"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":t=>{function e(t,e,r,i,n,o,s){try{var a=t[o](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(i,n)}t.exports=function(t){return function(){var r=this,i=arguments;return new Promise((function(n,o){var s=t.apply(r,i);function a(t){e(s,n,o,a,u,"next",t)}function u(t){e(s,n,o,a,u,"throw",t)}a(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/classCallCheck.js":t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/createClass.js":t=>{function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/defineProperty.js":t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/inherits.js":(t,e,r)=>{var i=r("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":t=>{t.exports=function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var i,n,o=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(i=r.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(t){a=!0,n=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw n}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":(t,e,r)=>{var i=r("./node_modules/@babel/runtime/helpers/typeof.js").default,n=r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?n(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":t=>{function e(r,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,e(r,i)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/slicedToArray.js":(t,e,r)=>{var i=r("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),n=r("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=r("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),s=r("./node_modules/@babel/runtime/helpers/nonIterableRest.js");t.exports=function(t,e){return i(t)||n(t,e)||o(t,e)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":(t,e,r)=>{var i=r("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/regenerator/index.js":(t,e,r)=>{t.exports=r("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/@mapbox/geojson-area/index.js":(t,e,r)=>{var i=r("./node_modules/wgs84/index.js");function n(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(o(t[r]))}return e}function o(t){var e,r,n,o,a,u,l=0,h=t.length;if(h>2){for(u=0;u<h;u++)u===h-2?(n=h-2,o=h-1,a=0):u===h-1?(n=h-1,o=0,a=1):(n=u,o=u+1,a=u+2),e=t[n],r=t[o],l+=(s(t[a][0])-s(e[0]))*Math.sin(s(r[1]));l=l*i.RADIUS*i.RADIUS/2}return l}function s(t){return t*Math.PI/180}t.exports.geometry=function t(e){var r,i=0;switch(e.type){case"Polygon":return n(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)i+=n(e.coordinates[r]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<e.geometries.length;r++)i+=t(e.geometries[r]);return i}},t.exports.ring=o},"./node_modules/@mapbox/geojson-rewind/index.js":(t,e,r)=>{var i=r("./node_modules/@mapbox/geojson-area/index.js");function n(t,e){return function(r){return t(r,e)}}function o(t,e){e=!!e,t[0]=s(t[0],e);for(var r=1;r<t.length;r++)t[r]=s(t[r],!e);return t}function s(t,e){return function(t){return i.ring(t)>=0}(t)===e?t:t.reverse()}t.exports=function t(e,r){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(n(t,r)),e;case"GeometryCollection":return e.geometries=e.geometries.map(n(t,r)),e;case"Feature":return e.geometry=t(e.geometry,r),e;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=o(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(n(o,e))),t}(e,r);default:return e}}},"./node_modules/ol-cesium/src/olcs/OLCesium.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>ut});var i=r("./node_modules/ol/geom/Point.js"),n=r("./node_modules/ol/proj.js");const o={};function s(t,e,r){return t.on(e,r)}o.obj=function(t){return t},o.supportsImageRenderingPixelatedResult_=void 0,o.imageRenderingValueResult_=void 0,o.supportsImageRenderingPixelated=function(){if(void 0===o.supportsImageRenderingPixelatedResult_){const t=document.createElement("canvas");t.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;");const e=t.style.imageRendering;o.supportsImageRenderingPixelatedResult_=!!e,o.supportsImageRenderingPixelatedResult_&&(o.imageRenderingValueResult_=e)}return o.supportsImageRenderingPixelatedResult_},o.imageRenderingValue=function(){return o.supportsImageRenderingPixelated(),o.imageRenderingValueResult_||""},o.getSourceProjection=function(t){return t.get("olcs.projection")||t.getProjection()};let a=0;function u(t){return t.olcs_uid||(t.olcs_uid=++a)}function l(t){const e=Cesium.GroundPolylinePrimitive;return e&&e.isSupported(t)}const h=o;var c=r("./node_modules/ol/easing.js"),p=r("./node_modules/ol/layer/Tile.js"),f=r("./node_modules/ol/layer/Image.js"),d=r("./node_modules/ol/source/ImageStatic.js"),g=r("./node_modules/ol/source/ImageWMS.js"),m=r("./node_modules/ol/source/TileImage.js"),_=r("./node_modules/ol/source/TileWMS.js"),y=r("./node_modules/ol/source/VectorTile.js"),v=r("./node_modules/ol/source/Image.js"),b=r("./node_modules/ol/source.js");const w=function(){const t=new b.Tile({projection:"EPSG:3857",wrapX:!0}).getTileCoordForTileUrlFunction([6,-31,22]);return t&&33===t[1]&&22===t[2]}();class M{constructor(t,e,r){this.source_=e,this.projection_=null,this.fallbackProj_=r||null,this.ready_=!1,this.tilingScheme_=null,this.rectangle_=null,this.map_=t,this.shouldRequestNextLevel=!1;const i=this.source_.get("olcs.proxy");i&&("function"==typeof i?this.proxy_={getURL:i}:"string"==typeof i&&(this.proxy_=new Cesium.DefaultProxy(i))),this.errorEvent_=new Cesium.Event,this.emptyCanvas_=document.createElement("canvas"),this.emptyCanvas_.width=1,this.emptyCanvas_.height=1,this.source_.on("change",(t=>{this.handleSourceChanged_()})),this.handleSourceChanged_()}handleSourceChanged_(t){if(!this.ready_&&"ready"==this.source_.getState()){this.projection_=h.getSourceProjection(this.source_)||this.fallbackProj_;const t={numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1};if(null!==this.source_.tileGrid&&this.source_.tileGrid.forEachTileCoord(this.projection_.getExtent(),0,(([e,r,i])=>{t.numberOfLevelZeroTilesX=r+1,t.numberOfLevelZeroTilesY=i+1})),this.projection_==(0,n.get)("EPSG:4326"))this.shouldRequestNextLevel=1===t.numberOfLevelZeroTilesX&&1===t.numberOfLevelZeroTilesY,this.tilingScheme_=new Cesium.GeographicTilingScheme(t);else{if(this.projection_!=(0,n.get)("EPSG:3857"))return;this.shouldRequestNextLevel=!1,this.tilingScheme_=new Cesium.WebMercatorTilingScheme(t)}this.rectangle_=this.tilingScheme_.rectangle,this.ready_=!0}}getTileCredits(t,e,r){const i=this.source_.getAttributions();if(!i)return[];const n=this.map_.getView().calculateExtent(this.map_.getSize()),o=this.map_.getView().getCenter();return k(i,this.shouldRequestNextLevel?r+1:r,o,n)}requestImage(t,e,r){const i=this.source_.getTileUrlFunction();if(i&&this.projection_){const n=this.shouldRequestNextLevel?r+1:r;let o=e;w||(o=-e-1);let s=i.call(this.source_,[n,t,o],1,this.projection_);return this.proxy_&&(s=this.proxy_.getURL(s)),s?Cesium.ImageryProvider.loadImage(this,s):this.emptyCanvas_}return this.emptyCanvas_}}Object.defineProperties(M.prototype,{ready:{get:function(){return this.ready_}},rectangle:{get:function(){return this.rectangle_}},tileWidth:{get:function(){const t=this.source_.getTileGrid();return t?Array.isArray(t.getTileSize(0))?t.getTileSize(0)[0]:t.getTileSize(0):256}},tileHeight:{get:function(){const t=this.source_.getTileGrid();return t?Array.isArray(t.getTileSize(0))?t.getTileSize(0)[1]:t.getTileSize(0):256}},maximumLevel:{get:function(){const t=this.source_.getTileGrid();return t?t.getMaxZoom():18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this.tilingScheme_}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this.errorEvent_}},proxy:{get:function(){return this.proxy_}},hasAlphaChannel:{get:function(){return!0}},pickFeatures:{get:function(){}}});const S=M;var C=r("./node_modules/ol/format/MVT.js"),P=r("./node_modules/ol/style/Style.js"),E=r("./node_modules/ol/style/Stroke.js"),O=r("./node_modules/ol/render.js"),x=r("./node_modules/ol/util.js"),A=r("./node_modules/ol/structs/LRUCache.js"),R=r("./node_modules/ol/tilegrid.js"),I=r("./node_modules/ol/tileurlfunction.js");const T=new C.Z,L=[new P.ZP({stroke:new E.Z({color:"blue",width:2})})];class N{constructor(t){this.urls=t.urls,this.ready=!0,this.readyPromise=Promise.resolve(!0),this.tileWidth=256,this.tileHeight=256,this.maximumLevel=t.maximumLevel||20,this.minimumLevel=t.minimumLevel||0,this.tilingScheme=new Cesium.WebMercatorTilingScheme,this.rectangle=t.rectangle||this.tilingScheme.rectangle,this.errorEvent=new Cesium.Event,this.credit=t.credit,this.hasAlphaChannel=!0,this.styleFunction_=t.styleFunction||(()=>L),this.projection_=(0,n.get)("EPSG:3857"),this.emptyCanvas_=document.createElement("canvas"),this.emptyCanvas_.width=1,this.emptyCanvas_.height=1,this.tileRectangle_=new Cesium.Rectangle;const e=void 0!==t.cacheSize?t.cacheSize:50;this.tileCache=new A.Z(e),this.featureCache=t.featureCache||new A.Z(e);const r=(0,R.getForProjection)(this.projection_);this.tileFunction_=(0,I.uR)(this.urls,r)}getTileCredits(){return[]}pickFeatures(){}getTileFeatures(t,e,r){const i=this.getCacheKey_(t,e,r);let n;if(this.featureCache.containsKey(i)&&(n=this.featureCache.get(i)),!n){const o=this.getUrl_(t,e,r);if(n=fetch(o).then((t=>t.ok?t:Promise.reject(t))).then((t=>t.arrayBuffer())).then((t=>this.readFeaturesFromBuffer(t))),this.featureCache.set(i,n),this.featureCache.getCount()>2*this.featureCache.highWaterMark)for(;this.featureCache.canExpireCache();)this.featureCache.pop()}return n}readFeaturesFromBuffer(t){let e;x.q4<="6.4.4"&&(e={extent:[0,0,4096,4096],dataProjection:T.dataProjection,featureProjection:T.dataProjection});const r=T.readFeatures(t,e),i=this.tileWidth/4096;return r.forEach((t=>{const e=t.getFlatCoordinates();let r=!1;for(let t=0;t<e.length;++t)e[t]*=i,r&&(e[t]=this.tileWidth-e[t]),x.q4<="6.4.4"&&(r=!r)})),r}getUrl_(t,e,r){return this.tileFunction_([t,e,r])}getCacheKey_(t,e,r){return`${t}_${e}_${r}`}requestImage(t,e,r,i){if(r<this.minimumLevel)return this.emptyCanvas_;try{const i=this.getCacheKey_(r,t,e);let n;if(this.tileCache.containsKey(i)&&(n=this.tileCache.get(i)),!n&&(n=this.getTileFeatures(r,t,e).then((i=>{this.tilingScheme.tileXYToNativeRectangle(t,e,r,this.tileRectangle_);const n=(this.tileRectangle_.east-this.tileRectangle_.west)/this.tileWidth;return this.rasterizeFeatures(i,this.styleFunction_,n)})),this.tileCache.set(i,n),this.tileCache.getCount()>2*this.tileCache.highWaterMark))for(;this.tileCache.canExpireCache();)this.tileCache.pop();return n}catch(t){console.trace(t),this.raiseEvent("could not render pbf to tile",t)}}rasterizeFeatures(t,e,r){const i=document.createElement("canvas"),n=(0,O.toContext)(i.getContext("2d"),{size:[this.tileWidth,this.tileHeight]});return t.forEach((t=>{const i=e(t,r);i&&i.forEach((e=>{n.setStyle(e),n.drawGeometry(t)}))})),i}}var j=r("./node_modules/ol/layer/VectorTile.js"),F=r("./node_modules/ol/extent.js");const G={};function k(t,e,r,i){if(!t)return[];let n=t({viewState:{zoom:e,center:r},extent:i});return Array.isArray(n)||(n=[n]),n.map((t=>new Cesium.Credit(t,!0)))}G.computePixelSizeAtCoordinate=function(t,e){const r=t.camera,i=t.canvas,n=r.frustum,o=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(r.position,e,new Cesium.Cartesian3));return n.getPixelDimensions(i.clientWidth,i.clientHeight,o,t.pixelRatio,new Cesium.Cartesian2)},G.computeBoundingBoxAtTarget=function(t,e,r){const i=G.computePixelSizeAtCoordinate(t,e),n=Cesium.Transforms.eastNorthUpToFixedFrame(e),o=Cesium.Matrix4.multiplyByPoint(n,new Cesium.Cartesian3(-i.x*r,-i.y*r,0),new Cesium.Cartesian3),s=Cesium.Matrix4.multiplyByPoint(n,new Cesium.Cartesian3(i.x*r,i.y*r,0),new Cesium.Cartesian3);return Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray([o,s])},G.applyHeightOffsetToGeometry=function(t,e){t.applyTransform(((t,r,i)=>{if(console.assert(t===r),void 0!==i&&i>=3)for(let t=0;t<r.length;t+=i)r[t+2]=r[t+2]+e;return r}))},G.createMatrixAtCoordinates=function(t,e=0,r=Cesium.Cartesian3.ZERO,i=new Cesium.Cartesian3(1,1,1)){const n=G.ol4326CoordinateToCesiumCartesian(t),o=Cesium.Transforms.eastNorthUpToFixedFrame(n),s=Cesium.Quaternion.fromAxisAngle(Cesium.Cartesian3.UNIT_Z,-e),a=Cesium.Matrix4.fromTranslationQuaternionRotationScale(r,s,i);return Cesium.Matrix4.multiply(o,a,new Cesium.Matrix4)},G.rotateAroundAxis=function(t,e,r,i,n){const o=Cesium.Math.clamp,s=Cesium.defaultValue,a=n||{},u=s(a.duration,500),l=s(a.easing,c.linear),h=a.callback;let p=0;const f=new Cesium.Matrix4,d=Date.now(),g=function(){const n=Date.now(),s=l(o((n-d)/u,0,1));console.assert(s>=p),t.transform.clone(f);const a=(s-p)*e;p=s,t.lookAtTransform(i),t.rotate(r,a),t.lookAtTransform(f),s<1?window.requestAnimationFrame(g):h&&h()};window.requestAnimationFrame(g)},G.setHeadingUsingBottomCenter=function(t,e,r,i){const n=t.camera,o=G.computeAngleToZenith(t,r),s=n.right,a=Cesium.Quaternion.fromAxisAngle(s,o),u=Cesium.Matrix3.fromQuaternion(a),l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(n.position,r,l);const h=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(u,l,h),Cesium.Cartesian3.add(h,r,h);const c=Cesium.Matrix4.fromTranslation(h);(0,G.rotateAroundAxis)(n,e,h,c,i)},G.pickOnTerrainOrEllipsoid=function(t,e){const r=t.camera.getPickRay(e);return t.globe.pick(r,t)||t.camera.pickEllipsoid(e)},G.pickBottomPoint=function(t){const e=t.canvas,r=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight);return G.pickOnTerrainOrEllipsoid(t,r)},G.pickCenterPoint=function(t){const e=t.canvas,r=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return G.pickOnTerrainOrEllipsoid(t,r)},G.computeSignedTiltAngleOnGlobe=function(t){const e=t.camera,r=new Cesium.Ray(e.position,e.direction);let i=t.globe.pick(r,t);if(!i){const t=Cesium.Ellipsoid.WGS84,e=Cesium.IntersectionTests.rayEllipsoid(r,t);e&&(i=Cesium.Ray.getPoint(r,e.start))}if(!i)return;const n=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(i,n);const o=(0,G.signedAngleBetween)(e.direction,n,e.right)-Math.PI;return Cesium.Math.convertLongitudeRange(o)},G.bottomFovRay=function(t){const e=t.camera,r=e.frustum.fovy/2,i=e.direction,n=Cesium.Quaternion.fromAxisAngle(e.right,r),o=Cesium.Matrix3.fromQuaternion(n),s=new Cesium.Cartesian3;return Cesium.Matrix3.multiplyByVector(o,i,s),new Cesium.Ray(e.position,s)},G.signedAngleBetween=function(t,e,r){const i=new Cesium.Cartesian3,n=new Cesium.Cartesian3,o=new Cesium.Cartesian3;Cesium.Cartesian3.normalize(t,i),Cesium.Cartesian3.normalize(e,n),Cesium.Cartesian3.cross(i,n,o);const s=Cesium.Cartesian3.dot(i,n),a=Cesium.Cartesian3.magnitude(o),u=Cesium.Cartesian3.dot(r,o),l=Math.atan2(a,s);return u>=0?l:-l},G.computeAngleToZenith=function(t,e){const r=t.camera,i=r.frustum.fovy/2,n=G.bottomFovRay(t),o=Cesium.Cartesian3.clone(n.direction);Cesium.Cartesian3.negate(o,o);const s=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(e,s);const a=new Cesium.Cartesian3;return Cesium.Cartesian3.negate(r.right,a),G.signedAngleBetween(s,o,a)+i},G.extentToRectangle=function(t,e){if(t&&e){const r=(0,n.transformExtent)(t,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(r[0],r[1],r[2],r[3])}return null},G.sourceToImageryProvider=function(t,e,r,i){const n=e.get("olcs_skip");if(n)return null;let o=null;if(e instanceof g.Z&&e.getUrl()&&e.getImageLoadFunction()===v.r6){const t={"olcs.proxy":e.get("olcs.proxy"),"olcs.extent":e.get("olcs.extent"),"olcs.projection":e.get("olcs.projection"),"olcs.imagesource":e};(e=new _.Z({url:e.getUrl(),attributions:e.getAttributions(),projection:e.getProjection(),params:e.getParams()})).setProperties(t)}if(e instanceof m.Z){let i=h.getSourceProjection(e);if(i||(i=r),!G.isCesiumProjection(i))return null;o=new S(t,e,r)}else{if(!(e instanceof d.Z)){if(e instanceof y.default){let t=h.getSourceProjection(e);if(t||(t=r),!1===n){const r=t.getCode().split(":")[1],n=e.urls.map((t=>t.replace(r,"3857"))),s=i.getExtent(),a=G.extentToRectangle(s,t),u=e.get("olcs_minimumLevel"),l=e.getAttributions(),h=i.getStyleFunction();let c;return s&&l&&(c=k(l,0,(0,F.getCenter)(s),s)[0]),o=new N({credit:c,rectangle:a,minimumLevel:u,styleFunction:h,urls:n}),o}return null}return null}{let t=h.getSourceProjection(e);if(t||(t=r),!G.isCesiumProjection(t))return null;o=new Cesium.SingleTileImageryProvider({url:e.getUrl(),rectangle:new Cesium.Rectangle.fromDegrees(e.getImageExtent()[0],e.getImageExtent()[1],e.getImageExtent()[2],e.getImageExtent()[3])})}}return o},G.tileLayerToImageryLayer=function(t,e,r){if(!(e instanceof p.default||e instanceof f.Z||e instanceof j.default))return null;const i=e.getSource();if(!i)return null;let n=i.get("olcs_provider");if(n||(n=this.sourceToImageryProvider(t,i,r,e)),!n)return null;const o={},s=e.get("olcs.extent")||e.getExtent();return s&&(o.rectangle=G.extentToRectangle(s,r)),new Cesium.ImageryLayer(n,o)},G.updateCesiumLayerProperties=function(t,e){let r=1,i=!0;[t.layer].concat(t.parents).forEach((t=>{const e=t.getOpacity();void 0!==e&&(r*=e);const n=t.getVisible();void 0!==n&&(i&=n)})),e.alpha=r,e.show=i},G.ol4326CoordinateToCesiumCartesian=function(t){const e=t;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])},G.ol4326CoordinateArrayToCsCartesians=function(t){console.assert(null!==t);const e=G.ol4326CoordinateToCesiumCartesian,r=[];for(let i=0;i<t.length;++i)r.push(e(t[i]));return r},G.olGeometryCloneTo4326=function(t,e){console.assert(e);const r=(0,n.get)("EPSG:4326"),i=(0,n.get)(e);if(i!==r){const e=t.getProperties();(t=t.clone()).transform(i,r),t.setProperties(e)}return t},G.convertColorToCesium=function(t){if(t=t||"black",Array.isArray(t))return new Cesium.Color(Cesium.Color.byteToFloat(t[0]),Cesium.Color.byteToFloat(t[1]),Cesium.Color.byteToFloat(t[2]),t[3]);if("string"==typeof t)return Cesium.Color.fromCssColorString(t);if(t instanceof CanvasPattern||t instanceof CanvasGradient){const e=document.createElement("canvas"),r=e.getContext("2d");return e.width=e.height=256,r.fillStyle=t,r.fillRect(0,0,e.width,e.height),new Cesium.ImageMaterialProperty({image:e})}console.assert(!1,"impossible")},G.convertUrlToCesium=function(t){let e="";const r=/\{(\d|[a-z])-(\d|[a-z])\}/,i=r.exec(t);if(i){t=t.replace(r,"{s}");const n=i[1].charCodeAt(0),o=i[2].charCodeAt(0);let s;for(s=n;s<=o;++s)e+=String.fromCharCode(s)}return{url:t,subdomains:e}},G.resetToNorthZenith=function(t,e){return new Promise(((r,i)=>{const n=e.camera,o=G.pickBottomPoint(e);if(!o)return void i("Could not get bottom pivot");const s=t.getView().getRotation();if(void 0===s)return void i("The view is not initialized");const a=G.computeAngleToZenith(e,o);G.setHeadingUsingBottomCenter(e,s,o);const u=Cesium.Matrix4.fromTranslation(o),l=n.right,h={callback:()=>{const e=t.getView();G.normalizeView(e),r()}};G.rotateAroundAxis(n,-a,l,u,h)}))},G.rotateAroundBottomCenter=function(t,e){return new Promise(((r,i)=>{const n=t.camera,o=G.pickBottomPoint(t);if(!o)return void i("could not get bottom pivot");const s={callback:r},a=Cesium.Matrix4.fromTranslation(o),u=n.right;(0,G.rotateAroundAxis)(n,-e,u,a,s)}))},G.normalizeView=function(t,e=0){const r=t.getResolution();t.setRotation(e),t.constrainResolution?t.setResolution(t.constrainResolution(r)):t.setResolution(t.getConstrainedResolution(r))},G.isCesiumProjection=function(t){const e=t===(0,n.get)("EPSG:3857"),r=t===(0,n.get)("EPSG:4326");return e||r};const Z=G;var D=r("./node_modules/ol/Observable.js");function z(t){return 180*t/Math.PI}function B(t){return t*Math.PI/180}class U{constructor(t,e){this.scene_=t,this.cam_=t.camera,this.map_=e,this.view_=null,this.viewListenKey_=null,this.toLonLat_=U.identityProjection,this.fromLonLat_=U.identityProjection,this.tilt_=0,this.distance_=0,this.lastCameraViewMatrix_=null,this.viewUpdateInProgress_=!1,this.map_.on("change:view",(t=>{this.setView_(this.map_.getView())})),this.setView_(this.map_.getView())}static identityProjection(t,e,r){const i=r||t.length;if(e)for(let r=0;r<i;++r)e[r]=t[r];return t}setView_(t){if(this.view_&&((0,D.unByKey)(this.viewListenKey_),this.viewListenKey_=null),this.view_=t,t){const e=(0,n.getTransform)(t.getProjection(),"EPSG:4326"),r=(0,n.getTransform)("EPSG:4326",t.getProjection());console.assert(e&&r),this.toLonLat_=e,this.fromLonLat_=r,this.viewListenKey_=t.on("propertychange",(t=>this.handleViewEvent_(t))),this.readFromView()}else this.toLonLat_=U.identityProjection,this.fromLonLat_=U.identityProjection}handleViewEvent_(t){this.viewUpdateInProgress_||this.readFromView()}setHeading(t){this.view_&&this.view_.setRotation(t)}getHeading(){if(this.view_)return this.view_.getRotation()||0}setTilt(t){this.tilt_=t,this.updateCamera_()}getTilt(){return this.tilt_}setDistance(t){this.distance_=t,this.updateCamera_(),this.updateView()}getDistance(){return this.distance_}setCenter(t){this.view_&&this.view_.setCenter(t)}getCenter(){if(this.view_)return this.view_.getCenter()}setPosition(t){if(!this.toLonLat_)return;const e=this.toLonLat_(t);console.assert(e);const r=new Cesium.Cartographic(B(e[0]),B(e[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}),this.updateView()}getPosition(){if(!this.fromLonLat_)return;const t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position),e=this.fromLonLat_([z(t.longitude),z(t.latitude)]);return console.assert(e),e}setAltitude(t){const e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);e.height=t,this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(e),this.updateView()}getAltitude(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height}updateCamera_(){if(!this.view_||!this.toLonLat_)return;const t=this.view_.getCenter();if(!t)return;const e=this.toLonLat_(t);console.assert(e);const r=new Cesium.Cartographic(B(e[0]),B(e[1]));if(this.scene_.globe){const t=this.scene_.globe.getHeight(r);r.height=t||0}const i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r),n={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:i,orientation:n}),this.cam_.moveBackward(this.distance_),this.checkCameraChange(!0)}readFromView(){if(!this.view_||!this.toLonLat_)return;const t=this.view_.getCenter();if(null==t)return;const e=this.toLonLat_(t);console.assert(e);const r=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(r||0,B(e[1])),this.updateCamera_()}updateView(){if(!this.view_||!this.fromLonLat_)return;this.viewUpdateInProgress_=!0;const t=Cesium.Ellipsoid.WGS84,e=this.scene_,r=Z.pickCenterPoint(e);let i=r;if(!i){const t=e.globe,r=this.cam_.positionCartographic.clone(),n=t.getHeight(r);r.height=n||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(r)}this.distance_=Cesium.Cartesian3.distance(i,this.cam_.position);const n=t.cartesianToCartographic(i);if(this.view_.setCenter(this.fromLonLat_([z(n.longitude),z(n.latitude)])),this.view_.setResolution(this.calcResolutionForDistance(this.distance_,n?n.latitude:0)),r){const e=this.cam_.position,i=new Cesium.Cartesian3;t.geocentricSurfaceNormal(r,i);const n=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(e,r,n),Cesium.Cartesian3.normalize(n,n);const o=this.cam_.up,s=this.cam_.right,a=new Cesium.Cartesian3(-r.y,r.x,0),u=Cesium.Cartesian3.angleBetween(s,a),l=Cesium.Cartesian3.cross(r,o,new Cesium.Cartesian3).z;this.view_.setRotation(l<0?u:-u);const h=Math.acos(Cesium.Cartesian3.dot(i,n));this.tilt_=isNaN(h)?0:h}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;this.viewUpdateInProgress_=!1}checkCameraChange(t){const e=this.lastCameraViewMatrix_,r=this.cam_.viewMatrix;e&&Cesium.Matrix4.equalsEpsilon(e,r,1e-5)||(this.lastCameraViewMatrix_=r.clone(),!0!==t&&this.updateView())}calcDistanceForResolution(t,e){return function(t,e,r,i){const n=r.canvas,o=r.camera.frustum.fovy;console.assert(!isNaN(o));const s=i.getMetersPerUnit();return t*n.clientHeight*s*Math.cos(Math.abs(e))/2/Math.tan(o/2)}(t,e,this.scene_,this.view_.getProjection())}calcResolutionForDistance(t,e){return function(t,e,r,i){const n=r.canvas,o=r.camera.frustum.fovy;console.assert(!isNaN(o));const s=i.getMetersPerUnit();return 2*t*Math.tan(o/2)/s/Math.cos(Math.abs(e))/n.clientHeight}(t,e,this.scene_,this.view_.getProjection())}}const q=U;var V=r("./node_modules/ol/layer/Group.js");const Y=class{constructor(t,e){this.map=t,this.view=t.getView(),this.scene=e,this.olLayers=t.getLayerGroup().getLayers(),this.mapLayerGroup=t.getLayerGroup(),this.layerMap={},this.olLayerListenKeys={},this.olGroupListenKeys_={}}synchronize(){this.destroyAll(),this.addLayers_(this.mapLayerGroup)}orderLayers(){}addLayers_(t){const e=[{layer:t,parents:[]}];for(;e.length>0;){const t=e.splice(0,1)[0],r=t.layer,i=u(r).toString();this.olLayerListenKeys[i]=[],console.assert(!this.layerMap[i]);let n=null;if(r instanceof V.default)this.listenForGroupChanges_(r),r!==this.mapLayerGroup&&(n=this.createSingleLayerCounterparts(t)),n||r.getLayers().forEach((i=>{if(i){const n={layer:i,parents:r===this.mapLayerGroup?[]:[t.layer].concat(t.parents)};e.push(n)}}));else if(n=this.createSingleLayerCounterparts(t),!n){const e=i,r=t,n=t=>{const i=this.createSingleLayerCounterparts(r);i&&(r.layer.un("change",n),this.addCesiumObjects_(i,e,r.layer),this.orderLayers())};this.olLayerListenKeys[i].push(s(r.layer,"change",n))}n&&this.addCesiumObjects_(n,i,r)}this.orderLayers()}addCesiumObjects_(t,e,r){this.layerMap[e]=t,this.olLayerListenKeys[e].push(s(r,"change:zIndex",(()=>this.orderLayers()))),t.forEach((t=>{this.addCesiumObject(t)}))}removeAndDestroySingleLayer_(t){const e=u(t).toString(),r=this.layerMap[e];return r&&(r.forEach((t=>{this.removeSingleCesiumObject(t,!1),this.destroyCesiumObject(t)})),this.olLayerListenKeys[e].forEach(D.unByKey),delete this.olLayerListenKeys[e]),delete this.layerMap[e],!!r}unlistenSingleGroup_(t){if(t===this.mapLayerGroup)return;const e=u(t).toString();this.olGroupListenKeys_[e].forEach((t=>{(0,D.unByKey)(t)})),delete this.olGroupListenKeys_[e],delete this.layerMap[e]}removeLayer_(t){if(t){const e=[t];for(;e.length>0;){const t=e.splice(0,1)[0],r=this.removeAndDestroySingleLayer_(t);t instanceof V.default&&(this.unlistenSingleGroup_(t),r||t.getLayers().forEach((t=>{e.push(t)})))}}}listenForGroupChanges_(t){const e=u(t).toString();console.assert(void 0===this.olGroupListenKeys_[e]);const r=[];this.olGroupListenKeys_[e]=r;let i=[];const n=function(){const e=t.getLayers();e&&(i=[e.on("add",(t=>{this.addLayers_(t.element)})),e.on("remove",(t=>{this.removeLayer_(t.element)}))],r.push(...i))}.bind(this);n(),r.push(t.on("change:layers",(t=>{i.forEach((t=>{const e=r.indexOf(t);e>=0&&r.splice(e,1),(0,D.unByKey)(t)})),n()})))}destroyAll(){let t;for(t in this.removeAllCesiumObjects(!0),this.olGroupListenKeys_)this.olGroupListenKeys_[t].forEach(D.unByKey);for(t in this.olLayerListenKeys)this.olLayerListenKeys[t].forEach(D.unByKey);this.olGroupListenKeys_={},this.olLayerListenKeys={},this.layerMap={}}addCesiumObject(t){}destroyCesiumObject(t){}removeSingleCesiumObject(t,e){}removeAllCesiumObjects(t){}createSingleLayerCounterparts(t){}},W=class extends Y{constructor(t,e){super(t,e),this.cesiumLayers_=e.imageryLayers,this.ourLayers_=new Cesium.ImageryLayerCollection}addCesiumObject(t){this.cesiumLayers_.add(t),this.ourLayers_.add(t)}destroyCesiumObject(t){t.destroy()}removeSingleCesiumObject(t,e){this.cesiumLayers_.remove(t,e),this.ourLayers_.remove(t,!1)}removeAllCesiumObjects(t){for(let e=0;e<this.ourLayers_.length;++e)this.cesiumLayers_.remove(this.ourLayers_.get(e),t);this.ourLayers_.removeAll(!1)}convertLayerToCesiumImageries(t,e){const r=Z.tileLayerToImageryLayer(this.map,t,e);return r?[r]:null}createSingleLayerCounterparts(t){const e=t.layer,r=u(e).toString(),i=this.view.getProjection();console.assert(i);const n=this.convertLayerToCesiumImageries(e,i);if(n){const i=[];if([t.layer].concat(t.parents).forEach((e=>{i.push(e.on(["change:opacity","change:visible"],(()=>{console.assert(n);for(let e=0;e<n.length;++e)Z.updateCesiumLayerProperties(t,n[e])})))})),e.getStyleFunction){let t=e.getStyleFunction();i.push(e.on("change",(()=>{const r=e.getStyleFunction();if(t!==r){t=r;for(let t=0;t<n.length;++t){const e=n[t];e._imageryCache&&e.imageryProvider.cache_&&(e._imageryCache={},e.imageryProvider.cache_={},e.imageryProvider.styleFunction_=r)}this.scene.requestRender()}})))}for(let e=0;e<n.length;++e)Z.updateCesiumLayerProperties(t,n[e]);i.push(e.on("change:extent",(t=>{for(let t=0;t<n.length;++t)this.cesiumLayers_.remove(n[t],!0),this.ourLayers_.remove(n[t],!1);delete this.layerMap[u(e)],this.synchronize()}))),i.push(e.on("change",(t=>{for(let t=0;t<n.length;++t){const e=this.cesiumLayers_.indexOf(n[t]);e>=0&&(this.cesiumLayers_.remove(n[t],!1),this.cesiumLayers_.add(n[t],e))}}))),this.olLayerListenKeys[r].push(...i)}return Array.isArray(n)?n:null}orderLayers(){const t=[],e={},r=[this.mapLayerGroup];for(;r.length>0;){const i=r.splice(0,1)[0];if(t.push(i),e[u(i)]=i.getZIndex()||0,i instanceof V.default){const t=i.getLayers();t&&r.unshift(...t.getArray())}}!function(t,r){const i=t.length,n=Array(t.length);for(let e=0;e<i;e++)n[e]={index:e,value:t[e]};n.sort(((t,r)=>{return i=t.value,n=r.value,e[u(i)]-e[u(n)]||t.index-r.index;var i,n}));for(let e=0;e<t.length;e++)t[e]=n[e].value}(t),t.forEach((t=>{const e=u(t).toString(),r=this.layerMap[e];r&&r.forEach((t=>{this.raiseToTop(t)}))}))}raiseToTop(t){this.cesiumLayers_.raiseToTop(t)}};var X=r("./node_modules/ol/source/Vector.js"),H=r("./node_modules/ol/layer/Layer.js"),K=r("./node_modules/ol/source/Cluster.js"),Q=r("./node_modules/ol/layer/Vector.js"),J=r("./node_modules/ol/geom/Geometry.js"),$=r("./node_modules/ol/style/Icon.js"),tt=r("./node_modules/ol/geom/Polygon.js"),et=r("./node_modules/ol/geom/SimpleGeometry.js");const rt=class extends Y{constructor(t,e,r){super(t,e),this.converter=r||new class{constructor(t){this.scene=t,this.boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this),this.defaultBillboardEyeOffset_=new Cesium.Cartesian3(0,0,10)}onRemoveOrClearFeature_(t){const e=t.target;console.assert(e instanceof X.Z);const r=h.obj(e).olcs_cancellers;if(r){const i=t.feature;if(i){const t=u(i),e=r[t];e&&(e(),delete r[t])}else{for(const t in r)r.hasOwnProperty(t)&&r[t]();h.obj(e).olcs_cancellers={}}}}setReferenceForPicking(t,e,r){r.olLayer=t,r.olFeature=e}createColoredPrimitive(t,e,r,i,n,o){const s={flat:!0,renderState:{depthTest:{enabled:!0}}};void 0!==o&&(s.renderState||(s.renderState={}),s.renderState.lineWidth=o);const a=function(t,e){const r=new Cesium.GeometryInstance({geometry:t});return!e||e instanceof Cesium.ImageMaterialProperty||(r.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(e)}),r}(i,n);let u;if(this.getHeightReference(t,e,r)===Cesium.HeightReference.CLAMP_TO_GROUND){const t=a.geometry.constructor;if(t&&!t.createShadowVolume)return null;u=new Cesium.GroundPrimitive({geometryInstances:a})}else u=new Cesium.Primitive({geometryInstances:a});if(n instanceof Cesium.ImageMaterialProperty){const t=n.image.getValue().toDataURL();u.appearance=new Cesium.MaterialAppearance({flat:!0,renderState:{depthTest:{enabled:!0}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:t}}})})}else u.appearance=new Cesium.PerInstanceColorAppearance(s);return this.setReferenceForPicking(t,e,u),u}extractColorFromOlStyle(t,e){const r=t.getFill()?t.getFill().getColor():null,i=t.getStroke()?t.getStroke().getColor():null;let n="black";return i&&e?n=i:r&&(n=r),Z.convertColorToCesium(n)}extractLineWidthFromOlStyle(t){const e=t.getStroke()?t.getStroke().getWidth():void 0;return void 0!==e?e:1}wrapFillAndOutlineGeometries(t,e,r,i,n,o){const s=this.extractColorFromOlStyle(o,!1),a=this.extractColorFromOlStyle(o,!0),u=new Cesium.PrimitiveCollection;if(o.getFill()){const n=this.createColoredPrimitive(t,e,r,i,s);console.assert(!!n),u.add(n)}if(o.getStroke()&&n){const i=this.extractLineWidthFromOlStyle(o),s=this.createColoredPrimitive(t,e,r,n,a,i);s&&u.add(s)}return u}addTextStyle(t,e,r,i,n){let o;if(n instanceof Cesium.PrimitiveCollection?o=n:(o=new Cesium.PrimitiveCollection,o.add(n)),!i.getText())return o;const s=i.getText(),a=this.olGeometry4326TextPartToCesium(t,e,r,s);return a&&o.add(a),o}csAddBillboard(t,e,r,i,n,o){e.eyeOffset||(e.eyeOffset=this.defaultBillboardEyeOffset_);const s=t.add(e);return this.setReferenceForPicking(r,i,s),s}olCircleGeometryToCesium(t,e,r,i,n){r=Z.olGeometryCloneTo4326(r,i),console.assert("Circle"==r.getType());let o=r.getCenter();const s=3==o.length?o[2]:0;let a=o.slice();a[0]+=r.getRadius(),o=Z.ol4326CoordinateToCesiumCartesian(o),a=Z.ol4326CoordinateToCesiumCartesian(a);const u=Cesium.Cartesian3.distance(o,a),h=new Cesium.CircleGeometry({center:o,radius:u,height:s});let c,p;if(this.getHeightReference(t,e,r)===Cesium.HeightReference.CLAMP_TO_GROUND){const i=this.extractLineWidthFromOlStyle(n);if(i){const o=(0,tt.iu)(r.getCenter(),u),s=Z.ol4326CoordinateArrayToCsCartesians(o.getLinearRing(0).getCoordinates());if(l(this.scene))c=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:s,width:i})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,n,!0)}),classificationType:Cesium.ClassificationType.TERRAIN}),c.readyPromise.then((()=>{this.setReferenceForPicking(t,e,c._primitive)}));else{const r=this.extractColorFromOlStyle(n,!0);c=this.createStackedGroundCorridors(t,e,i,r,s)}}}else p=new Cesium.CircleOutlineGeometry({center:o,radius:u,extrudedHeight:s,height:s});const f=this.wrapFillAndOutlineGeometries(t,e,r,h,p,n);return c&&f.add(c),this.addTextStyle(t,e,r,n,f)}createStackedGroundCorridors(t,e,r,i,n){Array.isArray(n[0])||(n=[n]),r=Math.max(3,r);const o=[];let s=0;for(const t of[1e3,4e3,16e3,64e3,254e3,1e6,1e7]){const e={width:r*=2.14,vertexFormat:Cesium.VertexFormat.POSITION_ONLY};for(const r of n)e.positions=r,o.push(new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(e),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(i),distanceDisplayCondition:new Cesium.DistanceDisplayConditionGeometryInstanceAttribute(s,t-1)}}));s=t}return new Cesium.GroundPrimitive({geometryInstances:o})}olLineStringGeometryToCesium(t,e,r,i,n){r=Z.olGeometryCloneTo4326(r,i),console.assert("LineString"==r.getType());const o=Z.ol4326CoordinateArrayToCsCartesians(r.getCoordinates()),s=this.extractLineWidthFromOlStyle(n);let a;const u=this.getHeightReference(t,e,r);if(u!==Cesium.HeightReference.CLAMP_TO_GROUND||l(this.scene)){const r=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,n,!0)}),i={positions:o,width:s},l={appearance:r};if(u===Cesium.HeightReference.CLAMP_TO_GROUND){const r=new Cesium.GroundPolylineGeometry(i);l.geometryInstances=new Cesium.GeometryInstance({geometry:r}),a=new Cesium.GroundPolylinePrimitive(l),a.readyPromise.then((()=>{this.setReferenceForPicking(t,e,a._primitive)}))}else{i.vertexFormat=r.vertexFormat;const t=new Cesium.PolylineGeometry(i);l.geometryInstances=new Cesium.GeometryInstance({geometry:t}),a=new Cesium.Primitive(l)}}else{const r=this.extractColorFromOlStyle(n,!0);a=this.createStackedGroundCorridors(t,e,s,r,o)}return this.setReferenceForPicking(t,e,a),this.addTextStyle(t,e,r,n,a)}olPolygonGeometryToCesium(t,e,r,i,n){r=Z.olGeometryCloneTo4326(r,i),console.assert("Polygon"==r.getType());const o=this.getHeightReference(t,e,r);let s,a,u;if(5==r.getCoordinates()[0].length&&"rectangle"===e.getGeometry().get("olcs.polygon_kind")){const t=r.getCoordinates()[0],e=(0,F.boundingExtent)(t),i=Cesium.Rectangle.fromDegrees(e[0],e[1],e[2],e[3]);let n=0;if(3==t[0].length)for(let e=0;e<t.length;e++)n=Math.max(n,t[e][2]);s=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:i,height:n}),a=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:i,height:n})}else{const i=r.getLinearRings(),h={},c=h;console.assert(i.length>0);for(let t=0;t<i.length;++t){const e=i[t].getCoordinates(),r=Z.ol4326CoordinateArrayToCsCartesians(e);console.assert(r&&r.length>0),0==t?h.positions=r:(h.holes||(h.holes=[]),h.holes.push({positions:r}))}if(s=new Cesium.PolygonGeometry({polygonHierarchy:c,perPositionHeight:!0}),o===Cesium.HeightReference.CLAMP_TO_GROUND){const r=this.extractLineWidthFromOlStyle(n);if(r>0){const i=[h.positions];if(h.holes)for(let t=0;t<h.holes.length;++t)i.push(h.holes[t].positions);if(l(this.scene)){const o=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(e,n,!0)}),s=[];for(const t of i){const e=new Cesium.GroundPolylineGeometry({positions:t,width:r});s.push(new Cesium.GeometryInstance({geometry:e}))}const a={appearance:o,geometryInstances:s};u=new Cesium.GroundPolylinePrimitive(a),u.readyPromise.then((()=>{this.setReferenceForPicking(t,e,u._primitive)}))}else{const o=this.extractColorFromOlStyle(n,!0);u=this.createStackedGroundCorridors(t,e,r,o,i)}}}else a=new Cesium.PolygonOutlineGeometry({polygonHierarchy:h,perPositionHeight:!0})}const h=this.wrapFillAndOutlineGeometries(t,e,r,s,a,n);return u&&h.add(u),this.addTextStyle(t,e,r,n,h)}getHeightReference(t,e,r){let i=r.get("altitudeMode");void 0===i&&(i=e.get("altitudeMode")),void 0===i&&(i=t.get("altitudeMode"));let n=Cesium.HeightReference.NONE;return"clampToGround"===i?n=Cesium.HeightReference.CLAMP_TO_GROUND:"relativeToGround"===i&&(n=Cesium.HeightReference.RELATIVE_TO_GROUND),n}createBillboardFromImage(t,e,r,i,n,o,s,a){o instanceof $.Z&&o.load();const l=o.getImage(1),c=function(){if(!l)return;if(!(l instanceof HTMLCanvasElement||l instanceof Image||l instanceof HTMLImageElement))return;const i=r.getCoordinates(),u=Z.ol4326CoordinateToCesiumCartesian(i);let h;const c=o.getOpacity();void 0!==c&&(h=new Cesium.Color(1,1,1,c));const p=o.getScale(),f=this.getHeightReference(t,e,r),d={image:l,color:h,scale:p,heightReference:f,position:u};if(Object.assign(d,e.get("cesiumOptions")),o instanceof $.Z){const t=o.getAnchor();t&&(d.pixelOffset=new Cesium.Cartesian2((l.width/2-t[0])*p,(l.height/2-t[1])*p))}const g=this.csAddBillboard(s,d,t,e,r,n);a&&a(g)}.bind(this);if(l instanceof Image&&!function(t){return""!=t.src&&0!=t.naturalHeight&&0!=t.naturalWidth&&t.complete}(l)){let r=!1;const i=t.getSource(),n=function(){r=!0};i.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);let o=h.obj(i).olcs_cancellers;o||(o=h.obj(i).olcs_cancellers={});const a=u(e);o[a]&&o[a](),o[a]=n;const p=function(){l.removeEventListener("load",p),s.isDestroyed()||r||c()};l.addEventListener("load",p)}else c()}olPointGeometryToCesium(t,e,r,i,n,o,s){console.assert("Point"==r.getType()),r=Z.olGeometryCloneTo4326(r,i);let a=null;const u=n.getImage();if(u){const l=r.get("olcs_model")||e.get("olcs_model");if(l){const t=l(),e=Object.assign({},{scene:this.scene},t.cesiumOptions),r=Cesium.Model.fromGltf(e);a=new Cesium.PrimitiveCollection,a.add(r),t.debugModelMatrix&&a.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:t.debugModelMatrix}))}else this.createBillboardFromImage(t,e,r,i,n,u,o,s)}return n.getText()?this.addTextStyle(t,e,r,n,a||new Cesium.Primitive):a}olMultiGeometryToCesium(t,e,r,i,n,o,s){const a=function(r,o){const s=new Cesium.PrimitiveCollection;return r.forEach((r=>{s.add(o(t,e,r,i,n))})),s};let u;switch(r.getType()){case"MultiPoint":if(u=(r=r).getPoints(),n.getText()){const r=new Cesium.PrimitiveCollection;return u.forEach((a=>{console.assert(a);const u=this.olPointGeometryToCesium(t,e,a,i,n,o,s);u&&r.add(u)})),r}return u.forEach((r=>{console.assert(r),this.olPointGeometryToCesium(t,e,r,i,n,o,s)})),null;case"MultiLineString":return u=(r=r).getLineStrings(),a(u,this.olLineStringGeometryToCesium.bind(this));case"MultiPolygon":return u=(r=r).getPolygons(),a(u,this.olPolygonGeometryToCesium.bind(this));default:console.assert(!1,`Unhandled multi geometry type${r.getType()}`)}}olGeometry4326TextPartToCesium(t,e,r,i){const n=i.getText();if(!n)return null;const o=new Cesium.LabelCollection({scene:this.scene}),s=(0,F.getCenter)(r.getExtent());if(r instanceof et.ZP){const t=r.getFirstCoordinate();s[2]=3==t.length?t[2]:0}const a={};a.position=Z.ol4326CoordinateToCesiumCartesian(s),a.text=n,a.heightReference=this.getHeightReference(t,e,r);const u=i.getOffsetX(),l=i.getOffsetY();if(0!=u&&0!=l){const t=new Cesium.Cartesian2(u,l);a.pixelOffset=t}let h,c;switch(a.font=i.getFont()||"10px sans-serif",i.getFill()&&(a.fillColor=this.extractColorFromOlStyle(i,!1),h=Cesium.LabelStyle.FILL),i.getStroke()&&(a.outlineWidth=this.extractLineWidthFromOlStyle(i),a.outlineColor=this.extractColorFromOlStyle(i,!0),h=Cesium.LabelStyle.OUTLINE),i.getFill()&&i.getStroke()&&(h=Cesium.LabelStyle.FILL_AND_OUTLINE),a.style=h,i.getTextAlign()){case"left":c=Cesium.HorizontalOrigin.LEFT;break;case"right":c=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:c=Cesium.HorizontalOrigin.CENTER}if(a.horizontalOrigin=c,i.getTextBaseline()){let t;switch(i.getTextBaseline()){case"top":t=Cesium.VerticalOrigin.TOP;break;case"middle":t=Cesium.VerticalOrigin.CENTER;break;case"bottom":t=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":t=Cesium.VerticalOrigin.TOP;break;case"hanging":t=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(!1,`unhandled baseline ${i.getTextBaseline()}`)}a.verticalOrigin=t}const p=o.add(a);return this.setReferenceForPicking(t,e,p),o}olStyleToCesium(t,e,r){const i=e.getFill(),n=e.getStroke();if(r&&!n||!r&&!i)return null;let o=r?n.getColor():i.getColor();return o=Z.convertColorToCesium(o),r&&n.getLineDash()?Cesium.Material.fromType("Stripe",{horizontal:!1,repeat:500,evenColor:o,oddColor:new Cesium.Color(0,0,0,0)}):Cesium.Material.fromType("Color",{color:o})}computePlainStyle(t,e,r,i){const n=e.getStyleFunction();let o=null;return n&&(o=n(e,i)),!o&&r&&(o=r(e,i)),o?Array.isArray(o)?o:[o]:null}getGeometryFromFeature(t,e,r){if(r)return r;const i=t.get("olcs.3d_geometry");if(i&&i instanceof J.Z)return i;if(e){const r=e.getGeometryFunction()(t);if(r instanceof J.Z)return r}return t.getGeometry()}olFeatureToCesium(t,e,r,i,n){let o=this.getGeometryFromFeature(e,r,n);if(!o)return null;const s=i.projection,a=function(t){const r=i.featureToCesiumMap[u(e)];r instanceof Array?r.push(t):i.featureToCesiumMap[u(e)]=[t]};switch(o.getType()){case"GeometryCollection":const n=new Cesium.PrimitiveCollection;return o.getGeometries().forEach((o=>{if(o){const s=this.olFeatureToCesium(t,e,r,i,o);s&&n.add(s)}})),n;case"Point":o=o;const u=i.billboards;return this.olPointGeometryToCesium(t,e,o,s,r,u,a)||null;case"Circle":return o=o,this.olCircleGeometryToCesium(t,e,o,s,r);case"LineString":return o=o,this.olLineStringGeometryToCesium(t,e,o,s,r);case"Polygon":return o=o,this.olPolygonGeometryToCesium(t,e,o,s,r);case"MultiPoint":case"MultiLineString":case"MultiPolygon":return this.olMultiGeometryToCesium(t,e,o,s,r,i.billboards,a)||null;case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error(`Ol geom type not handled : ${o.getType()}`)}}olVectorLayerToCesium(t,e,r){const i=e.getProjection(),n=e.getResolution();if(void 0===n||!i)throw console.assert(!1,"View not ready"),new Error("View not ready");let o=t.getSource();o instanceof K.Z&&(o=o.getSource()),console.assert(o instanceof X.Z);const s=o.getFeatures(),a=new class{constructor(t,e){const r=new Cesium.BillboardCollection({scene:e}),i=new Cesium.PrimitiveCollection;this.olListenKeys=[],this.rootCollection_=new Cesium.PrimitiveCollection,this.context={projection:t,billboards:r,featureToCesiumMap:{},primitives:i},this.rootCollection_.add(r),this.rootCollection_.add(i)}destroy(){this.olListenKeys.forEach(D.unByKey),this.olListenKeys.length=0}getRootPrimitive(){return this.rootCollection_}}(i,this.scene),l=a.context;for(let e=0;e<s.length;++e){const i=s[e];if(!i)continue;const o=t.getStyleFunction(),h=this.computePlainStyle(t,i,o,n);if(!h||!h.length)continue;let c=null;for(let e=0;e<h.length;e++){const r=this.olFeatureToCesium(t,i,h[e],l);if(r)if(c){if(r){let t,e=0;for(;t=r.get(e);)c.add(t),e++}}else c=r}c&&(r[u(i)]=c,a.getRootPrimitive().add(c))}return a}convert(t,e,r,i){const n=e.getProjection(),o=e.getResolution();if(null==o||!n)return null;const s=t.getStyleFunction(),a=this.computePlainStyle(t,r,s,o);if(!a||!a.length)return null;i.projection=n;let u=null;for(let e=0;e<a.length;e++){const n=this.olFeatureToCesium(t,r,a[e],i);if(u){if(n){let t,e=0;for(;t=n.get(e);)u.add(t),e++}}else u=n}return u}}(e),this.csAllPrimitives_=new Cesium.PrimitiveCollection,e.primitives.add(this.csAllPrimitives_),this.csAllPrimitives_.destroyPrimitives=!1}addCesiumObject(t){console.assert(t),t.getRootPrimitive().counterpart=t,this.csAllPrimitives_.add(t.getRootPrimitive())}destroyCesiumObject(t){t.getRootPrimitive().destroy()}removeSingleCesiumObject(t,e){t.destroy(),this.csAllPrimitives_.destroyPrimitives=e,this.csAllPrimitives_.remove(t.getRootPrimitive()),this.csAllPrimitives_.destroyPrimitives=!1}removeAllCesiumObjects(t){if(this.csAllPrimitives_.destroyPrimitives=t,t)for(let t=0;t<this.csAllPrimitives_.length;++t)this.csAllPrimitives_.get(t).counterpart.destroy();this.csAllPrimitives_.removeAll(),this.csAllPrimitives_.destroyPrimitives=!1}updateLayerVisibility(t,e){let r=!0;[t.layer].concat(t.parents).forEach((t=>{const e=t.getVisible();void 0!==e?r&=e:r=!1})),e.show=r}createSingleLayerCounterparts(t){const e=t.layer;if(!(e instanceof Q.Z)||e instanceof j.default)return null;console.assert(e instanceof H.Z);let r=e.getSource();if(r instanceof K.Z&&(r=r.getSource()),!r)return null;console.assert(r instanceof X.Z),console.assert(this.view);const i=this.view,n={},o=this.converter.olVectorLayerToCesium(e,i,n),a=o.getRootPrimitive(),l=o.olListenKeys;[t.layer].concat(t.parents).forEach((e=>{l.push(s(e,"change:visible",(()=>{this.updateLayerVisibility(t,a)})))})),this.updateLayerVisibility(t,a);const h=function(t){console.assert(e instanceof Q.Z||e instanceof f.Z);const r=o.context,s=this.converter.convert(e,i,t,r);s&&(n[u(t)]=s,a.add(s))}.bind(this),c=function(t){const e=u(t),r=o.context,i=r.featureToCesiumMap[e];i&&(delete r.featureToCesiumMap[e],i.forEach((t=>{t instanceof Cesium.Billboard&&r.billboards.remove(t)})));const s=n[e];delete n[e],s&&a.remove(s)}.bind(this);return l.push(s(r,"addfeature",(t=>{console.assert(t.feature),h(t.feature)}))),l.push(s(r,"removefeature",(t=>{console.assert(t.feature),c(t.feature)}))),l.push(s(r,"changefeature",(t=>{const e=t.feature;console.assert(e),c(e),h(e)}))),o?[o]:null}};var it=r("./node_modules/ol/Overlay.js");class nt extends it.Z{constructor(t){const e=t.parent;super(e.getOptions()),this.scenePostRenderListenerRemover_=null,this.scene_=t.scene,this.synchronizer_=t.synchronizer,this.parent_=e,this.positionWGS84_=void 0,this.observer_=new MutationObserver(this.handleElementChanged.bind(this)),this.attributeObserver_=[],this.listenerKeys_=[];const r=t=>this.setPropertyFromEvent_(t);this.listenerKeys_.push(this.parent_.on("change:position",r)),this.listenerKeys_.push(this.parent_.on("change:element",r)),this.listenerKeys_.push(this.parent_.on("change:offset",r)),this.listenerKeys_.push(this.parent_.on("change:position",r)),this.listenerKeys_.push(this.parent_.on("change:positioning",r)),this.setProperties(this.parent_.getProperties()),this.handleMapChanged(),this.handleElementChanged()}observeTarget_(t){if(this.observer_){this.observer_.disconnect(),this.observer_.observe(t,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),this.attributeObserver_.forEach((t=>{t.disconnect()})),this.attributeObserver_.length=0;for(let e=0;e<t.childNodes.length;e++){const r=t.childNodes[e];if(1===r.nodeType){const t=new MutationObserver(this.handleElementChanged.bind(this));t.observe(r,{attributes:!0,subtree:!0}),this.attributeObserver_.push(t)}}}}setPropertyFromEvent_(t){t.target&&t.key&&this.set(t.key,t.target.get(t.key))}getScene(){return this.scene_}handleMapChanged(){var t;this.scenePostRenderListenerRemover_&&(this.scenePostRenderListenerRemover_(),(t=this.element)&&t.parentNode&&t.parentNode.removeChild(t)),this.scenePostRenderListenerRemover_=null;const e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this)),this.updatePixelPosition();const t=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}}handlePositionChanged(){const t=this.getPosition();if(t){const e=this.parent_.getMap().getView().getProjection();this.positionWGS84_=(0,n.transform)(t,e,"EPSG:4326")}else this.positionWGS84_=void 0;this.updatePixelPosition()}handleElementChanged(){function t(e,r){const i=e.cloneNode();"CANVAS"===e.nodeName&&i.getContext("2d").drawImage(e,0,0),r&&r.appendChild(i),e.nodeType!=Node.TEXT_NODE&&i.addEventListener("click",(t=>{e.dispatchEvent(new MouseEvent("click",t)),t.stopPropagation()}));const n=e.childNodes;for(let e=0;e<n.length;e++)n[e]&&t(n[e],i);return i}!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.element);const e=this.getElement();if(e&&e.parentNode&&e.parentNode.childNodes)for(const r of e.parentNode.childNodes){const e=t(r,null);this.element.appendChild(e)}e.parentNode&&this.observeTarget_(e.parentNode)}updatePixelPosition(){const t=this.positionWGS84_;if(!this.scene_||!t)return void this.setVisible(!1);let e=0;if(2===t.length){const r=this.scene_.globe.getHeight(Cesium.Cartographic.fromDegrees(t[0],t[1]));r&&this.scene_.globe.tilesLoaded&&(t[2]=r),r&&(e=r)}else e=t[2];const r=Cesium.Cartesian3.fromDegrees(t[0],t[1],e),i=this.scene_.camera,n=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);if(!new Cesium.Occluder(n,i.position).isPointVisible(r))return void this.setVisible(!1);if(1!==i.frustum.computeCullingVolume(i.position,i.direction,i.up).computeVisibility(new Cesium.BoundingSphere(r)))return void this.setVisible(!1);this.setVisible(!0);const o=this.scene_.cartesianToCanvasCoordinates(r),s=[o.x,o.y],a=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(s,a)}destroy(){this.scenePostRenderListenerRemover_&&this.scenePostRenderListenerRemover_(),this.observer_&&this.observer_.disconnect(),(0,D.unByKey)(this.listenerKeys_),this.listenerKeys_.splice(0),this.element.removeNode?this.element.removeNode(!0):this.element.remove(),this.element=null}}const ot=nt,st=class{constructor(t,e){this.map=t,this.overlays_=this.map.getOverlays(),this.scene=e,this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"].forEach((t=>{this.overlayContainerStopEvent_.addEventListener(t,(t=>t.stopPropagation()))})),this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_),this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.scene.canvas.parentElement.appendChild(this.overlayContainer_),this.overlayMap_={}}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOverlayContainer(){return this.overlayContainer_}synchronize(){this.destroyAll(),this.addOverlays(),this.overlays_.on("add",this.addOverlayFromEvent_.bind(this)),this.overlays_.on("remove",this.removeOverlayFromEvent_.bind(this))}addOverlayFromEvent_(t){const e=t.element;this.addOverlay(e)}addOverlays(){this.overlays_.forEach((t=>{this.addOverlay(t)}))}addOverlay(t){if(!t)return;const e=new ot({scene:this.scene,synchronizer:this,parent:t}),r=u(t).toString();this.overlayMap_[r]=e}removeOverlayFromEvent_(t){const e=t.element;this.removeOverlay(e)}removeOverlay(t){const e=u(t).toString(),r=this.overlayMap_[e];r&&(r.destroy(),delete this.overlayMap_[e])}destroyAll(){Object.keys(this.overlayMap_).forEach((t=>{this.overlayMap_[t].destroy(),delete this.overlayMap_[t]}))}};class at{constructor(t){this.autoRenderLoop_=null,this.map_=t.map,this.time_=t.time||function(){return Cesium.JulianDate.now()},this.to4326Transform_=(0,n.getTransform)(this.map_.getView().getProjection(),"EPSG:4326"),this.resolutionScale_=1,this.canvasClientWidth_=0,this.canvasClientHeight_=0,this.resolutionScaleChanged_=!0;const e="position:absolute;top:0;left:0;width:100%;height:100%;";this.container_=document.createElement("DIV");const r=document.createAttribute("style");r.value=`${e}visibility:hidden;`,this.container_.setAttributeNode(r);let i=t.target||this.map_.getViewport();if("string"==typeof i&&(i=document.getElementById(i)),i.appendChild(this.container_),this.isOverMap_=!t.target,this.isOverMap_&&t.stopOpenLayersEventsPropagation){const t=["click","dblclick","mousedown","touchstart","MSPointerDown","pointerdown","mousewheel","wheel"];for(let e=0,r=t.length;e<r;++e)this.container_.addEventListener(t[e],(t=>t.stopPropagation()))}this.canvas_=document.createElement("CANVAS");const o=document.createAttribute("style");o.value=e,this.canvas_.setAttributeNode(o),h.supportsImageRenderingPixelated()&&(this.canvas_.style.imageRendering=h.imageRenderingValue()),this.canvas_.oncontextmenu=function(){return!1},this.canvas_.onselectstart=function(){return!1},this.container_.appendChild(this.canvas_),this.enabled_=!1,this.pausedInteractions_=[],this.hiddenRootGroup_=null;const s=void 0!==t.sceneOptions?t.sceneOptions:{};s.canvas=this.canvas_,s.scene3DOnly=!0,this.scene_=new Cesium.Scene(s);const a=this.scene_.screenSpaceCameraController;a.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),a.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT}),a.enableLook=!1,this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.camera_=new q(this.scene_,this.map_),this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.globe_.baseColor=Cesium.Color.WHITE,this.scene_.globe=this.globe_,this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;const u=new Cesium.SingleTileImageryProvider({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(u,0),this.dataSourceCollection_=new Cesium.DataSourceCollection,this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_});const l=t.createSynchronizers?t.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new W(this.map_,this.scene_),new rt(this.map_,this.scene_),new st(this.map_,this.scene_)];this.handleResize_();for(let t=l.length-1;t>=0;--t)l[t].synchronize();this.lastFrameTime_=0,this.renderId_=void 0,this.targetFrameRate_=Number.POSITIVE_INFINITY,this.blockCesiumRendering_=!1,this.warmingUp_=!1,this.trackedFeature_=null,this.trackedEntity_=null,this.entityView_=null,this.needTrackedEntityUpdate_=!1,this.boundingSphereScratch_=new Cesium.BoundingSphere,(new Cesium.EventHelper).add(this.scene_.postRender,at.prototype.updateTrackedEntity_,this),Cesium.Camera.enableSuspendTerrainAdjustment=!1}render_(){void 0!==this.renderId_&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0),!this.enabled_&&!this.warmingUp_||this.blockCesiumRendering_||(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))}onAnimationFrame_(t){this.renderId_=void 0;const e=1e3/this.targetFrameRate_;if(t-this.lastFrameTime_<e)return void this.render_();this.lastFrameTime_=t;const r=this.time_();if(this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(r),this.entityView_){const t=this.trackedEntity_;this.dataSourceDisplay_.getBoundingSphere(t,!1,this.boundingSphereScratch_)===Cesium.BoundingSphereState.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(r,this.boundingSphereScratch_))}this.scene_.render(r),this.camera_.checkCameraChange(),this.render_()}updateTrackedEntity_(){if(!this.needTrackedEntityUpdate_)return;const t=this.trackedEntity_,e=this.scene_,r=this.dataSourceDisplay_.getBoundingSphere(t,!1,this.boundingSphereScratch_);if(r===Cesium.BoundingSphereState.PENDING)return;e.screenSpaceCameraController.enableTilt=!1;const i=r!==Cesium.BoundingSphereState.FAILED?this.boundingSphereScratch_:void 0;i&&(i.radius=1),this.entityView_=new Cesium.EntityView(t,e,e.mapProjection.ellipsoid),this.entityView_.update(this.time_(),i),this.needTrackedEntityUpdate_=!1}handleResize_(){let t=this.canvas_.clientWidth,e=this.canvas_.clientHeight;if(0===t|0===e)return;if(t===this.canvasClientWidth_&&e===this.canvasClientHeight_&&!this.resolutionScaleChanged_)return;let r=this.resolutionScale_;h.supportsImageRenderingPixelated()||(r*=window.devicePixelRatio||1),this.resolutionScaleChanged_=!1,this.canvasClientWidth_=t,this.canvasClientHeight_=e,t*=r,e*=r,this.canvas_.width=t,this.canvas_.height=e,this.scene_.camera.frustum.aspectRatio=t/e}getCamera(){return this.camera_}getOlMap(){return this.map_}getOlView(){const t=this.map_.getView();return console.assert(t),t}getCesiumScene(){return this.scene_}getDataSources(){return this.dataSourceCollection_}getDataSourceDisplay(){return this.dataSourceDisplay_}getEnabled(){return this.enabled_}setEnabled(t){if(this.enabled_===t)return;let e;if(this.enabled_=t,this.container_.style.visibility=this.enabled_?"visible":"hidden",this.enabled_){if(this.throwOnUnitializedMap_(),this.isOverMap_){e=this.map_.getInteractions(),e.forEach(((t,e,r)=>{this.pausedInteractions_.push(t)})),e.clear(),this.map_.addInteraction=t=>this.pausedInteractions_.push(t),this.map_.removeInteraction=t=>this.pausedInteractions_=this.pausedInteractions_.filter((e=>e!==t));const t=this.map_.getLayerGroup();t.getVisible()&&(this.hiddenRootGroup_=t,this.hiddenRootGroup_.setVisible(!1)),this.map_.getOverlayContainer().classList.add("olcs-hideoverlay")}this.camera_.readFromView(),this.render_()}else this.isOverMap_&&(e=this.map_.getInteractions(),this.pausedInteractions_.forEach((t=>{e.push(t)})),this.pausedInteractions_.length=0,this.map_.addInteraction=t=>this.map_.getInteractions().push(t),this.map_.removeInteraction=t=>this.map_.getInteractions().remove(t),this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay"),this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()}warmUp(t,e){if(this.enabled_)return;this.throwOnUnitializedMap_(),this.camera_.readFromView();const r=this.globe_.ellipsoid,i=this.scene_.camera,n=r.cartesianToCartographic(i.position);n.height<t&&(n.height=t,i.position=r.cartographicToCartesian(n)),this.warmingUp_=!0,this.render_(),setTimeout((()=>{this.warmingUp_=!1}),e)}setBlockCesiumRendering(t){this.blockCesiumRendering_!==t&&(this.blockCesiumRendering_=t,this.render_())}enableAutoRenderLoop(){this.autoRenderLoop_||(this.autoRenderLoop_=new class{constructor(t){this.ol3d=t,this.scene_=t.getCesiumScene(),this.canvas_=this.scene_.canvas,this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this),this.repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"],this.enable()}enable(){this.scene_.requestRenderMode=!0,this.scene_.maximumRenderTimeChange=1e3;for(const t of this.repaintEventNames_)this.canvas_.addEventListener(t,this._boundNotifyRepaintRequired,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)}disable(){for(const t of this.repaintEventNames_)this.canvas_.removeEventListener(t,this._boundNotifyRepaintRequired,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired),this.scene_.requestRenderMode=!1}restartRenderLoop(){this.notifyRepaintRequired()}notifyRepaintRequired(){this.scene_.requestRender()}}(this))}getAutoRenderLoop(){return this.autoRenderLoop_}setResolutionScale(t){(t=Math.max(0,t))!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,t),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())}setTargetFrameRate(t){this.targetFrameRate_!==t&&(this.targetFrameRate_=t,this.render_())}throwOnUnitializedMap_(){const t=this.map_.getView(),e=t.getCenter();if(!t.isDef()||isNaN(e[0])||isNaN(e[1]))throw new Error(`The OpenLayers map is not properly initialized: ${e} / ${t.getResolution()}`)}get trackedFeature(){return this.trackedFeature_}set trackedFeature(t){if(this.trackedFeature_!==t){const e=this.scene_;if(!t||!t.getGeometry())return this.needTrackedEntityUpdate_=!1,e.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.trackedEntity_=null,this.trackedFeature_=null,this.entityView_=null,void e.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);this.trackedFeature_=t,this.needTrackedEntityUpdate_=!0;const r=this.to4326Transform_,n=function(){const e=t.getGeometry();console.assert(e instanceof i.Z);const n=e.getCoordinates(),o=r(n,void 0,n.length);return Z.ol4326CoordinateToCesiumCartesian(o)},o={position:new Cesium.CallbackProperty(((t,e)=>n()),!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(o)}}}const ut=at},"./node_modules/ol-ext/source/GeoImage.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});var i=r("./node_modules/ol-ext/util/ext.js"),n=r("./node_modules/ol/source/ImageCanvas.js"),o=r("./node_modules/ol/geom/Polygon.js"),s=r("./node_modules/ol/extent.js"),a=function(t){var e={attributions:t.attributions,logo:t.logo,projection:t.projection};this.center=t.imageCenter,this.scale=t.imageScale,this.rotate=t.imageRotate?t.imageRotate:0,this.crop=t.imageCrop,this.mask=t.imageMask,this._image=t.image?t.image:new Image,this._image.crossOrigin=t.crossOrigin;var r=this;this._image.onload=function(){r.setCrop(r.crop),r.changed()},t.image||(this._image.src=t.url),e.canvasFunction=this.calculateImage,n.Z.call(this,e),this.setCrop(this.crop),this.on("change",function(){this.set("extent",this.calculateExtent())}.bind(this))};(0,i.Z)(a,n.Z),a.prototype.calculateImage=function(t,e,r,i){var n=document.createElement("canvas");n.width=i[0],n.height=i[1];var o=n.getContext("2d");if(!this._imageSize)return n;function s(e){return[(e[0]-t[0])/(t[2]-t[0])*i[0],(e[1]-t[3])/(t[1]-t[3])*i[1]]}if(this.mask){o.beginPath();var a=s(this.mask[0]);o.moveTo(a[0],a[1]);for(var u=1;u<this.mask.length;u++)a=s(this.mask[u]),o.lineTo(a[0],a[1]);o.clip()}var l=s(this.center),h=(this._image.naturalWidth/2-this.crop[0])*this.scale[0]/e*r,c=(this._image.naturalHeight/2-this.crop[1])*this.scale[1]/e*r,p=this._imageSize[0]*this.scale[0]/e*r,f=this._imageSize[1]*this.scale[1]/e*r;return o.translate(l[0],l[1]),this.rotate&&o.rotate(this.rotate),o.drawImage(this._image,this.crop[0],this.crop[1],this._imageSize[0],this._imageSize[1],-h,-c,p,f),n},a.prototype.getCenter=function(){return this.center},a.prototype.setCenter=function(t){this.center=t,this.changed()},a.prototype.getScale=function(){return this.scale},a.prototype.setScale=function(t){switch(typeof t){case"number":t=[t,t];break;case"object":if(2!=t.length)return;break;default:return}this.scale=t,this.changed()},a.prototype.getRotation=function(){return this.rotate},a.prototype.setRotation=function(t){this.rotate=t,this.changed()},a.prototype.getGeoImage=function(){return this._image},a.prototype.getCrop=function(){return this.crop},a.prototype.setMask=function(t){this.mask=t,this.changed()},a.prototype.getMask=function(){return this.mask},a.prototype.setCrop=function(t){if(this._image.naturalWidth){if(t){switch(typeof t){case"number":t=[t,t,this._image.naturalWidth-t,this._image.naturalHeight-t];break;case"object":if(4!=t.length)return;break;default:return}t=(0,s.boundingExtent)([[t[0],t[1]],[t[2],t[3]]]),this.crop=[Math.max(0,t[0]),Math.max(0,t[1]),Math.min(this._image.naturalWidth,t[2]),Math.min(this._image.naturalHeight,t[3])]}else this.crop=[0,0,this._image.naturalWidth,this._image.naturalHeight];this.crop[2]<=this.crop[0]&&(this.crop[2]=this.crop[0]+1),this.crop[3]<=this.crop[1]&&(this.crop[3]=this.crop[1]+1),this._imageSize=[this.crop[2]-this.crop[0],this.crop[3]-this.crop[1]],this.changed()}else this.crop=t},a.prototype.getExtent=function(t){var e=this.get("extent");if(e||(e=this.calculateExtent()),t)for(var r=0;r<t.length;r++)t[r]=e[r];return e},a.prototype.calculateExtent=function(t){var e;if(!1!==t&&this.getMask())e=new o.ZP([this.getMask()]);else{var r=this.getCenter(),i=this.getScale(),n=this.getGeoImage().width*i[0],a=this.getGeoImage().height*i[1],u=(0,s.boundingExtent)([[r[0]-n/2,r[1]-a/2],[r[0]+n/2,r[1]+a/2]]);(e=(0,o.oJ)(u)).rotate(-this.getRotation(),r)}return e.getExtent()};const u=a},"./node_modules/ol-ext/style/Photo.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});var i=r("./node_modules/ol-ext/util/ext.js"),n=r("./node_modules/ol/style/RegularShape.js"),o=r("./node_modules/ol/color.js"),s=r("./node_modules/ol/style/Stroke.js"),a=function(t){t=t||{},this.sanchor_="anchored"==t.kind?8:0,this._shadow=Number(t.shadow)||0,t.stroke||(t.stroke=new s.Z({width:0,color:"#000"}));var e=t.stroke.getWidth();e<0&&(e=0),"folio"==t.kind&&(e+=6),t.stroke.setWidth(e),n.Z.call(this,{radius:t.radius+e+this.sanchor_/2+this._shadow/2,points:0});var r=this.getImage();if(!this.hitDetectionCanvas_)for(var i in this)if(this[i]&&this[i].getContext&&this[i]!==r){this.hitDetectionCanvas_=this[i];break}this.hitDetectionCanvas_=document.createElement("canvas"),this.hitDetectionCanvas_.width=r.width,this.hitDetectionCanvas_.height=r.height,this._stroke=t.stroke,this._fill=t.fill,this._crop=t.crop,this._crossOrigin=t.crossOrigin,this._kind=t.kind||"default",this._radius=t.radius,this._src=t.src,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],this._onload=t.onload,"number"==typeof t.opacity&&this.setOpacity(t.opacity),"number"==typeof t.rotation&&this.setRotation(t.rotation),this.renderPhoto_()};(0,i.Z)(a,n.Z),a.prototype.setOffset=function(t){this._offset=[t[0]||0,t[1]||0],this.renderPhoto_()},a.prototype.clone=function(){var t=new a({stroke:this._stroke,fill:this._fill,shadow:this._shadow,crop:this._crop,crossOrigin:this._crossOrigin,kind:this._kind,radius:this._radius,src:this._src,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation()});return t.renderPhoto_(),t},CanvasRenderingContext2D.prototype.roundRect=function(t,e,r,i,n){return n?(r<2*n&&(n=r/2),i<2*n&&(n=i/2),this.beginPath(),this.moveTo(t+n,e),this.arcTo(t+r,e,t+r,e+i,n),this.arcTo(t+r,e+i,t,e+i,n),this.arcTo(t,e+i,t,e,n),this.arcTo(t,e,t+r,e,n),this.closePath()):this.rect(t,e,r,i),this},a.prototype.drawBack_=function(t,e,r,i){var n=this._shadow,o=t.canvas;t.beginPath(),t.fillStyle=e,t.clearRect(0,0,o.width,o.height);var s=o.width/i,a=o.height/i;switch(this._kind){case"square":t.rect(0,0,s-n,a-n);break;case"circle":t.arc(this._radius+r,this._radius+r,this._radius+r,0,2*Math.PI,!1);break;case"folio":r-=6,t.strokeStyle="rgba(0,0,0,0.5)",t.lineWidth=1;var u=s-n-12,l=Math.atan(6/u);t.save(),t.rotate(-l),t.translate(-6,2),t.beginPath(),t.rect(6,6,u,u),t.stroke(),t.fill(),t.restore(),t.save(),t.translate(6,-1),t.rotate(l),t.beginPath(),t.rect(6,6,u,u),t.stroke(),t.fill(),t.restore(),t.beginPath(),t.rect(6,6,u,u),t.stroke();break;case"anchored":t.roundRect(this.sanchor_/2,0,s-this.sanchor_-n,a-this.sanchor_-n,r),t.moveTo(s/2-this.sanchor_-n/2,a-this.sanchor_-n),t.lineTo(s/2+this.sanchor_-n/2,a-this.sanchor_-n),t.lineTo(s/2-n/2,a-n);break;default:t.roundRect(0,0,s-n,a-n,r)}t.closePath()},a.prototype.renderPhoto_=function(t){if(t){var e,r=0;this._stroke&&(e=(0,o.XC)(this._stroke.getColor()),r=this._stroke.getWidth());var i=this.getImage(t),n=this.hitDetectionCanvas_.getContext("2d");this.drawBack_(n,"#000",r,1),n.fill(),(n=i.getContext("2d")).save(),n.setTransform(t,0,0,t,0,0),this.drawBack_(n,e,r,t),this._shadow&&(n.shadowColor="rgba(0,0,0,0.5)",n.shadowBlur=t*this._shadow/2,n.shadowOffsetX=t*this._shadow/2,n.shadowOffsetY=t*this._shadow/2),n.fill(),n.restore();var s=this,a=this.img_=new Image;this._crossOrigin&&(a.crossOrigin=this._crossOrigin),a.src=this._src,a.width?s.drawImage_(a):a.onload=function(){s.drawImage_(a),s._onload&&s._onload()};var u=this.getAnchor();u[0]=(i.width/t-this._shadow)/2-this._offset[0],this.sanchor_?u[1]=i.height/t-this._shadow-this._offset[1]:u[1]=(i.height/t-this._shadow)/2-this._offset[1]}else this.getPixelRatio?(t=window.devicePixelRatio,this.renderPhoto_(t)):this.renderPhoto_(1)},a.prototype.drawImage_=function(t){var e=window.devicePixelRatio,r=this.getImage(e).getContext("2d"),i=0;this._stroke&&(i=this._stroke.getWidth());var n,s,a,u,l,h,c,p,f,d=2*this._radius;r.save(),"circle"==this._kind&&(r.beginPath(),r.arc(this._radius+i,this._radius+i,this._radius,0,2*Math.PI,!1),r.clip()),this._crop?(p=f=(n=Math.min(t.width/d,t.height/d))*d,h=(t.width-p)/2,c=(t.height-f)/2,s=a=0,u=l=d+1):(h=c=0,s=(d-(u=(n=Math.min(d/t.width,d/t.height))*(p=t.width)))/2,a=(d-(l=n*(f=t.height)))/2),s+=i+this.sanchor_/2,a+=i,r.drawImage(t,h,c,p,f,s,a,u,l),r.restore(),"circle"==this._kind&&i&&(r.beginPath(),r.strokeStyle=(0,o.XC)(this._stroke.getColor()),r.lineWidth=i/4,r.arc(this._radius+i,this._radius+i,this._radius,0,2*Math.PI,!1),r.stroke())};const u=a},"./node_modules/ol-ext/util/ext.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>n}),window.ol&&!ol.ext&&(ol.ext={});var i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=i)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});const n=i},"./node_modules/ol/format.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{EsriJSON:()=>A,GML:()=>H,GPX:()=>K.default,GeoJSON:()=>R.Z,IGC:()=>ut,IIIFInfo:()=>vt.Z,KML:()=>wr,MVT:()=>Mr.Z,OWS:()=>Br,Polyline:()=>Xr,TopoJSON:()=>ii,WFS:()=>Rn,WKT:()=>qn,WMSCapabilities:()=>_o,WMSGetFeatureInfo:()=>vo,WMTSCapabilities:()=>Fo});var i,n=r("./node_modules/ol/Feature.js"),o=r("./node_modules/ol/geom/GeometryLayout.js"),s=r("./node_modules/ol/geom/GeometryType.js"),a=r("./node_modules/ol/format/JSONFeature.js"),u=r("./node_modules/ol/geom/LineString.js"),l=r("./node_modules/ol/geom/LinearRing.js"),h=r("./node_modules/ol/geom/MultiLineString.js"),c=r("./node_modules/ol/geom/MultiPoint.js"),p=r("./node_modules/ol/geom/MultiPolygon.js"),f=r("./node_modules/ol/geom/Point.js"),d=r("./node_modules/ol/geom/Polygon.js"),g=r("./node_modules/ol/asserts.js"),m=r("./node_modules/ol/obj.js"),_=r("./node_modules/ol/extent.js"),y=r("./node_modules/ol/geom/flat/deflate.js"),v=r("./node_modules/ol/proj.js"),b=r("./node_modules/ol/geom/flat/orient.js"),w=r("./node_modules/ol/format/Feature.js"),M=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S={};S[s.Z.POINT]=function(t){return void 0!==t.m&&void 0!==t.z?new f.Z([t.x,t.y,t.z,t.m],o.Z.XYZM):void 0!==t.z?new f.Z([t.x,t.y,t.z],o.Z.XYZ):void 0!==t.m?new f.Z([t.x,t.y,t.m],o.Z.XYM):new f.Z([t.x,t.y])},S[s.Z.LINE_STRING]=function(t){var e=E(t);return new u.Z(t.paths[0],e)},S[s.Z.POLYGON]=function(t){var e=E(t);return new d.ZP(t.rings,e)},S[s.Z.MULTI_POINT]=function(t){var e=E(t);return new c.Z(t.points,e)},S[s.Z.MULTI_LINE_STRING]=function(t){var e=E(t);return new h.Z(t.paths,e)},S[s.Z.MULTI_POLYGON]=function(t){var e=E(t);return new p.Z(t.rings,e)};var C={};function P(t,e){var r,i,n;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)n=s.Z.POINT;else if(t.points)n=s.Z.MULTI_POINT;else if(t.paths)n=1===t.paths.length?s.Z.LINE_STRING:s.Z.MULTI_LINE_STRING;else if(t.rings){var o=t,a=E(o),u=function(t,e){var r,i,n=[],o=[],s=[];for(r=0,i=t.length;r<i;++r)n.length=0,(0,y.Sg)(n,0,t[r],e.length),(0,b.bt)(n,0,n.length,e.length)?o.push([t[r]]):s.push(t[r]);for(;s.length;){var a=s.shift(),u=!1;for(r=o.length-1;r>=0;r--){var h=o[r][0];if((0,_.containsExtent)(new l.Z(h).getExtent(),new l.Z(a).getExtent())){o[r].push(a),u=!0;break}}u||o.push([a.reverse()])}return o}(o.rings,a);1===u.length?(n=s.Z.POLYGON,t=(0,m.f0)({},t,((r={}).rings=u[0],r))):(n=s.Z.MULTI_POLYGON,t=(0,m.f0)({},t,((i={}).rings=u,i)))}var h=S[n];return(0,w.fI)(h(t),!1,e)}function E(t){var e=o.Z.XY;return!0===t.hasZ&&!0===t.hasM?e=o.Z.XYZM:!0===t.hasZ?e=o.Z.XYZ:!0===t.hasM&&(e=o.Z.XYM),e}function O(t){var e=t.getLayout();return{hasZ:e===o.Z.XYZ||e===o.Z.XYZM,hasM:e===o.Z.XYM||e===o.Z.XYZM}}function x(t,e){return(0,C[t.getType()])((0,w.fI)(t,!0,e),e)}C[s.Z.POINT]=function(t,e){var r,i=t.getCoordinates(),n=t.getLayout();return n===o.Z.XYZ?r={x:i[0],y:i[1],z:i[2]}:n===o.Z.XYM?r={x:i[0],y:i[1],m:i[2]}:n===o.Z.XYZM?r={x:i[0],y:i[1],z:i[2],m:i[3]}:n===o.Z.XY?r={x:i[0],y:i[1]}:(0,g.h)(!1,34),r},C[s.Z.LINE_STRING]=function(t,e){var r=O(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:[t.getCoordinates()]}},C[s.Z.POLYGON]=function(t,e){var r=O(t);return{hasZ:r.hasZ,hasM:r.hasM,rings:t.getCoordinates(!1)}},C[s.Z.MULTI_POINT]=function(t,e){var r=O(t);return{hasZ:r.hasZ,hasM:r.hasM,points:t.getCoordinates()}},C[s.Z.MULTI_LINE_STRING]=function(t,e){var r=O(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:t.getCoordinates()}},C[s.Z.MULTI_POLYGON]=function(t,e){for(var r=O(t),i=t.getCoordinates(!1),n=[],o=0;o<i.length;o++)for(var s=i[o].length-1;s>=0;s--)n.push(i[o][s]);return{hasZ:r.hasZ,hasM:r.hasM,rings:n}};const A=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this)||this).geometryName_=i.geometryName,r}return M(e,t),e.prototype.readFeatureFromObject=function(t,e,r){var i=t,o=P(i.geometry,e),s=new n.default;if(this.geometryName_&&s.setGeometryName(this.geometryName_),s.setGeometry(o),i.attributes){s.setProperties(i.attributes,!0);var a=i.attributes[r];void 0!==a&&s.setId(a)}return s},e.prototype.readFeaturesFromObject=function(t,e){var r=e||{};if(t.features){for(var i=[],n=t.features,o=0,s=n.length;o<s;++o)i.push(this.readFeatureFromObject(n[o],r,t.objectIdFieldName));return i}return[this.readFeatureFromObject(t,r)]},e.prototype.readGeometryFromObject=function(t,e){return P(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return(0,v.get)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return x(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={};if(!t.hasProperties())return r.attributes={},r;var i=t.getProperties(),n=t.getGeometry();if(n){r.geometry=x(n,e);var o=e&&(e.dataProjection||e.featureProjection);o&&(r.geometry.spatialReference={wkid:Number((0,v.get)(o).getCode().split(":").pop())}),delete i[t.getGeometryName()]}return(0,m.xb)(i)?r.attributes={}:r.attributes=i,r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(this.writeFeatureObject(t[i],e));return{features:r}},e}(a.Z);var R=r("./node_modules/ol/format/GeoJSON.js"),I=r("./node_modules/ol/format/XMLFeature.js"),T=r("./node_modules/ol/array.js"),L=r("./node_modules/ol/xml.js"),N=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),j="http://www.opengis.net/gml",F=/^[\s\xa0]*$/,G=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.featureType=i.featureType,r.featureNS=i.featureNS,r.srsName=i.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:(0,L.Ei)(r.readFeaturesInternal),featureMembers:(0,L.z)(r.readFeaturesInternal)},r}return N(e,t),e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,i=null;if("FeatureCollection"==r)i=(0,L.O)([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){var n=e[0],o=n.featureType,s=n.featureNS;if(!o&&t.childNodes){o=[],s={};for(var a=0,u=t.childNodes.length;a<u;++a){var l=t.childNodes[a];if(1===l.nodeType){var h=l.nodeName.split(":").pop();if(-1===o.indexOf(h)){var c="",p=0,f=l.namespaceURI;for(var d in s){if(s[d]===f){c=d;break}++p}c||(s[c="p"+p]=f),o.push(c+":"+h)}}}"featureMember"!=r&&(n.featureType=o,n.featureNS=s)}if("string"==typeof s){var g=s;(s={}).p0=g}var m={},_=Array.isArray(o)?o:[o];for(var y in s){var v={};for(a=0,u=_.length;a<u;++a)(-1===_[a].indexOf(":")?"p0":_[a].split(":")[0])===y&&(v[_[a].split(":").pop()]="featureMembers"==r?(0,L.Ei)(this.readFeatureElement,this):(0,L.z)(this.readFeatureElement,this));m[s[y]]=v}i="featureMember"==r||"member"==r?(0,L.O)(void 0,m,t,e):(0,L.O)([],m,t,e)}return null===i&&(i=[]),i},e.prototype.readGeometryElement=function(t,e){var r=e[0];r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension");var i=(0,L.O)(null,this.GEOMETRY_PARSERS,t,e,this);return i?Array.isArray(i)?(0,w.lj)(i,r):(0,w.fI)(i,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var i,o={},s=t.firstElementChild;s;s=s.nextElementSibling){var a=void 0,u=s.localName;0===s.childNodes.length||1===s.childNodes.length&&(3===s.firstChild.nodeType||4===s.firstChild.nodeType)?(a=(0,L.Ve)(s,!1),F.test(a)&&(a=void 0)):(r&&(a=this.readGeometryElement(s,e)),a?"boundedBy"!==u&&(i=u):a=this.readFeatureElementInternal(s,e,!1)),o[u]?(o[u]instanceof Array||(o[u]=[o[u]]),o[u].push(a)):o[u]=a;var l=s.attributes.length;if(l>0){o[u]={_content_:o[u]};for(var h=0;h<l;h++){var c=s.attributes[h].name;o[u][c]=s.attributes[h].value}}}if(r){var p=new n.default(o);i&&p.setGeometryName(i);var f=t.getAttribute("fid")||(0,L.As)(t,this.namespace,"id");return f&&p.setId(f),p}return o},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new f.Z(r,o.Z.XYZ)},e.prototype.readMultiPoint=function(t,e){var r=(0,L.O)([],this.MULTIPOINT_PARSERS,t,e,this);return r?new c.Z(r):void 0},e.prototype.readMultiLineString=function(t,e){var r=(0,L.O)([],this.MULTILINESTRING_PARSERS,t,e,this);if(r)return new h.Z(r)},e.prototype.readMultiPolygon=function(t,e){var r=(0,L.O)([],this.MULTIPOLYGON_PARSERS,t,e,this);if(r)return new p.Z(r)},e.prototype.pointMemberParser=function(t,e){(0,L.T3)(this.POINTMEMBER_PARSERS,t,e,this)},e.prototype.lineStringMemberParser=function(t,e){(0,L.T3)(this.LINESTRINGMEMBER_PARSERS,t,e,this)},e.prototype.polygonMemberParser=function(t,e){(0,L.T3)(this.POLYGONMEMBER_PARSERS,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);return r?new u.Z(r,o.Z.XYZ):void 0},e.prototype.readFlatLinearRing=function(t,e){return(0,L.O)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new l.Z(r,o.Z.XYZ)},e.prototype.readPolygon=function(t,e){var r=(0,L.O)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var i,n=r[0],s=[n.length],a=void 0;for(a=1,i=r.length;a<i;++a)(0,T.l7)(n,r[a]),s.push(n.length);return new d.ZP(n,o.Z.XYZ,s)}},e.prototype.readFlatCoordinatesFromNode=function(t,e){return(0,L.O)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){return this.readGeometryElement(t,[this.getReadOptions(t,e||{})])||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&(0,m.f0)(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]},e.prototype.readProjectionFromNode=function(t){return(0,v.get)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(I.Z);G.prototype.namespace=j,G.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},G.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},G.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},G.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:(0,L.Ei)(G.prototype.pointMemberParser),pointMembers:(0,L.Ei)(G.prototype.pointMemberParser)}},G.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:(0,L.Ei)(G.prototype.lineStringMemberParser),lineStringMembers:(0,L.Ei)(G.prototype.lineStringMemberParser)}},G.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:(0,L.Ei)(G.prototype.polygonMemberParser),polygonMembers:(0,L.Ei)(G.prototype.polygonMemberParser)}},G.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:(0,L.Ei)(G.prototype.readFlatCoordinatesFromNode)}},G.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,L.Ei)(G.prototype.readLineString)}},G.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,L.Ei)(G.prototype.readPolygon)}},G.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,L.z)(G.prototype.readFlatLinearRing)}};const k=G;var Z=r("./node_modules/ol/format/xsd.js"),D=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),z={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},B=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,i)||this).FEATURE_COLLECTION_PARSERS[j].featureMember=(0,L.Ei)(r.readFeaturesInternal),r.schemaLocation=i.schemaLocation?i.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",r}return D(e,t),e.prototype.readFlatCoordinates=function(t,e){var r=(0,L.Ve)(t,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName,n="enu";if(i){var o=(0,v.get)(i);o&&(n=o.getAxisOrientation())}for(var s=r.trim().split(/\s+/),a=[],u=0,l=s.length;u<l;u++){var h=s[u].split(/,+/),c=parseFloat(h[0]),p=parseFloat(h[1]),f=3===h.length?parseFloat(h[2]):0;"en"===n.substr(0,2)?a.push(c,p,f):a.push(p,c,f)}return a},e.prototype.readBox=function(t,e){var r=(0,L.O)([null],this.BOX_PARSERS_,t,e,this);return(0,_.createOrUpdate)(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser=function(t,e){var r=(0,L.O)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.outerBoundaryIsParser=function(t,e){var r=(0,L.O)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var i,n=e[e.length-1],o=n.multiSurface,s=n.surface,a=n.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.getType())&&!0===o?i="MultiSurface":"Polygon"===i&&!0===s?i="Surface":"MultiLineString"===i&&!0===a&&(i="MultiCurve"),(0,L.c)("http://www.opengis.net/gml",i)},e.prototype.writeFeatureElement=function(t,e,r){var i=e.getId();i&&t.setAttribute("fid",i);var n=r[r.length-1],o=n.featureNS,s=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var a=[],u=[];if(e.hasProperties()){var l=e.getProperties();for(var h in l){var c=l[h];null!==c&&(a.push(h),u.push(c),h==s||"function"==typeof c.getSimplifiedGeometry?h in n.serializers[o]||(n.serializers[o][h]=(0,L.A4)(this.writeGeometryElement,this)):h in n.serializers[o]||(n.serializers[o][h]=(0,L.A4)(Z.bZ)))}}var p=(0,m.f0)({},n);p.node=t,(0,L.ZL)(p,n.serializers,(0,L.G3)(void 0,o),u,r,a)},e.prototype.writeCurveOrLineString=function(t,e,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var n=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(n),this.writeCoordinates_(n,e,r)}else if("Curve"===t.nodeName){var o=(0,L.c)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString(i,e,r))},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,s=i.curve;o&&t.setAttribute("srsName",o);var a=e.getLineStrings();(0,L.ZL)({node:t,hasZ:n,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var i,n=r[r.length-1],o=(0,m.f0)({},n);o.node=t,i=Array.isArray(e)?(0,w.lj)(e,n):(0,w.fI)(e,!0,n),(0,L.ZL)(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=(0,L.c)(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var i=r[r.length-1],n=i.hasZ,o=i.srsName,s=e.getCoordinates(),a=s.length,u=new Array(a),l=0;l<a;++l){var h=s[l];u[l]=this.getCoords_(h,o,n)}(0,Z.bZ)(t,u.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString(i,e,r)},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var s=e.getLinearRings();(0,L.ZL)({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,r,void 0,this)}else if("Surface"===t.nodeName){var a=(0,L.c)(t.namespaceURI,"patches");t.appendChild(a),this.writeSurfacePatches_(a,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1],n=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),(0,L.c)(n.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r)},e.prototype.writeRing=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing(i,e,r)},e.prototype.getCoords_=function(t,e,r){var i="enu";e&&(i=(0,v.get)(e).getAxisOrientation());var n="en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];return r&&(n+=","+(t[2]||0)),n},e.prototype.writePoint=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s);var a=e.getCoordinates(),u=this.getCoords_(a,o,n);(0,Z.bZ)(s,u)},e.prototype.writeMultiPoint=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);var s=e.getPoints();(0,L.ZL)({node:t,hasZ:n,srsName:o},this.POINTMEMBER_SERIALIZERS,(0,L.G3)("pointMember"),s,r,void 0,this)},e.prototype.writePointMember=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"Point");t.appendChild(i),this.writePoint(i,e,r)},e.prototype.writeLinearRing=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(n),this.writeCoordinates_(n,e,r)},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,s=i.surface;o&&t.setAttribute("srsName",o);var a=e.getPolygons();(0,L.ZL)({node:t,hasZ:n,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r))},e.prototype.writeEnvelope=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,L.ZL)({node:t},this.ENVELOPE_SERIALIZERS,L.hg,n,r,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1].node;return(0,L.c)("http://www.opengis.net/gml",z[i.nodeName])},e}(k);B.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,L.z)(B.prototype.readFlatCoordinates)}},B.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:B.prototype.innerBoundaryIsParser,outerBoundaryIs:B.prototype.outerBoundaryIsParser}},B.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,L.Ei)(B.prototype.readFlatCoordinates)}},B.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,L.z)(k.prototype.readPoint),MultiPoint:(0,L.z)(k.prototype.readMultiPoint),LineString:(0,L.z)(k.prototype.readLineString),MultiLineString:(0,L.z)(k.prototype.readMultiLineString),LinearRing:(0,L.z)(k.prototype.readLinearRing),Polygon:(0,L.z)(k.prototype.readPolygon),MultiPolygon:(0,L.z)(k.prototype.readMultiPolygon),Box:(0,L.z)(B.prototype.readBox)}},B.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,L.A4)(B.prototype.writeCurveOrLineString),MultiCurve:(0,L.A4)(B.prototype.writeMultiCurveOrLineString),Point:(0,L.A4)(B.prototype.writePoint),MultiPoint:(0,L.A4)(B.prototype.writeMultiPoint),LineString:(0,L.A4)(B.prototype.writeCurveOrLineString),MultiLineString:(0,L.A4)(B.prototype.writeMultiCurveOrLineString),LinearRing:(0,L.A4)(B.prototype.writeLinearRing),Polygon:(0,L.A4)(B.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,L.A4)(B.prototype.writeMultiSurfaceOrPolygon),Surface:(0,L.A4)(B.prototype.writeSurfaceOrPolygon),MultiSurface:(0,L.A4)(B.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,L.A4)(B.prototype.writeEnvelope)}},B.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,L.A4)(B.prototype.writeLineStringOrCurveMember),curveMember:(0,L.A4)(B.prototype.writeLineStringOrCurveMember)}},B.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:(0,L.A4)(B.prototype.writeRing),innerBoundaryIs:(0,L.A4)(B.prototype.writeRing)}},B.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,L.A4)(B.prototype.writePointMember)}},B.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,L.A4)(B.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,L.A4)(B.prototype.writeSurfaceOrPolygonMember)}},B.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,L.A4)(Z.bZ),upperCorner:(0,L.A4)(Z.bZ)}};const U=B;var q=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),V={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Y=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,i)||this).surface_=void 0!==i.surface&&i.surface,r.curve_=void 0!==i.curve&&i.curve,r.multiCurve_=void 0===i.multiCurve||i.multiCurve,r.multiSurface_=void 0===i.multiSurface||i.multiSurface,r.schemaLocation=i.schemaLocation?i.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",r.hasZ=void 0!==i.hasZ&&i.hasZ,r}return q(e,t),e.prototype.readMultiCurve=function(t,e){var r=(0,L.O)([],this.MULTICURVE_PARSERS,t,e,this);return r?new h.Z(r):void 0},e.prototype.readMultiSurface=function(t,e){var r=(0,L.O)([],this.MULTISURFACE_PARSERS,t,e,this);if(r)return new p.Z(r)},e.prototype.curveMemberParser=function(t,e){(0,L.T3)(this.CURVEMEMBER_PARSERS,t,e,this)},e.prototype.surfaceMemberParser=function(t,e){(0,L.T3)(this.SURFACEMEMBER_PARSERS,t,e,this)},e.prototype.readPatch=function(t,e){return(0,L.O)([null],this.PATCHES_PARSERS,t,e,this)},e.prototype.readSegment=function(t,e){return(0,L.O)([null],this.SEGMENTS_PARSERS,t,e,this)},e.prototype.readPolygonPatch=function(t,e){return(0,L.O)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment=function(t,e){return(0,L.O)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser=function(t,e){var r=(0,L.O)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.exteriorParser=function(t,e){var r=(0,L.O)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.readSurface=function(t,e){var r=(0,L.O)([null],this.SURFACE_PARSERS,t,e,this);if(r&&r[0]){var i,n=r[0],s=[n.length],a=void 0;for(a=1,i=r.length;a<i;++a)(0,T.l7)(n,r[a]),s.push(n.length);return new d.ZP(n,o.Z.XYZ,s)}},e.prototype.readCurve=function(t,e){var r=(0,L.O)([null],this.CURVE_PARSERS,t,e,this);return r?new u.Z(r,o.Z.XYZ):void 0},e.prototype.readEnvelope=function(t,e){var r=(0,L.O)([null],this.ENVELOPE_PARSERS,t,e,this);return(0,_.createOrUpdate)(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos=function(t,e){for(var r,i=(0,L.Ve)(t,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];r=n.exec(i);)o.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""===i){var s=e[0].srsName,a="enu";if(s&&(a=(0,v.get)(s).getAxisOrientation()),"neu"===a){var u,l=void 0;for(l=0,u=o.length;l<u;l+=3){var h=o[l],c=o[l+1];o[l]=c,o[l+1]=h}}var p=o.length;if(2==p&&o.push(0),0!==p)return o}},e.prototype.readFlatPosList=function(t,e){var r=(0,L.Ve)(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],n=i.srsName,o=i.srsDimension,s="enu";n&&(s=(0,v.get)(n).getAxisOrientation());var a,u,l,h=r.split(/\s+/),c=2;t.getAttribute("srsDimension")?c=(0,Z._E)(t.getAttribute("srsDimension")):t.getAttribute("dimension")?c=(0,Z._E)(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?c=(0,Z._E)(t.parentNode.getAttribute("srsDimension")):o&&(c=(0,Z._E)(o));for(var p=[],f=0,d=h.length;f<d;f+=c)a=parseFloat(h[f]),u=parseFloat(h[f+1]),l=3===c?parseFloat(h[f+2]):0,"en"===s.substr(0,2)?p.push(a,u,l):p.push(u,a,l);return p},e.prototype.writePos_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=n?"3":"2";t.setAttribute("srsDimension",o);var s=i.srsName,a="enu";s&&(a=(0,v.get)(s).getAxisOrientation());var u,l=e.getCoordinates();u="en"===a.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],n&&(u+=" "+(l[2]||0)),(0,Z.bZ)(t,u)},e.prototype.getCoords_=function(t,e,r){var i="enu";e&&(i=(0,v.get)(e).getAxisOrientation());var n="en"===i.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];return r&&(n+=" "+(t[2]||0)),n},e.prototype.writePosList_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=n?"3":"2";t.setAttribute("srsDimension",o);for(var s,a=i.srsName,u=e.getCoordinates(),l=u.length,h=new Array(l),c=0;c<l;++c)s=u[c],h[c]=this.getCoords_(s,a,n);(0,Z.bZ)(t,h.join(" "))},e.prototype.writePoint=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=(0,L.c)(t.namespaceURI,"pos");t.appendChild(n),this.writePos_(n,e,r)},e.prototype.writeEnvelope=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,L.ZL)({node:t},this.ENVELOPE_SERIALIZERS,L.hg,n,r,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=(0,L.c)(t.namespaceURI,"posList");t.appendChild(n),this.writePosList_(n,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1],n=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),(0,L.c)(n.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var s=e.getLinearRings();(0,L.ZL)({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,r,void 0,this)}else if("Surface"===t.nodeName){var a=(0,L.c)(t.namespaceURI,"patches");t.appendChild(a),this.writeSurfacePatches_(a,e,r)}},e.prototype.writeCurveOrLineString=function(t,e,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var n=(0,L.c)(t.namespaceURI,"posList");t.appendChild(n),this.writePosList_(n,e,r)}else if("Curve"===t.nodeName){var o=(0,L.c)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,s=i.surface;o&&t.setAttribute("srsName",o);var a=e.getPolygons();(0,L.ZL)({node:t,hasZ:n,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)},e.prototype.writeMultiPoint=function(t,e,r){var i=r[r.length-1],n=i.srsName,o=i.hasZ;n&&t.setAttribute("srsName",n);var s=e.getPoints();(0,L.ZL)({node:t,hasZ:o,srsName:n},this.POINTMEMBER_SERIALIZERS,(0,L.G3)("pointMember"),s,r,void 0,this)},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,s=i.curve;o&&t.setAttribute("srsName",o);var a=e.getLineStrings();(0,L.ZL)({node:t,hasZ:n,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)},e.prototype.writeRing=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing(i,e,r)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r))},e.prototype.writePointMember=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"Point");t.appendChild(i),this.writePoint(i,e,r)},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString(i,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var i=(0,L.c)(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString(i,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var i,n=r[r.length-1],o=(0,m.f0)({},n);o.node=t,i=Array.isArray(e)?(0,w.lj)(e,n):(0,w.fI)(e,!0,n),(0,L.ZL)(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var i=e.getId();i&&t.setAttribute("fid",i);var n=r[r.length-1],o=n.featureNS,s=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var a=[],u=[];if(e.hasProperties()){var l=e.getProperties();for(var h in l){var c=l[h];null!==c&&(a.push(h),u.push(c),h==s||"function"==typeof c.getSimplifiedGeometry?h in n.serializers[o]||(n.serializers[o][h]=(0,L.A4)(this.writeGeometryElement,this)):h in n.serializers[o]||(n.serializers[o][h]=(0,L.A4)(Z.bZ)))}}var p=(0,m.f0)({},n);p.node=t,(0,L.ZL)(p,n.serializers,(0,L.G3)(void 0,o),u,r,a)},e.prototype.writeFeatureMembers_=function(t,e,r){var i=r[r.length-1],n=i.featureType,o=i.featureNS,s={};s[o]={},s[o][n]=(0,L.A4)(this.writeFeatureElement,this);var a=(0,m.f0)({},i);a.node=t,(0,L.ZL)(a,s,(0,L.G3)(n,o),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1].node;return(0,L.c)(this.namespace,V[i.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var i,n=e[e.length-1],o=n.multiSurface,s=n.surface,a=n.curve,u=n.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.getType())&&!0===o?i="MultiSurface":"Polygon"===i&&!0===s?i="Surface":"LineString"===i&&!0===a?i="Curve":"MultiLineString"===i&&!0===u&&(i="MultiCurve"),(0,L.c)(this.namespace,i)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=(0,L.c)(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&(0,m.f0)(i,e),this.writeGeometryElement(r,t,[i]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=(0,L.c)(this.namespace,"featureMembers");r.setAttributeNS(L.fJ,"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&(0,m.f0)(i,e),this.writeFeatureMembers_(r,t,[i]),r},e}(k);Y.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,L.z)(Y.prototype.readFlatPos),posList:(0,L.z)(Y.prototype.readFlatPosList),coordinates:(0,L.z)(U.prototype.readFlatCoordinates)}},Y.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Y.prototype.interiorParser,exterior:Y.prototype.exteriorParser}},Y.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,L.z)(k.prototype.readPoint),MultiPoint:(0,L.z)(k.prototype.readMultiPoint),LineString:(0,L.z)(k.prototype.readLineString),MultiLineString:(0,L.z)(k.prototype.readMultiLineString),LinearRing:(0,L.z)(k.prototype.readLinearRing),Polygon:(0,L.z)(k.prototype.readPolygon),MultiPolygon:(0,L.z)(k.prototype.readMultiPolygon),Surface:(0,L.z)(Y.prototype.readSurface),MultiSurface:(0,L.z)(Y.prototype.readMultiSurface),Curve:(0,L.z)(Y.prototype.readCurve),MultiCurve:(0,L.z)(Y.prototype.readMultiCurve),Envelope:(0,L.z)(Y.prototype.readEnvelope)}},Y.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:(0,L.Ei)(Y.prototype.curveMemberParser),curveMembers:(0,L.Ei)(Y.prototype.curveMemberParser)}},Y.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:(0,L.Ei)(Y.prototype.surfaceMemberParser),surfaceMembers:(0,L.Ei)(Y.prototype.surfaceMemberParser)}},Y.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,L.Ei)(k.prototype.readLineString),Curve:(0,L.Ei)(Y.prototype.readCurve)}},Y.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,L.Ei)(k.prototype.readPolygon),Surface:(0,L.Ei)(Y.prototype.readSurface)}},Y.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:(0,L.z)(Y.prototype.readPatch)}},Y.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:(0,L.z)(Y.prototype.readSegment)}},Y.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:(0,L.Ei)(Y.prototype.readFlatPosList),upperCorner:(0,L.Ei)(Y.prototype.readFlatPosList)}},Y.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:(0,L.z)(Y.prototype.readPolygonPatch)}},Y.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:(0,L.z)(Y.prototype.readLineStringSegment)}},Y.prototype.writeFeatures,Y.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:(0,L.A4)(Y.prototype.writeRing),interior:(0,L.A4)(Y.prototype.writeRing)}},Y.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,L.A4)(Z.bZ),upperCorner:(0,L.A4)(Z.bZ)}},Y.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,L.A4)(Y.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,L.A4)(Y.prototype.writeSurfaceOrPolygonMember)}},Y.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,L.A4)(Y.prototype.writePointMember)}},Y.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,L.A4)(Y.prototype.writeLineStringOrCurveMember),curveMember:(0,L.A4)(Y.prototype.writeLineStringOrCurveMember)}},Y.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,L.A4)(Y.prototype.writeCurveOrLineString),MultiCurve:(0,L.A4)(Y.prototype.writeMultiCurveOrLineString),Point:(0,L.A4)(Y.prototype.writePoint),MultiPoint:(0,L.A4)(Y.prototype.writeMultiPoint),LineString:(0,L.A4)(Y.prototype.writeCurveOrLineString),MultiLineString:(0,L.A4)(Y.prototype.writeMultiCurveOrLineString),LinearRing:(0,L.A4)(Y.prototype.writeLinearRing),Polygon:(0,L.A4)(Y.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,L.A4)(Y.prototype.writeMultiSurfaceOrPolygon),Surface:(0,L.A4)(Y.prototype.writeSurfaceOrPolygon),MultiSurface:(0,L.A4)(Y.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,L.A4)(Y.prototype.writeEnvelope)}};const W=Y;var X=W;X.prototype.writeFeatures,X.prototype.writeFeaturesNode;const H=X;var K=r("./node_modules/ol/format/GPX.js"),Q=r("./node_modules/ol/format/FormatType.js"),J=r("./node_modules/ol/util.js"),$=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();function tt(t){return"string"==typeof t?t:""}const et=function(t){function e(){return t.call(this)||this}return $(e,t),e.prototype.getType=function(){return Q.Z.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(tt(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return(0,J.O3)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(tt(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return(0,J.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(tt(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return(0,J.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(tt(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return(0,J.O3)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return(0,J.O3)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return(0,J.O3)()},e}(w.ZP);var rt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),it="none",nt=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ot=/^H.([A-Z]{3}).*?:(.*)/,st=/^HFDTE(\d{2})(\d{2})(\d{2})/,at=/\r\n|\r|\n/;const ut=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.dataProjection=(0,v.get)("EPSG:4326"),r.altitudeMode_=i.altitudeMode?i.altitudeMode:it,r}return rt(e,t),e.prototype.readFeatureFromText=function(t,e){var r,i,s=this.altitudeMode_,a=t.split(at),l={},h=[],c=2e3,p=0,f=1,d=-1;for(r=0,i=a.length;r<i;++r){var g=a[r],m=void 0;if("B"==g.charAt(0)){if(m=nt.exec(g)){var _=parseInt(m[1],10),y=parseInt(m[2],10),v=parseInt(m[3],10),b=parseInt(m[4],10)+parseInt(m[5],10)/6e4;"S"==m[6]&&(b=-b);var M=parseInt(m[7],10)+parseInt(m[8],10)/6e4;if("W"==m[9]&&(M=-M),h.push(M,b),s!=it){var S;S="gps"==s?parseInt(m[11],10):"barometric"==s?parseInt(m[12],10):0,h.push(S)}var C=Date.UTC(c,p,f,_,y,v);C<d&&(C=Date.UTC(c,p,f+1,_,y,v)),h.push(C/1e3),d=C}}else"H"==g.charAt(0)&&((m=st.exec(g))?(f=parseInt(m[1],10),p=parseInt(m[2],10)-1,c=2e3+parseInt(m[3],10)):(m=ot.exec(g))&&(l[m[1]]=m[2].trim()))}if(0===h.length)return null;var P=s==it?o.Z.XYM:o.Z.XYZM,E=new u.Z(h,P),O=new n.default((0,w.fI)(E,!1,e));return O.setProperties(l,!0),O},e.prototype.readFeaturesFromText=function(t,e){var r=this.readFeatureFromText(t,e);return r?[r]:[]},e}(et);var lt,ht,ct,pt,ft,dt,gt,mt,_t,yt,vt=r("./node_modules/ol/format/IIIFInfo.js"),bt=r("./node_modules/ol/style/Fill.js"),wt=r("./node_modules/ol/geom/GeometryCollection.js"),Mt=r("./node_modules/ol/style/Icon.js"),St=r("./node_modules/ol/style/IconAnchorUnits.js"),Ct=r("./node_modules/ol/style/IconOrigin.js"),Pt=r("./node_modules/ol/style/Stroke.js"),Et=r("./node_modules/ol/style/Style.js"),Ot=r("./node_modules/ol/style/Text.js"),xt=r("./node_modules/ol/color.js"),At=r("./node_modules/ol/math.js"),Rt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),It=["http://www.google.com/kml/ext/2.2"],Tt=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Lt={fraction:St.Z.FRACTION,pixels:St.Z.PIXELS,insetPixels:St.Z.PIXELS},Nt=(0,L.C5)(Tt,{ExtendedData:Oe,Region:xe,MultiGeometry:(0,L.Pr)(ye,"geometry"),LineString:(0,L.Pr)(ge,"geometry"),LinearRing:(0,L.Pr)(me,"geometry"),Point:(0,L.Pr)(ve,"geometry"),Polygon:(0,L.Pr)(we,"geometry"),Style:(0,L.Pr)(Se),StyleMap:function(t,e){var r=ee.call(this,t,e);if(r){var i=e[e.length-1];Array.isArray(r)?i.Style=r:"string"==typeof r?i.styleUrl=r:(0,g.h)(!1,38)}},address:(0,L.Pr)(Z.s2),description:(0,L.Pr)(Z.s2),name:(0,L.Pr)(Z.s2),open:(0,L.Pr)(Z.ud),phoneNumber:(0,L.Pr)(Z.s2),styleUrl:(0,L.Pr)(Jt),visibility:(0,L.Pr)(Z.ud)},(0,L.C5)(It,{MultiTrack:(0,L.Pr)((function(t,e){var r=(0,L.O)([],ue,t,e);if(r)return new h.Z(r)}),"geometry"),Track:(0,L.Pr)(he,"geometry")})),jt=(0,L.C5)(Tt,{ExtendedData:Oe,Region:xe,Link:function(t,e){(0,L.T3)(Ft,t,e)},address:(0,L.Pr)(Z.s2),description:(0,L.Pr)(Z.s2),name:(0,L.Pr)(Z.s2),open:(0,L.Pr)(Z.ud),phoneNumber:(0,L.Pr)(Z.s2),visibility:(0,L.Pr)(Z.ud)}),Ft=(0,L.C5)(Tt,{href:(0,L.Pr)(Qt)}),Gt=(0,L.C5)(Tt,{LatLonAltBox:function(t,e){var r=(0,L.O)({},Ie,t,e);if(r){var i=e[e.length-1],n=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];i.extent=n,i.altitudeMode=r.altitudeMode,i.minAltitude=parseFloat(r.minAltitude),i.maxAltitude=parseFloat(r.maxAltitude)}},Lod:function(t,e){var r=(0,L.O)({},Te,t,e);if(r){var i=e[e.length-1];i.minLodPixels=parseFloat(r.minLodPixels),i.maxLodPixels=parseFloat(r.maxLodPixels),i.minFadeExtent=parseFloat(r.minFadeExtent),i.maxFadeExtent=parseFloat(r.maxFadeExtent)}}}),kt=(0,L.C5)(Tt,["Document","Placemark"]),Zt=(0,L.C5)(Tt,{Document:(0,L.A4)((function(t,e,r){var i={node:t};(0,L.ZL)(i,Ge,ke,e,r,void 0,this)})),Placemark:(0,L.A4)(ur)}),Dt=null,zt=null,Bt=null,Ut=null,qt=null,Vt=null;function Yt(t){return t}var Wt=function(t){function e(e){var r=t.call(this)||this,i=e||{};return Vt||(lt=[255,255,255,1],Dt=new bt.Z({color:lt}),ht=[20,2],ct=St.Z.PIXELS,pt=St.Z.PIXELS,ft=[64,64],dt="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",gt=.5,zt=new Mt.Z({anchor:ht,anchorOrigin:Ct.Z.BOTTOM_LEFT,anchorXUnits:ct,anchorYUnits:pt,crossOrigin:"anonymous",rotation:0,scale:gt,size:ft,src:dt}),mt="NO_IMAGE",Bt=new Pt.Z({color:lt,width:1}),_t=new Pt.Z({color:[51,51,51,1],width:2}),Ut=new Ot.Z({font:"bold 16px Helvetica",fill:Dt,stroke:_t,scale:.8}),qt=new Et.ZP({fill:Dt,image:zt,text:Ut,stroke:Bt,zIndex:0}),Vt=[qt]),r.dataProjection=(0,v.get)("EPSG:4326"),r.defaultStyle_=i.defaultStyle?i.defaultStyle:Vt,r.extractStyles_=void 0===i.extractStyles||i.extractStyles,r.writeStyles_=void 0===i.writeStyles||i.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===i.showPointNames||i.showPointNames,r.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",r.iconUrlFunction_=i.iconUrlFunction?i.iconUrlFunction:Yt,r}return Rt(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var r=(0,L.C5)(Tt,{Document:(0,L.pc)(this.readDocumentOrFolder_,this),Folder:(0,L.pc)(this.readDocumentOrFolder_,this),Placemark:(0,L.Ei)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});return(0,L.O)([],r,t,e,this)||void 0},e.prototype.readPlacemark_=function(t,e){var r,i,o,a,u,l=(0,L.O)({geometry:null},Nt,t,e,this);if(l){var h=new n.default,c=t.getAttribute("id");null!==c&&h.setId(c);var p=e[0],f=l.geometry;if(f&&(0,w.fI)(f,!1,p),h.setGeometry(f),delete l.geometry,this.extractStyles_){var d=(r=l.Style,i=l.styleUrl,o=this.defaultStyle_,a=this.sharedStyles_,u=this.showPointNames_,function(t,e){var n=u,l="",h=[];if(n){var c=t.getGeometry();if(c){var p=c.getType();n=p===s.Z.GEOMETRY_COLLECTION?(h=c.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===s.Z.POINT||e===s.Z.MULTI_POINT}))).length>0:p===s.Z.POINT||p===s.Z.MULTI_POINT}}n&&(l=t.get("name"),(n=n&&!!l)&&l.search(/&[^&]+;/)>-1&&(yt||(yt=document.createElement("textarea")),yt.innerHTML=l,l=yt.value));var f=o;if(r?f=r:i&&(f=Xt(i,o,a)),n){var d=function(t,e){var r=[0,0],i="start",n=t.getImage();if(n){var o=n.getImageSize();if(null===o&&(o=ft),2==o.length){var s=n.getScaleArray();r[0]=s[0]*o[0]/2,r[1]=-s[1]*o[1]/2,i="left"}}var a=t.getText();return a?((a=a.clone()).setFont(a.getFont()||Ut.getFont()),a.setScale(a.getScale()||Ut.getScale()),a.setFill(a.getFill()||Ut.getFill()),a.setStroke(a.getStroke()||_t)):a=Ut.clone(),a.setText(e),a.setOffsetX(r[0]),a.setOffsetY(r[1]),a.setTextAlign(i),new Et.ZP({image:n,text:a})}(f[0],l);return h.length>0?(d.setGeometry(new wt.Z(h)),[d,new Et.ZP({geometry:f[0].getGeometry(),image:null,fill:f[0].getFill(),stroke:f[0].getStroke(),text:null})].concat(f.slice(1))):d}return f});h.setStyle(d)}return delete l.Style,h.setProperties(l,!0),h}},e.prototype.readSharedStyle_=function(t,e){var r=t.getAttribute("id");if(null!==r){var i=Se.call(this,t,e);if(i){var n=void 0,o=t.baseURI;o&&"about:blank"!=o||(o=window.location.href),n=o?new URL("#"+r,o).href:"#"+r,this.sharedStyles_[n]=i}}},e.prototype.readSharedStyleMap_=function(t,e){var r=t.getAttribute("id");if(null!==r){var i=ee.call(this,t,e);if(i){var n,o=t.baseURI;o&&"about:blank"!=o||(o=window.location.href),n=o?new URL("#"+r,o).href:"#"+r,this.sharedStyles_[n]=i}}},e.prototype.readFeatureFromNode=function(t,e){return(0,T.q9)(Tt,t.namespaceURI)&&this.readPlacemark_(t,[this.getReadOptions(t,e)])||null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,T.q9)(Tt,t.namespaceURI))return[];var r,i=t.localName;if("Document"==i||"Folder"==i)return(r=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==i){var n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n?[n]:[]}if("kml"==i){r=[];for(var o=t.firstElementChild;o;o=o.nextElementSibling){var s=this.readFeaturesFromNode(o,e);s&&(0,T.l7)(r,s)}return r}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=(0,L.Qc)(t);return this.readNameFromDocument(e)}return(0,L.qk)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(e);if(r)return r}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if((0,T.q9)(Tt,e.namespaceURI)&&"name"==e.localName)return(0,Z.s2)(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var r=e.localName;if((0,T.q9)(Tt,e.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var i=this.readNameFromNode(e);if(i)return i}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var r=(0,L.Qc)(t);(0,T.l7)(e,this.readNetworkLinksFromDocument(r))}else(0,L.qk)(t)?(0,T.l7)(e,this.readNetworkLinksFromDocument(t)):(0,T.l7)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,T.l7)(e,this.readNetworkLinksFromNode(r));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if((0,T.q9)(Tt,r.namespaceURI)&&"NetworkLink"==r.localName){var i=(0,L.O)({},jt,r,[]);e.push(i)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var n=r.localName;!(0,T.q9)(Tt,r.namespaceURI)||"Document"!=n&&"Folder"!=n&&"kml"!=n||(0,T.l7)(e,this.readNetworkLinksFromNode(r))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var r=(0,L.Qc)(t);(0,T.l7)(e,this.readRegionFromDocument(r))}else(0,L.qk)(t)?(0,T.l7)(e,this.readRegionFromDocument(t)):(0,T.l7)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,T.l7)(e,this.readRegionFromNode(r));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if((0,T.q9)(Tt,r.namespaceURI)&&"Region"==r.localName){var i=(0,L.O)({},Gt,r,[]);e.push(i)}for(r=t.firstElementChild;r;r=r.nextElementSibling){var n=r.localName;!(0,T.q9)(Tt,r.namespaceURI)||"Document"!=n&&"Folder"!=n&&"kml"!=n||(0,T.l7)(e,this.readRegionFromNode(r))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=(0,L.c)(Tt[4],"kml"),i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",It[0]),r.setAttributeNS(i,"xmlns:xsi",L.fJ),r.setAttributeNS(L.fJ,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var n={node:r},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var s=kt[r.namespaceURI],a=(0,L.RA)(o,s);return(0,L.ZL)(n,Zt,L.hg,a,[e],s,this),r},e}(I.Z);function Xt(t,e,r){return Array.isArray(t)?t:"string"==typeof t?Xt(r[t],e,r):e}function Ht(t){var e=(0,L.Ve)(t,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(r){var i=r[1];return[parseInt(i.substr(6,2),16),parseInt(i.substr(4,2),16),parseInt(i.substr(2,2),16),parseInt(i.substr(0,2),16)/255]}}function Kt(t){var e=(0,L.Ve)(t,!1),r=[];e=e.replace(/\s*,\s*/g,",");for(var i,n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;i=n.exec(e);){var o=parseFloat(i[1]),s=parseFloat(i[2]),a=i[3]?parseFloat(i[3]):0;r.push(o,s,a),e=e.substr(i[0].length)}if(""===e)return r}function Qt(t){var e=(0,L.Ve)(t,!1).trim(),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function Jt(t){var e=(0,L.Ve)(t,!1).trim().replace(/^(?!.*#)/,"#"),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function $t(t){return(0,Z.fy)(t)}var te=(0,L.C5)(Tt,{Pair:function(t,e){var r=(0,L.O)({},Ae,t,e,this);if(r){var i=r.key;if(i&&"normal"==i){var n=r.styleUrl;n&&(e[e.length-1]=n);var o=r.Style;o&&(e[e.length-1]=o)}}}});function ee(t,e){return(0,L.O)(void 0,te,t,e,this)}var re=(0,L.C5)(Tt,{Icon:(0,L.Pr)((function(t,e){return(0,L.O)({},ce,t,e)||null})),color:(0,L.Pr)(Ht),heading:(0,L.Pr)(Z.fy),hotSpot:(0,L.Pr)((function(t){var e,r=t.getAttribute("xunits"),i=t.getAttribute("yunits");return e="insetPixels"!==r?"insetPixels"!==i?Ct.Z.BOTTOM_LEFT:Ct.Z.TOP_LEFT:"insetPixels"!==i?Ct.Z.BOTTOM_RIGHT:Ct.Z.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:Lt[r],y:parseFloat(t.getAttribute("y")),yunits:Lt[i],origin:e}})),scale:(0,L.Pr)($t)}),ie=(0,L.C5)(Tt,{color:(0,L.Pr)(Ht),scale:(0,L.Pr)($t)}),ne=(0,L.C5)(Tt,{color:(0,L.Pr)(Ht),width:(0,L.Pr)(Z.fy)}),oe=(0,L.C5)(Tt,{color:(0,L.Pr)(Ht),fill:(0,L.Pr)(Z.ud),outline:(0,L.Pr)(Z.ud)}),se=(0,L.C5)(Tt,{coordinates:(0,L.z)(Kt)});function ae(t,e){return(0,L.O)(null,se,t,e)}var ue=(0,L.C5)(It,{Track:(0,L.Ei)(he)}),le=(0,L.C5)(Tt,{when:function(t,e){var r=e[e.length-1].whens,i=(0,L.Ve)(t,!1),n=Date.parse(i);r.push(isNaN(n)?0:n)}},(0,L.C5)(It,{coord:function(t,e){var r=e[e.length-1].flatCoordinates,i=(0,L.Ve)(t,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(n){var o=parseFloat(n[1]),s=parseFloat(n[2]),a=parseFloat(n[3]);r.push(o,s,a,0)}else r.push(0,0,0,0)}}));function he(t,e){var r=(0,L.O)({flatCoordinates:[],whens:[]},le,t,e);if(r){for(var i=r.flatCoordinates,n=r.whens,s=0,a=Math.min(i.length,n.length);s<a;++s)i[4*s+3]=n[s];return new u.Z(i,o.Z.XYZM)}}var ce=(0,L.C5)(Tt,{href:(0,L.Pr)(Qt)},(0,L.C5)(It,{x:(0,L.Pr)(Z.fy),y:(0,L.Pr)(Z.fy),w:(0,L.Pr)(Z.fy),h:(0,L.Pr)(Z.fy)})),pe=(0,L.C5)(Tt,{coordinates:(0,L.z)(Kt)});function fe(t,e){return(0,L.O)(null,pe,t,e)}var de=(0,L.C5)(Tt,{extrude:(0,L.Pr)(Z.ud),tessellate:(0,L.Pr)(Z.ud),altitudeMode:(0,L.Pr)(Z.s2)});function ge(t,e){var r=(0,L.O)({},de,t,e),i=fe(t,e);if(i){var n=new u.Z(i,o.Z.XYZ);return n.setProperties(r,!0),n}}function me(t,e){var r=(0,L.O)({},de,t,e),i=fe(t,e);if(i){var n=new d.ZP(i,o.Z.XYZ,[i.length]);return n.setProperties(r,!0),n}}var _e=(0,L.C5)(Tt,{LineString:(0,L.Ei)(ge),LinearRing:(0,L.Ei)(me),MultiGeometry:(0,L.Ei)(ye),Point:(0,L.Ei)(ve),Polygon:(0,L.Ei)(we)});function ye(t,e){var r,i=(0,L.O)([],_e,t,e);if(!i)return null;if(0===i.length)return new wt.Z(i);for(var n,o=!0,a=i[0].getType(),u=1,l=i.length;u<l;++u)if((n=i[u]).getType()!=a){o=!1;break}if(o){var f=void 0,d=void 0;if(a==s.Z.POINT){var m=i[0];for(f=m.getLayout(),d=m.getFlatCoordinates(),u=1,l=i.length;u<l;++u)n=i[u],(0,T.l7)(d,n.getFlatCoordinates());Ce(r=new c.Z(d,f),i)}else a==s.Z.LINE_STRING?Ce(r=new h.Z(i),i):a==s.Z.POLYGON?Ce(r=new p.Z(i),i):a==s.Z.GEOMETRY_COLLECTION?r=new wt.Z(i):(0,g.h)(!1,37)}else r=new wt.Z(i);return r}function ve(t,e){var r=(0,L.O)({},de,t,e),i=fe(t,e);if(i){var n=new f.Z(i,o.Z.XYZ);return n.setProperties(r,!0),n}}var be=(0,L.C5)(Tt,{innerBoundaryIs:function(t,e){var r=(0,L.O)(void 0,Le,t,e);r&&e[e.length-1].push(r)},outerBoundaryIs:function(t,e){var r=(0,L.O)(void 0,Ne,t,e);r&&(e[e.length-1][0]=r)}});function we(t,e){var r=(0,L.O)({},de,t,e),i=(0,L.O)([null],be,t,e);if(i&&i[0]){for(var n=i[0],s=[n.length],a=1,u=i.length;a<u;++a)(0,T.l7)(n,i[a]),s.push(n.length);var l=new d.ZP(n,o.Z.XYZ,s);return l.setProperties(r,!0),l}}var Me=(0,L.C5)(Tt,{IconStyle:function(t,e){var r=(0,L.O)({},re,t,e);if(r){var i,n,o,s,a=e[e.length-1],u="Icon"in r?r.Icon:{},l=!("Icon"in r)||Object.keys(u).length>0,h=u.href;h?i=h:l&&(i=dt);var c,p=Ct.Z.BOTTOM_LEFT,f=r.hotSpot;f?(n=[f.x,f.y],o=f.xunits,s=f.yunits,p=f.origin):i===dt?(n=ht,o=ct,s=pt):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(n=[.5,0],o=St.Z.FRACTION,s=St.Z.FRACTION);var d,g=u.x,m=u.y;void 0!==g&&void 0!==m&&(c=[g,m]);var _,y=u.w,v=u.h;void 0!==y&&void 0!==v&&(d=[y,v]);var b=r.heading;void 0!==b&&(_=(0,At.Yr)(b));var w=r.scale,M=r.color;if(l){i==dt&&(d=ft,void 0===w&&(w=gt));var S=new Mt.Z({anchor:n,anchorOrigin:p,anchorXUnits:o,anchorYUnits:s,crossOrigin:this.crossOrigin_,offset:c,offsetOrigin:Ct.Z.BOTTOM_LEFT,rotation:_,scale:w,size:d,src:this.iconUrlFunction_(i),color:M});a.imageStyle=S}else a.imageStyle=mt}},LabelStyle:function(t,e){var r=(0,L.O)({},ie,t,e);if(r){var i=e[e.length-1],n=new Ot.Z({fill:new bt.Z({color:"color"in r?r.color:lt}),scale:r.scale});i.textStyle=n}},LineStyle:function(t,e){var r=(0,L.O)({},ne,t,e);if(r){var i=e[e.length-1],n=new Pt.Z({color:"color"in r?r.color:lt,width:"width"in r?r.width:1});i.strokeStyle=n}},PolyStyle:function(t,e){var r=(0,L.O)({},oe,t,e);if(r){var i=e[e.length-1],n=new bt.Z({color:"color"in r?r.color:lt});i.fillStyle=n;var o=r.fill;void 0!==o&&(i.fill=o);var s=r.outline;void 0!==s&&(i.outline=s)}}});function Se(t,e){var r=(0,L.O)({},Me,t,e,this);if(!r)return null;var i,n="fillStyle"in r?r.fillStyle:Dt,o=r.fill;void 0===o||o||(n=null),"imageStyle"in r?r.imageStyle!=mt&&(i=r.imageStyle):i=zt;var a="textStyle"in r?r.textStyle:Ut,u="strokeStyle"in r?r.strokeStyle:Bt,l=r.outline;return void 0===l||l?[new Et.ZP({fill:n,image:i,stroke:u,text:a,zIndex:void 0})]:[new Et.ZP({geometry:function(t){var e=t.getGeometry(),r=e.getType();return r===s.Z.GEOMETRY_COLLECTION?new wt.Z(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e!==s.Z.POLYGON&&e!==s.Z.MULTI_POLYGON}))):r!==s.Z.POLYGON&&r!==s.Z.MULTI_POLYGON?e:void 0},fill:n,image:i,stroke:u,text:a,zIndex:void 0}),new Et.ZP({geometry:function(t){var e=t.getGeometry(),r=e.getType();return r===s.Z.GEOMETRY_COLLECTION?new wt.Z(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===s.Z.POLYGON||e===s.Z.MULTI_POLYGON}))):r===s.Z.POLYGON||r===s.Z.MULTI_POLYGON?e:void 0},fill:n,stroke:null,zIndex:void 0})]}function Ce(t,e){var r,i,n,o=e.length,s=new Array(e.length),a=new Array(e.length),u=new Array(e.length);r=!1,i=!1,n=!1;for(var l=0;l<o;++l){var h=e[l];s[l]=h.get("extrude"),a[l]=h.get("tessellate"),u[l]=h.get("altitudeMode"),r=r||void 0!==s[l],i=i||void 0!==a[l],n=n||u[l]}r&&t.set("extrude",s),i&&t.set("tessellate",a),n&&t.set("altitudeMode",u)}var Pe=(0,L.C5)(Tt,{displayName:(0,L.Pr)(Z.s2),value:(0,L.Pr)(Z.s2)}),Ee=(0,L.C5)(Tt,{Data:function(t,e){var r=t.getAttribute("name");(0,L.T3)(Pe,t,e);var i=e[e.length-1];r&&i.displayName?i[r]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==r?i[r]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i.value},SchemaData:function(t,e){(0,L.T3)(Re,t,e)}});function Oe(t,e){(0,L.T3)(Ee,t,e)}function xe(t,e){(0,L.T3)(Gt,t,e)}var Ae=(0,L.C5)(Tt,{Style:(0,L.Pr)(Se),key:(0,L.Pr)(Z.s2),styleUrl:(0,L.Pr)(Jt)}),Re=(0,L.C5)(Tt,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var i=(0,Z.s2)(t);e[e.length-1][r]=i}}}),Ie=(0,L.C5)(Tt,{altitudeMode:(0,L.Pr)(Z.s2),minAltitude:(0,L.Pr)(Z.fy),maxAltitude:(0,L.Pr)(Z.fy),north:(0,L.Pr)(Z.fy),south:(0,L.Pr)(Z.fy),east:(0,L.Pr)(Z.fy),west:(0,L.Pr)(Z.fy)}),Te=(0,L.C5)(Tt,{minLodPixels:(0,L.Pr)(Z.fy),maxLodPixels:(0,L.Pr)(Z.fy),minFadeExtent:(0,L.Pr)(Z.fy),maxFadeExtent:(0,L.Pr)(Z.fy)}),Le=(0,L.C5)(Tt,{LinearRing:(0,L.z)(ae)}),Ne=(0,L.C5)(Tt,{LinearRing:(0,L.z)(ae)});function je(t,e){for(var r=(0,xt._2)(e),i=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],n=0;n<4;++n){var o=Math.floor(i[n]).toString(16);i[n]=1==o.length?"0"+o:o}(0,Z.bZ)(t,i.join(""))}var Fe=(0,L.C5)(Tt,{Data:(0,L.A4)((function(t,e,r){t.setAttribute("name",e.name);var i={node:t},n=e.value;"object"==typeof n?(null!==n&&n.displayName&&(0,L.ZL)(i,Fe,L.hg,[n.displayName],r,["displayName"]),null!==n&&n.value&&(0,L.ZL)(i,Fe,L.hg,[n.value],r,["value"])):(0,L.ZL)(i,Fe,L.hg,[n],r,["value"])})),value:(0,L.A4)((function(t,e){(0,Z.bZ)(t,e)})),displayName:(0,L.A4)((function(t,e){(0,Z.xO)(t,e)}))}),Ge=(0,L.C5)(Tt,{Placemark:(0,L.A4)(ur)}),ke=function(t,e,r){var i=e[e.length-1].node;return(0,L.c)(i.namespaceURI,"Placemark")},Ze=(0,L.G3)("Data"),De=(0,L.C5)(Tt,["href"],(0,L.C5)(It,["x","y","w","h"])),ze=(0,L.C5)(Tt,{href:(0,L.A4)(Z.bZ)},(0,L.C5)(It,{x:(0,L.A4)(Z.f3),y:(0,L.A4)(Z.f3),w:(0,L.A4)(Z.f3),h:(0,L.A4)(Z.f3)})),Be=function(t,e,r){return(0,L.c)(It[0],"gx:"+r)},Ue=(0,L.C5)(Tt,["scale","heading","Icon","color","hotSpot"]),qe=(0,L.C5)(Tt,{Icon:(0,L.A4)((function(t,e,r){var i={node:t},n=r[r.length-1].node,o=De[n.namespaceURI],s=(0,L.RA)(e,o);(0,L.ZL)(i,ze,L.hg,s,r,o),o=De[It[0]],s=(0,L.RA)(e,o),(0,L.ZL)(i,ze,Be,s,r,o)})),color:(0,L.A4)(je),heading:(0,L.A4)(Z.f3),hotSpot:(0,L.A4)((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:(0,L.A4)(yr)}),Ve=(0,L.C5)(Tt,["color","scale"]),Ye=(0,L.C5)(Tt,{color:(0,L.A4)(je),scale:(0,L.A4)(yr)}),We=(0,L.C5)(Tt,["color","width"]),Xe=(0,L.C5)(Tt,{color:(0,L.A4)(je),width:(0,L.A4)(Z.f3)}),He={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Ke=function(t,e,r){if(t){var i=e[e.length-1].node;return(0,L.c)(i.namespaceURI,He[t.getType()])}},Qe=(0,L.G3)("Point"),Je=(0,L.G3)("LineString"),$e=(0,L.G3)("LinearRing"),tr=(0,L.G3)("Polygon"),er=(0,L.C5)(Tt,{LineString:(0,L.A4)(cr),Point:(0,L.A4)(cr),Polygon:(0,L.A4)(mr),GeometryCollection:(0,L.A4)(rr)});function rr(t,e,r){var i,n={node:t},o=e.getType(),a=[];o===s.Z.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach((function(t){var e=t.getType();e===s.Z.MULTI_POINT?a=a.concat(t.getPoints()):e===s.Z.MULTI_LINE_STRING?a=a.concat(t.getLineStrings()):e===s.Z.MULTI_POLYGON?a=a.concat(t.getPolygons()):e===s.Z.POINT||e===s.Z.LINE_STRING||e===s.Z.POLYGON?a.push(t):(0,g.h)(!1,39)})),i=Ke):o===s.Z.MULTI_POINT?(a=e.getPoints(),i=Qe):o===s.Z.MULTI_LINE_STRING?(a=e.getLineStrings(),i=Je):o===s.Z.MULTI_POLYGON?(a=e.getPolygons(),i=tr):(0,g.h)(!1,39),(0,L.ZL)(n,er,i,a,r)}var ir=(0,L.C5)(Tt,{LinearRing:(0,L.A4)(cr)});function nr(t,e,r){var i={node:t};(0,L.ZL)(i,ir,$e,[e],r)}var or=(0,L.C5)(Tt,{ExtendedData:(0,L.A4)((function(t,e,r){for(var i={node:t},n=e.names,o=e.values,s=n.length,a=0;a<s;a++)(0,L.ZL)(i,Fe,Ze,[{name:n[a],value:o[a]}],r)})),MultiGeometry:(0,L.A4)(rr),LineString:(0,L.A4)(cr),LinearRing:(0,L.A4)(cr),Point:(0,L.A4)(cr),Polygon:(0,L.A4)(mr),Style:(0,L.A4)((function(t,e,r){var i,n={node:t},o={};if(e.pointStyles.length){var s=e.pointStyles[0].getText();s&&(o.LabelStyle=s);var a=e.pointStyles[0].getImage();a&&"function"==typeof a.getSrc&&(o.IconStyle=a)}(e.lineStyles.length&&(i=e.lineStyles[0].getStroke())&&(o.LineStyle=i),e.polyStyles.length)&&((i=e.polyStyles[0].getStroke())&&!o.LineStyle&&(o.LineStyle=i),o.PolyStyle=e.polyStyles[0]);var u=r[r.length-1].node,l=vr[u.namespaceURI],h=(0,L.RA)(o,l);(0,L.ZL)(n,br,L.hg,h,r,l)})),address:(0,L.A4)(Z.bZ),description:(0,L.A4)(Z.bZ),name:(0,L.A4)(Z.bZ),open:(0,L.A4)(Z.Vi),phoneNumber:(0,L.A4)(Z.bZ),styleUrl:(0,L.A4)(Z.bZ),visibility:(0,L.A4)(Z.Vi)}),sr=(0,L.C5)(Tt,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ar=(0,L.G3)("ExtendedData");function ur(t,e,r){var i={node:t};e.getId()&&t.setAttribute("id",e.getId());var n=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(n||{}).sort().filter((function(t){return!o[t]})),u=e.getStyleFunction();if(u){var l=u(e,0);if(l){var h=Array.isArray(l)?l:[l],c=h;if(e.getGeometry()&&(c=h.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var i=r.getType();return i===s.Z.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===s.Z.POINT||e===s.Z.MULTI_POINT})).length:i===s.Z.POINT||i===s.Z.MULTI_POINT}}))),this.writeStyles_){var p=h,f=h;e.getGeometry()&&(p=h.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var i=r.getType();return i===s.Z.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===s.Z.LINE_STRING||e===s.Z.MULTI_LINE_STRING})).length:i===s.Z.LINE_STRING||i===s.Z.MULTI_LINE_STRING}})),f=h.filter((function(t){var r=t.getGeometryFunction()(e);if(r){var i=r.getType();return i===s.Z.GEOMETRY_COLLECTION?r.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===s.Z.POLYGON||e===s.Z.MULTI_POLYGON})).length:i===s.Z.POLYGON||i===s.Z.MULTI_POLYGON}}))),n.Style={pointStyles:c,lineStyles:p,polyStyles:f}}if(c.length&&void 0===n.name){var d=c[0].getText();d&&(n.name=d.getText())}}}var g=r[r.length-1].node,m=sr[g.namespaceURI],_=(0,L.RA)(n,m);if((0,L.ZL)(i,or,L.hg,_,r,m),a.length>0){var y={names:a,values:(0,L.RA)(n,a)};(0,L.ZL)(i,or,ar,[y],r)}var v=r[0],b=e.getGeometry();b&&(b=(0,w.fI)(b,!0,v)),(0,L.ZL)(i,or,Ke,[b],r)}var lr=(0,L.C5)(Tt,["extrude","tessellate","altitudeMode","coordinates"]),hr=(0,L.C5)(Tt,{extrude:(0,L.A4)(Z.Vi),tessellate:(0,L.A4)(Z.Vi),altitudeMode:(0,L.A4)(Z.bZ),coordinates:(0,L.A4)((function(t,e,r){var i,n=r[r.length-1],s=n.layout,a=n.stride;s==o.Z.XY||s==o.Z.XYM?i=2:s==o.Z.XYZ||s==o.Z.XYZM?i=3:(0,g.h)(!1,34);var u=e.length,l="";if(u>0){l+=e[0];for(var h=1;h<i;++h)l+=","+e[h];for(var c=a;c<u;c+=a)for(l+=" "+e[c],h=1;h<i;++h)l+=","+e[c+h]}(0,Z.bZ)(t,l)}))});function cr(t,e,r){var i=e.getFlatCoordinates(),n={node:t};n.layout=e.getLayout(),n.stride=e.getStride();var o=e.getProperties();o.coordinates=i;var s=r[r.length-1].node,a=lr[s.namespaceURI],u=(0,L.RA)(o,a);(0,L.ZL)(n,hr,L.hg,u,r,a)}var pr=(0,L.C5)(Tt,["color","fill","outline"]),fr=(0,L.C5)(Tt,{outerBoundaryIs:(0,L.A4)(nr),innerBoundaryIs:(0,L.A4)(nr)}),dr=(0,L.G3)("innerBoundaryIs"),gr=(0,L.G3)("outerBoundaryIs");function mr(t,e,r){var i=e.getLinearRings(),n=i.shift(),o={node:t};(0,L.ZL)(o,fr,dr,i,r),(0,L.ZL)(o,fr,gr,[n],r)}var _r=(0,L.C5)(Tt,{color:(0,L.A4)(je),fill:(0,L.A4)(Z.Vi),outline:(0,L.A4)(Z.Vi)});function yr(t,e){(0,Z.f3)(t,Math.round(1e6*e)/1e6)}var vr=(0,L.C5)(Tt,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),br=(0,L.C5)(Tt,{IconStyle:(0,L.A4)((function(t,e,r){var i={node:t},n={},o=e.getSrc(),s=e.getSize(),a=e.getImageSize(),u={href:o};if(s){u.w=s[0],u.h=s[1];var l=e.getAnchor(),h=e.getOrigin();if(h&&a&&0!==h[0]&&h[1]!==s[1]&&(u.x=h[0],u.y=a[1]-(h[1]+s[1])),l&&(l[0]!==s[0]/2||l[1]!==s[1]/2)){var c={x:l[0],xunits:St.Z.PIXELS,y:s[1]-l[1],yunits:St.Z.PIXELS};n.hotSpot=c}}n.Icon=u;var p=e.getScale();1!==p&&(n.scale=p);var f=e.getRotation();0!==f&&(n.heading=f);var d=e.getColor();d&&(n.color=d);var g=r[r.length-1].node,m=Ue[g.namespaceURI],_=(0,L.RA)(n,m);(0,L.ZL)(i,qe,L.hg,_,r,m)})),LabelStyle:(0,L.A4)((function(t,e,r){var i={node:t},n={},o=e.getFill();o&&(n.color=o.getColor());var s=e.getScale();s&&1!==s&&(n.scale=s);var a=r[r.length-1].node,u=Ve[a.namespaceURI],l=(0,L.RA)(n,u);(0,L.ZL)(i,Ye,L.hg,l,r,u)})),LineStyle:(0,L.A4)((function(t,e,r){var i={node:t},n={color:e.getColor(),width:Number(e.getWidth())||1},o=r[r.length-1].node,s=We[o.namespaceURI],a=(0,L.RA)(n,s);(0,L.ZL)(i,Xe,L.hg,a,r,s)})),PolyStyle:(0,L.A4)((function(t,e,r){var i={node:t},n=e.getFill(),o=e.getStroke(),s={color:n?n.getColor():void 0,fill:!!n&&void 0,outline:!!o&&void 0},a=r[r.length-1].node,u=pr[a.namespaceURI],l=(0,L.RA)(s,u);(0,L.ZL)(i,_r,L.hg,l,r,u)}))});const wr=Wt;var Mr=r("./node_modules/ol/format/MVT.js");const Sr=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=(0,L.Qc)(t);return this.readFromDocument(e)}return(0,L.qk)(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},t.prototype.readFromNode=function(t){},t}();function Cr(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}var Pr=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Er=[null,"http://www.opengis.net/ows/1.1"],Or=(0,L.C5)(Er,{ServiceIdentification:(0,L.Pr)((function(t,e){return(0,L.O)({},Dr,t,e)})),ServiceProvider:(0,L.Pr)((function(t,e){return(0,L.O)({},zr,t,e)})),OperationsMetadata:(0,L.Pr)((function(t,e){return(0,L.O)({},Fr,t,e)}))}),xr=function(t){function e(){return t.call(this)||this}return Pr(e,t),e.prototype.readFromNode=function(t){return(0,L.O)({},Or,t,[])||null},e}(Sr),Ar=(0,L.C5)(Er,{DeliveryPoint:(0,L.Pr)(Z.s2),City:(0,L.Pr)(Z.s2),AdministrativeArea:(0,L.Pr)(Z.s2),PostalCode:(0,L.Pr)(Z.s2),Country:(0,L.Pr)(Z.s2),ElectronicMailAddress:(0,L.Pr)(Z.s2)}),Rr=(0,L.C5)(Er,{Value:(0,L.ke)((function(t,e){return(0,Z.s2)(t)}))}),Ir=(0,L.C5)(Er,{AllowedValues:(0,L.Pr)((function(t,e){return(0,L.O)({},Rr,t,e)}))}),Tr=(0,L.C5)(Er,{Phone:(0,L.Pr)((function(t,e){return(0,L.O)({},Gr,t,e)})),Address:(0,L.Pr)((function(t,e){return(0,L.O)({},Ar,t,e)}))}),Lr=(0,L.C5)(Er,{HTTP:(0,L.Pr)((function(t,e){return(0,L.O)({},Nr,t,e)}))}),Nr=(0,L.C5)(Er,{Get:(0,L.ke)((function(t,e){var r=Cr(t);if(r)return(0,L.O)({href:r},kr,t,e)})),Post:void 0}),jr=(0,L.C5)(Er,{DCP:(0,L.Pr)((function(t,e){return(0,L.O)({},Lr,t,e)}))}),Fr=(0,L.C5)(Er,{Operation:function(t,e){var r=t.getAttribute("name"),i=(0,L.O)({},jr,t,e);i&&(e[e.length-1][r]=i)}}),Gr=(0,L.C5)(Er,{Voice:(0,L.Pr)(Z.s2),Facsimile:(0,L.Pr)(Z.s2)}),kr=(0,L.C5)(Er,{Constraint:(0,L.ke)((function(t,e){var r=t.getAttribute("name");if(r)return(0,L.O)({name:r},Ir,t,e)}))}),Zr=(0,L.C5)(Er,{IndividualName:(0,L.Pr)(Z.s2),PositionName:(0,L.Pr)(Z.s2),ContactInfo:(0,L.Pr)((function(t,e){return(0,L.O)({},Tr,t,e)}))}),Dr=(0,L.C5)(Er,{Abstract:(0,L.Pr)(Z.s2),AccessConstraints:(0,L.Pr)(Z.s2),Fees:(0,L.Pr)(Z.s2),Title:(0,L.Pr)(Z.s2),ServiceTypeVersion:(0,L.Pr)(Z.s2),ServiceType:(0,L.Pr)(Z.s2)}),zr=(0,L.C5)(Er,{ProviderName:(0,L.Pr)(Z.s2),ProviderSite:(0,L.Pr)(Cr),ServiceContact:(0,L.Pr)((function(t,e){return(0,L.O)({},Zr,t,e)}))});const Br=xr;function Ur(t,e,r,i,n,o){var s,a;void 0!==n?(s=n,a=void 0!==o?o:0):(s=[],a=0);for(var u=e;u<r;){var l=t[u++];s[a++]=t[u++],s[a++]=l;for(var h=2;h<i;++h)s[a++]=t[u++]}return s.length=a,s}var qr=r("./node_modules/ol/geom/SimpleGeometry.js"),Vr=r("./node_modules/ol/geom/flat/inflate.js"),Yr=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();function Wr(t){for(var e,r="";t>=32;)e=63+(32|31&t),r+=String.fromCharCode(e),t>>=5;return e=t+63,r+String.fromCharCode(e)}const Xr=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.dataProjection=(0,v.get)("EPSG:4326"),r.factor_=i.factor?i.factor:1e5,r.geometryLayout_=i.geometryLayout?i.geometryLayout:o.Z.XY,r}return Yr(e,t),e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);return new n.default(r)},e.prototype.readFeaturesFromText=function(t,e){return[this.readFeatureFromText(t,e)]},e.prototype.readGeometryFromText=function(t,e){var r=(0,qr.tP)(this.geometryLayout_),i=function(t,e,r){var i,n=r||1e5,o=new Array(e);for(i=0;i<e;++i)o[i]=0;for(var s=function(t,e){for(var r=e||1e5,i=function(t){for(var e=function(t){for(var e=[],r=0,i=0,n=0,o=t.length;n<o;++n){var s=t.charCodeAt(n)-63;r|=(31&s)<<i,s<32?(e.push(r),r=0,i=0):i+=5}return e}(t),r=0,i=e.length;r<i;++r){var n=e[r];e[r]=1&n?~(n>>1):n>>1}return e}(t),n=0,o=i.length;n<o;++n)i[n]/=r;return i}(t,n),a=0,u=s.length;a<u;)for(i=0;i<e;++i,++a)o[i]+=s[a],s[a]=o[i];return s}(t,r,this.factor_);Ur(i,0,i.length,r,i);var n=(0,Vr.Ml)(i,0,i.length,r),o=new u.Z(n,this.geometryLayout_);return(0,w.fI)(o,!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):((0,g.h)(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){var r=(t=(0,w.fI)(t,!0,this.adaptOptions(e))).getFlatCoordinates(),i=t.getStride();return Ur(r,0,r.length,i,r),function(t,e,r){var i,n=r||1e5,o=new Array(e);for(i=0;i<e;++i)o[i]=0;for(var s=0,a=t.length;s<a;)for(i=0;i<e;++i,++s){var u=t[s],l=u-o[i];o[i]=u,t[s]=l}return function(t,e){for(var r=e||1e5,i=0,n=t.length;i<n;++i)t[i]=Math.round(t[i]*r);return function(t){for(var e=0,r=t.length;e<r;++e){var i=t[e];t[e]=i<0?~(i<<1):i<<1}return function(t){for(var e="",r=0,i=t.length;r<i;++r)e+=Wr(t[r]);return e}(t)}(t)}(t,n)}(r,i,this.factor_)},e}(et);var Hr=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Kr=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.layerName_=i.layerName,r.layers_=i.layers?i.layers:null,r.dataProjection=(0,v.get)(i.dataProjection?i.dataProjection:"EPSG:4326"),r}return Hr(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var r=t,i=void 0,n=null,o=null;r.transform&&(n=(i=r.transform).scale,o=i.translate);var s=r.arcs;i&&function(t,e,r){for(var i=0,n=t.length;i<n;++i)ei(t[i],e,r)}(s,n,o);var a=[],u=r.objects,l=this.layerName_,h=void 0;for(var c in u)this.layers_&&-1==this.layers_.indexOf(c)||("GeometryCollection"===u[c].type?(h=u[c],a.push.apply(a,$r(h,s,n,o,l,c,e))):(h=u[c],a.push(ti(h,s,n,o,l,c,e))));return a}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(a.Z),Qr={Point:function(t,e,r){var i=t.coordinates;return e&&r&&ri(i,e,r),new f.Z(i)},LineString:function(t,e){var r=Jr(t.arcs,e);return new u.Z(r)},Polygon:function(t,e){for(var r=[],i=0,n=t.arcs.length;i<n;++i)r[i]=Jr(t.arcs[i],e);return new d.ZP(r)},MultiPoint:function(t,e,r){var i=t.coordinates;if(e&&r)for(var n=0,o=i.length;n<o;++n)ri(i[n],e,r);return new c.Z(i)},MultiLineString:function(t,e){for(var r=[],i=0,n=t.arcs.length;i<n;++i)r[i]=Jr(t.arcs[i],e);return new h.Z(r)},MultiPolygon:function(t,e){for(var r=[],i=0,n=t.arcs.length;i<n;++i){for(var o=t.arcs[i],s=[],a=0,u=o.length;a<u;++a)s[a]=Jr(o[a],e);r[i]=s}return new p.Z(r)}};function Jr(t,e){for(var r,i,n=[],o=0,s=t.length;o<s;++o)r=t[o],o>0&&n.pop(),i=r>=0?e[r]:e[~r].slice().reverse(),n.push.apply(n,i);for(var a=0,u=n.length;a<u;++a)n[a]=n[a].slice();return n}function $r(t,e,r,i,n,o,s){for(var a=t.geometries,u=[],l=0,h=a.length;l<h;++l)u[l]=ti(a[l],e,r,i,n,o,s);return u}function ti(t,e,r,i,o,s,a){var u,l=t.type,h=Qr[l];u="Point"===l||"MultiPoint"===l?h(t,r,i):h(t,e);var c=new n.default;c.setGeometry((0,w.fI)(u,!1,a)),void 0!==t.id&&c.setId(t.id);var p=t.properties;return o&&(p||(p={}),p[o]=s),p&&c.setProperties(p,!0),c}function ei(t,e,r){for(var i=0,n=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=a[0],n+=a[1],a[0]=i,a[1]=n,ri(a,e,r)}}function ri(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}const ii=Kr;var ni=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),oi=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,i)||this).schemaLocation=i.schemaLocation?i.schemaLocation:r.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",r}return ni(e,t),e}(W);oi.prototype.namespace="http://www.opengis.net/gml/3.2",oi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:(0,L.z)(W.prototype.readFlatPos),posList:(0,L.z)(W.prototype.readFlatPosList),coordinates:(0,L.z)(U.prototype.readFlatCoordinates)}},oi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:W.prototype.interiorParser,exterior:W.prototype.exteriorParser}},oi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:(0,L.z)(k.prototype.readPoint),MultiPoint:(0,L.z)(k.prototype.readMultiPoint),LineString:(0,L.z)(k.prototype.readLineString),MultiLineString:(0,L.z)(k.prototype.readMultiLineString),LinearRing:(0,L.z)(k.prototype.readLinearRing),Polygon:(0,L.z)(k.prototype.readPolygon),MultiPolygon:(0,L.z)(k.prototype.readMultiPolygon),Surface:(0,L.z)(oi.prototype.readSurface),MultiSurface:(0,L.z)(W.prototype.readMultiSurface),Curve:(0,L.z)(oi.prototype.readCurve),MultiCurve:(0,L.z)(W.prototype.readMultiCurve),Envelope:(0,L.z)(oi.prototype.readEnvelope)}},oi.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:(0,L.Ei)(W.prototype.curveMemberParser),curveMembers:(0,L.Ei)(W.prototype.curveMemberParser)}},oi.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:(0,L.Ei)(W.prototype.surfaceMemberParser),surfaceMembers:(0,L.Ei)(W.prototype.surfaceMemberParser)}},oi.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:(0,L.Ei)(k.prototype.readLineString),Curve:(0,L.Ei)(W.prototype.readCurve)}},oi.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:(0,L.Ei)(k.prototype.readPolygon),Surface:(0,L.Ei)(W.prototype.readSurface)}},oi.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:(0,L.z)(W.prototype.readPatch)}},oi.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:(0,L.z)(W.prototype.readSegment)}},oi.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:(0,L.Ei)(W.prototype.readFlatPosList),upperCorner:(0,L.Ei)(W.prototype.readFlatPosList)}},oi.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:(0,L.z)(W.prototype.readPolygonPatch)}},oi.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:(0,L.z)(W.prototype.readLineStringSegment)}},oi.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:(0,L.Ei)(k.prototype.pointMemberParser),pointMembers:(0,L.Ei)(k.prototype.pointMemberParser)}},oi.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:(0,L.Ei)(k.prototype.lineStringMemberParser),lineStringMembers:(0,L.Ei)(k.prototype.lineStringMemberParser)}},oi.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:(0,L.Ei)(k.prototype.polygonMemberParser),polygonMembers:(0,L.Ei)(k.prototype.polygonMemberParser)}},oi.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:(0,L.Ei)(k.prototype.readFlatCoordinatesFromNode)}},oi.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:(0,L.Ei)(k.prototype.readLineString)}},oi.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:(0,L.Ei)(k.prototype.readPolygon)}},oi.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:(0,L.z)(k.prototype.readFlatLinearRing)}},oi.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:(0,L.A4)(W.prototype.writeRing),interior:(0,L.A4)(W.prototype.writeRing)}},oi.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:(0,L.A4)(Z.bZ),upperCorner:(0,L.A4)(Z.bZ)}},oi.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:(0,L.A4)(W.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,L.A4)(W.prototype.writeSurfaceOrPolygonMember)}},oi.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:(0,L.A4)(W.prototype.writePointMember)}},oi.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:(0,L.A4)(W.prototype.writeLineStringOrCurveMember),curveMember:(0,L.A4)(W.prototype.writeLineStringOrCurveMember)}},oi.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:(0,L.A4)(W.prototype.writeCurveOrLineString),MultiCurve:(0,L.A4)(W.prototype.writeMultiCurveOrLineString),Point:(0,L.A4)(oi.prototype.writePoint),MultiPoint:(0,L.A4)(W.prototype.writeMultiPoint),LineString:(0,L.A4)(W.prototype.writeCurveOrLineString),MultiLineString:(0,L.A4)(W.prototype.writeMultiCurveOrLineString),LinearRing:(0,L.A4)(W.prototype.writeLinearRing),Polygon:(0,L.A4)(W.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,L.A4)(W.prototype.writeMultiSurfaceOrPolygon),Surface:(0,L.A4)(W.prototype.writeSurfaceOrPolygon),MultiSurface:(0,L.A4)(W.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,L.A4)(W.prototype.writeEnvelope)}};const si=oi,ai=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}();var ui=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const li=function(t){function e(e,r){var i=t.call(this,e)||this;return i.conditions=r,(0,g.h)(i.conditions.length>=2,57),i}return ui(e,t),e}(ai);var hi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const ci=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return hi(e,t),e}(li);var pi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const fi=function(t){function e(e,r,i){var n=t.call(this,"BBOX")||this;if(n.geometryName=e,n.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return n.srsName=i,n}return pi(e,t),e}(ai);var di=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const gi=function(t){function e(e,r,i,n){var o=t.call(this,e)||this;return o.geometryName=r||"the_geom",o.geometry=i,o.srsName=n,o}return di(e,t),e}(ai);var mi;(function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}})()((function(t,e,r){return mi.call(this,"Contains",t,e,r)||this}),mi=gi);var _i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){_i((function(e,r,i,n,o){var s=t.call(this,"DWithin",e,r,o)||this;return s.distance=i,s.unit=n,s}),t)}(gi);var yi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){yi((function(e,r,i){return t.call(this,"Disjoint",e,r,i)||this}),t)}(gi);var vi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const bi=function(t){function e(e,r){var i=t.call(this,e)||this;return i.propertyName=r,i}return vi(e,t),e}(ai);var wi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){wi((function(e,r,i){var n=t.call(this,"During",e)||this;return n.begin=r,n.end=i,n}),t)}(bi);var Mi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const Si=function(t){function e(e,r,i,n){var o=t.call(this,e,r)||this;return o.expression=i,o.matchCase=n,o}return Mi(e,t),e}(bi);var Ci=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ci((function(e,r,i){return t.call(this,"PropertyIsEqualTo",e,r,i)||this}),t)}(Si);var Pi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Pi((function(e,r){return t.call(this,"PropertyIsGreaterThan",e,r)||this}),t)}(Si);var Ei=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ei((function(e,r){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,r)||this}),t)}(Si);var Oi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Oi((function(e,r,i){return t.call(this,"Intersects",e,r,i)||this}),t)}(gi);var xi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){xi((function(e,r,i){var n=t.call(this,"PropertyIsBetween",e)||this;return n.lowerBoundary=r,n.upperBoundary=i,n}),t)}(bi);var Ai=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ai((function(e,r,i,n,o,s){var a=t.call(this,"PropertyIsLike",e)||this;return a.pattern=r,a.wildCard=void 0!==i?i:"*",a.singleChar=void 0!==n?n:".",a.escapeChar=void 0!==o?o:"!",a.matchCase=s,a}),t)}(bi);var Ri=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ri((function(e){return t.call(this,"PropertyIsNull",e)||this}),t)}(bi);var Ii=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ii((function(e,r){return t.call(this,"PropertyIsLessThan",e,r)||this}),t)}(Si);var Ti=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ti((function(e,r){return t.call(this,"PropertyIsLessThanOrEqualTo",e,r)||this}),t)}(Si);var Li=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Li((function(e){var r=t.call(this,"Not")||this;return r.condition=e,r}),t)}(ai);var Ni=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Ni((function(e,r,i){return t.call(this,"PropertyIsNotEqualTo",e,r,i)||this}),t)}(Si);var ji=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){ji((function(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}),t)}(li);var Fi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Fi((function(e){var r=t.call(this,"ResourceId")||this;return r.rid=e,r}),t)}(ai);var Gi=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){Gi((function(e,r,i){return t.call(this,"Within",e,r,i)||this}),t)}(gi);var ki=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Zi={"http://www.opengis.net/gml":{boundedBy:(0,L.Pr)(k.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:(0,L.Ei)(k.prototype.readFeaturesInternal)}},Di={"http://www.opengis.net/wfs":{totalInserted:(0,L.Pr)(Z.A_),totalUpdated:(0,L.Pr)(Z.A_),totalDeleted:(0,L.Pr)(Z.A_)},"http://www.opengis.net/wfs/2.0":{totalInserted:(0,L.Pr)(Z.A_),totalUpdated:(0,L.Pr)(Z.A_),totalDeleted:(0,L.Pr)(Z.A_)}},zi={"http://www.opengis.net/wfs":{TransactionSummary:(0,L.Pr)($i,"transactionSummary"),InsertResults:(0,L.Pr)(nn,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:(0,L.Pr)($i,"transactionSummary"),InsertResults:(0,L.Pr)(nn,"insertIds")}},Bi={"http://www.opengis.net/wfs":{PropertyName:(0,L.A4)(Z.bZ)},"http://www.opengis.net/wfs/2.0":{PropertyName:(0,L.A4)(Z.bZ)}},Ui={"http://www.opengis.net/wfs":{Insert:(0,L.A4)(on),Update:(0,L.A4)(ln),Delete:(0,L.A4)(un),Property:(0,L.A4)(hn),Native:(0,L.A4)(cn)},"http://www.opengis.net/wfs/2.0":{Insert:(0,L.A4)(on),Update:(0,L.A4)(ln),Delete:(0,L.A4)(un),Property:(0,L.A4)(hn),Native:(0,L.A4)(cn)}},qi="feature",Vi="http://www.w3.org/2000/xmlns/",Yi={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},Wi={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},Xi={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},Hi={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Ki={"2.0.0":si,"1.1.0":W,"1.0.0":U},Qi=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.version_=i.version?i.version:"1.1.0",r.featureType_=i.featureType,r.featureNS_=i.featureNS,r.gmlFormat_=i.gmlFormat?i.gmlFormat:new Ki[r.version_],r.schemaLocation_=i.schemaLocation?i.schemaLocation:Hi[r.version_],r}return ki(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};(0,m.f0)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),(0,m.f0)(r,this.getReadOptions(t,e||{}));var i,n=[r];i="2.0.0"===this.version_?Zi:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var o=(0,L.O)([],i,t,n,this.gmlFormat_);return o||(o=[]),o},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=(0,L.Qc)(t);return this.readTransactionResponseFromDocument(e)}return(0,L.qk)(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=(0,L.Qc)(t);return this.readFeatureCollectionMetadataFromDocument(e)}return(0,L.qk)(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=(0,Z._E)(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=r,(0,L.O)(e,Zi,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return(0,L.O)({},zi,t,[])},e.prototype.writeGetFeature=function(t){var e=this,r=(0,L.c)(Wi[this.version_],"GetFeature");r.setAttribute("service","WFS"),r.setAttribute("version",this.version_),t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams",t.viewParams),r.setAttributeNS(L.fJ,"xsi:schemaLocation",this.schemaLocation_);var i={node:r};if((0,m.f0)(i,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),(0,g.h)(Array.isArray(t.featureTypes),11),"string"==typeof t.featureTypes[0]){var n=t.filter;t.bbox&&((0,g.h)(t.geometryName,12),n=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,n)),(0,m.f0)(i,{geometryName:t.geometryName,filter:n}),xn(r,t.featureTypes,[i])}else t.featureTypes.forEach((function(n){var o=e.combineBboxAndFilter(n.geometryName,n.bbox,t.srsName,t.filter);(0,m.f0)(i,{geometryName:n.geometryName,filter:o}),xn(r,[n.name],[i])}));return r},e.prototype.combineBboxAndFilter=function(t,e,r,i){var n=function(t,e,r){return new fi(t,e,r)}(t,e,r);return i?function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ci,e))}(i,n):n},e.prototype.writeTransaction=function(t,e,r,i){var n,o=[],s=i.version?i.version:this.version_,a=(0,L.c)(Wi[s],"Transaction");a.setAttribute("service","WFS"),a.setAttribute("version",s),i&&(n=i.gmlOptions?i.gmlOptions:{},i.handle&&a.setAttribute("handle",i.handle)),a.setAttributeNS(L.fJ,"xsi:schemaLocation",Hi[s]);var u=function(t,e,r,i){var n,o=i.featurePrefix?i.featurePrefix:qi;return"1.0.0"===r?n=2:"1.1.0"===r?n=3:"2.0.0"===r&&(n=3.2),(0,m.f0)({node:t},{version:r,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:o,gmlVersion:n,hasZ:i.hasZ,srsName:i.srsName},e)}(a,n,s,i);return t&&Ji("Insert",t,o,u),e&&Ji("Update",e,o,u),r&&Ji("Delete",r,o,u),i.nativeElements&&Ji("Native",i.nativeElements,o,u),a},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),(0,v.get)(r.pop().srsName)}return null},e}(I.Z);function Ji(t,e,r,i){(0,L.ZL)(i,Ui,(0,L.G3)(t),e,r)}function $i(t,e){return(0,L.O)({},Di,t,e)}var tn={"http://www.opengis.net/ogc":{FeatureId:(0,L.Ei)((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:(0,L.Ei)((function(t,e){return t.getAttribute("fid")}))}};function en(t,e){(0,L.T3)(tn,t,e)}var rn={"http://www.opengis.net/wfs":{Feature:en},"http://www.opengis.net/wfs/2.0":{Feature:en}};function nn(t,e){return(0,L.O)([],rn,t,e)}function on(t,e,r){var i=r[r.length-1],n=i.featureType,o=i.featureNS,s=i.gmlVersion,a=(0,L.c)(o,n);t.appendChild(a),2===s?U.prototype.writeFeatureElement(a,e,r):3===s?W.prototype.writeFeatureElement(a,e,r):si.prototype.writeFeatureElement(a,e,r)}function sn(t,e,r){var i=r[r.length-1].version,n=Yi[i],o=(0,L.c)(n,"Filter"),s=(0,L.c)(n,"FeatureId");o.appendChild(s),s.setAttribute("fid",e),t.appendChild(o)}function an(t,e){var r=(t=t||qi)+":";return 0===e.indexOf(r)?e:r+e}function un(t,e,r){var i=r[r.length-1];(0,g.h)(void 0!==e.getId(),26);var n=i.featureType,o=i.featurePrefix,s=i.featureNS,a=an(o,n);t.setAttribute("typeName",a),t.setAttributeNS(Vi,"xmlns:"+o,s);var u=e.getId();void 0!==u&&sn(t,u,r)}function ln(t,e,r){var i=r[r.length-1];(0,g.h)(void 0!==e.getId(),27);var n=i.version,o=i.featureType,s=i.featurePrefix,a=i.featureNS,u=an(s,o),l=e.getGeometryName();t.setAttribute("typeName",u),t.setAttributeNS(Vi,"xmlns:"+s,a);var h=e.getId();if(void 0!==h){for(var c=e.getKeys(),p=[],f=0,d=c.length;f<d;f++){var m=e.get(c[f]);if(void 0!==m){var _=c[f];m&&"function"==typeof m.getSimplifiedGeometry&&(_=l),p.push({name:_,value:m})}}(0,L.ZL)({version:n,gmlVersion:i.gmlVersion,node:t,hasZ:i.hasZ,srsName:i.srsName},Ui,(0,L.G3)("Property"),p,r),sn(t,h,r)}}function hn(t,e,r){var i=r[r.length-1],n=i.version,o=Wi[n],s=(0,L.c)(o,"Name"),a=i.gmlVersion;if(t.appendChild(s),(0,Z.bZ)(s,e.name),void 0!==e.value&&null!==e.value){var u=(0,L.c)(o,"Value");t.appendChild(u),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===a?U.prototype.writeGeometryElement(u,e.value,r):3===a?W.prototype.writeGeometryElement(u,e.value,r):si.prototype.writeGeometryElement(u,e.value,r):(0,Z.bZ)(u,e.value)}}function cn(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&(0,Z.bZ)(t,e.value)}var pn={"http://www.opengis.net/wfs":{Query:(0,L.A4)(fn)},"http://www.opengis.net/wfs/2.0":{Query:(0,L.A4)(fn)},"http://www.opengis.net/ogc":{During:(0,L.A4)(_n),And:(0,L.A4)(yn),Or:(0,L.A4)(yn),Not:(0,L.A4)(vn),BBOX:(0,L.A4)(dn),Contains:(0,L.A4)(gn),Intersects:(0,L.A4)(gn),Within:(0,L.A4)(gn),DWithin:(0,L.A4)(mn),PropertyIsEqualTo:(0,L.A4)(bn),PropertyIsNotEqualTo:(0,L.A4)(bn),PropertyIsLessThan:(0,L.A4)(bn),PropertyIsLessThanOrEqualTo:(0,L.A4)(bn),PropertyIsGreaterThan:(0,L.A4)(bn),PropertyIsGreaterThanOrEqualTo:(0,L.A4)(bn),PropertyIsNull:(0,L.A4)(wn),PropertyIsBetween:(0,L.A4)(Mn),PropertyIsLike:(0,L.A4)(Sn)},"http://www.opengis.net/fes/2.0":{During:(0,L.A4)(_n),And:(0,L.A4)(yn),Or:(0,L.A4)(yn),Not:(0,L.A4)(vn),BBOX:(0,L.A4)(dn),Contains:(0,L.A4)(gn),Disjoint:(0,L.A4)(gn),Intersects:(0,L.A4)(gn),ResourceId:(0,L.A4)((function(t,e,r){t.setAttribute("rid",e.rid)})),Within:(0,L.A4)(gn),DWithin:(0,L.A4)(mn),PropertyIsEqualTo:(0,L.A4)(bn),PropertyIsNotEqualTo:(0,L.A4)(bn),PropertyIsLessThan:(0,L.A4)(bn),PropertyIsLessThanOrEqualTo:(0,L.A4)(bn),PropertyIsGreaterThan:(0,L.A4)(bn),PropertyIsGreaterThanOrEqualTo:(0,L.A4)(bn),PropertyIsNull:(0,L.A4)(wn),PropertyIsBetween:(0,L.A4)(Mn),PropertyIsLike:(0,L.A4)(Sn)}};function fn(t,e,r){var i,n,o=r[r.length-1],s=o.version,a=o.featurePrefix,u=o.featureNS,l=o.propertyNames,h=o.srsName;i=a?an(a,e):e,n="2.0.0"===s?"typeNames":"typeName",t.setAttribute(n,i),h&&t.setAttribute("srsName",h),u&&t.setAttributeNS(Vi,"xmlns:"+a,u);var c=(0,m.f0)({},o);c.node=t,(0,L.ZL)(c,Bi,(0,L.G3)("PropertyName"),l,r);var p=o.filter;if(p){var f=(0,L.c)(An(s),"Filter");t.appendChild(f),function(t,e,r){var i=r[r.length-1],n={node:t};(0,m.f0)(n,{context:i}),(0,L.ZL)(n,pn,(0,L.G3)(e.getTagName()),[e],r)}(f,p,r)}}function dn(t,e,r){var i=r[r.length-1],n=i.context.version;i.srsName=e.srsName;var o=Ki[n];En(n,t,e.geometryName),o.prototype.writeGeometryElement(t,e.extent,r)}function gn(t,e,r){var i=r[r.length-1],n=i.context.version;i.srsName=e.srsName;var o=Ki[n];En(n,t,e.geometryName),o.prototype.writeGeometryElement(t,e.geometry,r)}function mn(t,e,r){var i=r[r.length-1].context.version;gn(t,e,r);var n=(0,L.c)(An(i),"Distance");(0,Z.bZ)(n,e.distance.toString()),"2.0.0"===i?n.setAttribute("uom",e.unit):n.setAttribute("units",e.unit),t.appendChild(n)}function _n(t,e,r){var i=r[r.length-1].context.version;Cn(Xi[i],"ValueReference",t,e.propertyName);var n=(0,L.c)(j,"TimePeriod");t.appendChild(n);var o=(0,L.c)(j,"begin");n.appendChild(o),On(o,e.begin);var s=(0,L.c)(j,"end");n.appendChild(s),On(s,e.end)}function yn(t,e,r){var i=r[r.length-1].context,n={node:t};(0,m.f0)(n,{context:i});for(var o=e.conditions,s=0,a=o.length;s<a;++s){var u=o[s];(0,L.ZL)(n,pn,(0,L.G3)(u.getTagName()),[u],r)}}function vn(t,e,r){var i=r[r.length-1].context,n={node:t};(0,m.f0)(n,{context:i});var o=e.condition;(0,L.ZL)(n,pn,(0,L.G3)(o.getTagName()),[o],r)}function bn(t,e,r){var i=r[r.length-1].context.version;void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),En(i,t,e.propertyName),Pn(i,t,""+e.expression)}function wn(t,e,r){En(r[r.length-1].context.version,t,e.propertyName)}function Mn(t,e,r){var i=r[r.length-1].context.version,n=An(i);En(i,t,e.propertyName);var o=(0,L.c)(n,"LowerBoundary");t.appendChild(o),Pn(i,o,""+e.lowerBoundary);var s=(0,L.c)(n,"UpperBoundary");t.appendChild(s),Pn(i,s,""+e.upperBoundary)}function Sn(t,e,r){var i=r[r.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),En(i,t,e.propertyName),Pn(i,t,""+e.pattern)}function Cn(t,e,r,i){var n=(0,L.c)(t,e);(0,Z.bZ)(n,i),r.appendChild(n)}function Pn(t,e,r){Cn(An(t),"Literal",e,r)}function En(t,e,r){"2.0.0"===t?Cn(Xi[t],"ValueReference",e,r):Cn(Yi[t],"PropertyName",e,r)}function On(t,e){var r=(0,L.c)(j,"TimeInstant");t.appendChild(r);var i=(0,L.c)(j,"timePosition");r.appendChild(i),(0,Z.bZ)(i,e)}function xn(t,e,r){var i=r[r.length-1],n=(0,m.f0)({},i);n.node=t,(0,L.ZL)(n,pn,(0,L.G3)("Query"),e,r)}function An(t){return"2.0.0"===t?Xi[t]:Yi[t]}const Rn=Qi;var In=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Tn={POINT:f.Z,LINESTRING:u.Z,POLYGON:d.ZP,MULTIPOINT:c.Z,MULTILINESTRING:h.Z,MULTIPOLYGON:p.Z},Ln="EMPTY",Nn={};for(var jn in s.Z)Nn[jn]=s.Z[jn].toUpperCase();var Fn=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,i=e;if("("==e)t=2;else if(","==e)t=5;else if(")"==e)t=3;else if(this.isNumeric_(e)||"-"==e)t=4,i=this.readNumber_();else if(this.isAlpha_(e))t=1,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=6}return{position:r,value:i,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,i=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!i&&("e"==t||"E"==t)||i&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),Gn=function(){function t(t){this.lexer_=t,this.token_,this.layout_=o.Z.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=o.Z.XY,e=this.token_;if(this.isTokenType(1)){var r=e.value;"Z"===r?t=o.Z.XYZ:"M"===r?t=o.Z.XYM:"ZM"===r&&(t=o.Z.XYZM),t!==o.Z.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(5));if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(2)){var t=this.parsePoint_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(2)){var t=this.parsePointList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(2)){var t=this.parseLineStringTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(2)){var t;if(t=2==this.token_.type?this.parsePointTextList_():this.parsePointList_(),this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var t=this.parseLineStringTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var t=this.parsePolygonTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var i=this.token_;if(!this.match(4))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(5);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(5);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(5);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(5);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(1)&&this.token_.value==Ln;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(1)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var r=this.parseGeometryCollectionText_();return new wt.Z(r)}var i=Tn[e];if(!i)throw new Error("Invalid geometry type: "+e);var n=void 0;switch(e){case"POINT":n=this.parsePointText_();break;case"LINESTRING":n=this.parseLineStringText_();break;case"POLYGON":n=this.parsePolygonText_();break;case"MULTIPOINT":n=this.parseMultiPointText_();break;case"MULTILINESTRING":n=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":n=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return n||(n=i===Tn.POINT?[NaN,NaN]:[]),new i(n,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),kn=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.splitCollection_=void 0!==i.splitCollection&&i.splitCollection,r}return In(e,t),e.prototype.parse_=function(t){var e=new Fn(t);return new Gn(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);if(r){var i=new n.default;return i.setGeometry(r),i}return null},e.prototype.readFeaturesFromText=function(t,e){for(var r,i=this.readGeometryFromText(t,e),o=[],a=0,u=(r=this.splitCollection_&&i.getType()==s.Z.GEOMETRY_COLLECTION?i.getGeometriesArray():[i]).length;a<u;++a){var l=new n.default;l.setGeometry(r[a]),o.push(l)}return o},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return r?(0,w.fI)(r,!1,e):null},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(t[i].getGeometry());var o=new wt.Z(r);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return Un((0,w.fI)(t,!0,e))},e}(et);function Zn(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function Dn(t){for(var e=t.getCoordinates(),r=[],i=0,n=e.length;i<n;++i)r.push(e[i].join(" "));return r.join(",")}function zn(t){for(var e=[],r=t.getLinearRings(),i=0,n=r.length;i<n;++i)e.push("("+Dn(r[i])+")");return e.join(",")}var Bn={Point:Zn,LineString:Dn,Polygon:zn,MultiPoint:function(t){for(var e=[],r=t.getPoints(),i=0,n=r.length;i<n;++i)e.push("("+Zn(r[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),i=0,n=r.length;i<n;++i)e.push("("+Dn(r[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),i=0,n=r.length;i<n;++i)e.push("("+zn(r[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),i=0,n=r.length;i<n;++i)e.push(Un(r[i]));return e.join(",")}};function Un(t){var e=t.getType(),r=(0,Bn[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var i=function(t){var e=t.getLayout(),r="";return e!==o.Z.XYZ&&e!==o.Z.XYZM||(r+="Z"),e!==o.Z.XYM&&e!==o.Z.XYZM||(r+="M"),r}(t);i.length>0&&(e+=" "+i)}return 0===r.length?e+" "+Ln:e+"("+r+")"}const qn=kn;var Vn=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Yn=[null,"http://www.opengis.net/wms"],Wn=(0,L.C5)(Yn,{Service:(0,L.Pr)((function(t,e){return(0,L.O)({},Kn,t,e)})),Capability:(0,L.Pr)((function(t,e){return(0,L.O)({},Xn,t,e)}))}),Xn=(0,L.C5)(Yn,{Request:(0,L.Pr)((function(t,e){return(0,L.O)({},no,t,e)})),Exception:(0,L.Pr)((function(t,e){return(0,L.O)([],to,t,e)})),Layer:(0,L.Pr)((function(t,e){var r=(0,L.O)({},eo,t,e);return void 0===r.Layer?Object.assign(r,co(t,e)):r}))}),Hn=function(t){function e(){var e=t.call(this)||this;return e.version=void 0,e}return Vn(e,t),e.prototype.readFromNode=function(t){return this.version=t.getAttribute("version").trim(),(0,L.O)({version:this.version},Wn,t,[])||null},e}(Sr),Kn=(0,L.C5)(Yn,{Name:(0,L.Pr)(Z.s2),Title:(0,L.Pr)(Z.s2),Abstract:(0,L.Pr)(Z.s2),KeywordList:(0,L.Pr)(mo),OnlineResource:(0,L.Pr)(Cr),ContactInformation:(0,L.Pr)((function(t,e){return(0,L.O)({},Qn,t,e)})),Fees:(0,L.Pr)(Z.s2),AccessConstraints:(0,L.Pr)(Z.s2),LayerLimit:(0,L.Pr)(Z.A_),MaxWidth:(0,L.Pr)(Z.A_),MaxHeight:(0,L.Pr)(Z.A_)}),Qn=(0,L.C5)(Yn,{ContactPersonPrimary:(0,L.Pr)((function(t,e){return(0,L.O)({},Jn,t,e)})),ContactPosition:(0,L.Pr)(Z.s2),ContactAddress:(0,L.Pr)((function(t,e){return(0,L.O)({},$n,t,e)})),ContactVoiceTelephone:(0,L.Pr)(Z.s2),ContactFacsimileTelephone:(0,L.Pr)(Z.s2),ContactElectronicMailAddress:(0,L.Pr)(Z.s2)}),Jn=(0,L.C5)(Yn,{ContactPerson:(0,L.Pr)(Z.s2),ContactOrganization:(0,L.Pr)(Z.s2)}),$n=(0,L.C5)(Yn,{AddressType:(0,L.Pr)(Z.s2),Address:(0,L.Pr)(Z.s2),City:(0,L.Pr)(Z.s2),StateOrProvince:(0,L.Pr)(Z.s2),PostCode:(0,L.Pr)(Z.s2),Country:(0,L.Pr)(Z.s2)}),to=(0,L.C5)(Yn,{Format:(0,L.Ei)(Z.s2)}),eo=(0,L.C5)(Yn,{Name:(0,L.Pr)(Z.s2),Title:(0,L.Pr)(Z.s2),Abstract:(0,L.Pr)(Z.s2),KeywordList:(0,L.Pr)(mo),CRS:(0,L.ke)(Z.s2),EX_GeographicBoundingBox:(0,L.Pr)((function(t,e){var r=(0,L.O)({},io,t,e);if(r){var i=r.westBoundLongitude,n=r.southBoundLatitude,o=r.eastBoundLongitude,s=r.northBoundLatitude;if(void 0!==i&&void 0!==n&&void 0!==o&&void 0!==s)return[i,n,o,s]}})),BoundingBox:(0,L.ke)((function(t,e){var r=[(0,Z.ej)(t.getAttribute("minx")),(0,Z.ej)(t.getAttribute("miny")),(0,Z.ej)(t.getAttribute("maxx")),(0,Z.ej)(t.getAttribute("maxy"))],i=[(0,Z.ej)(t.getAttribute("resx")),(0,Z.ej)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:i}})),Dimension:(0,L.ke)((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:(0,Z.v$)(t.getAttribute("multipleValues")),nearestValue:(0,Z.v$)(t.getAttribute("nearestValue")),current:(0,Z.v$)(t.getAttribute("current")),values:(0,Z.s2)(t)}})),Attribution:(0,L.Pr)((function(t,e){return(0,L.O)({},ro,t,e)})),AuthorityURL:(0,L.ke)((function(t,e){var r=po(t,e);if(r)return r.name=t.getAttribute("name"),r})),Identifier:(0,L.ke)(Z.s2),MetadataURL:(0,L.ke)((function(t,e){var r=po(t,e);if(r)return r.type=t.getAttribute("type"),r})),DataURL:(0,L.ke)(po),FeatureListURL:(0,L.ke)(po),Style:(0,L.ke)((function(t,e){return(0,L.O)({},uo,t,e)})),MinScaleDenominator:(0,L.Pr)(Z.fy),MaxScaleDenominator:(0,L.Pr)(Z.fy),Layer:(0,L.ke)(co)}),ro=(0,L.C5)(Yn,{Title:(0,L.Pr)(Z.s2),OnlineResource:(0,L.Pr)(Cr),LogoURL:(0,L.Pr)(go)}),io=(0,L.C5)(Yn,{westBoundLongitude:(0,L.Pr)(Z.fy),eastBoundLongitude:(0,L.Pr)(Z.fy),southBoundLatitude:(0,L.Pr)(Z.fy),northBoundLatitude:(0,L.Pr)(Z.fy)}),no=(0,L.C5)(Yn,{GetCapabilities:(0,L.Pr)(fo),GetMap:(0,L.Pr)(fo),GetFeatureInfo:(0,L.Pr)(fo)}),oo=(0,L.C5)(Yn,{Format:(0,L.ke)(Z.s2),DCPType:(0,L.ke)((function(t,e){return(0,L.O)({},so,t,e)}))}),so=(0,L.C5)(Yn,{HTTP:(0,L.Pr)((function(t,e){return(0,L.O)({},ao,t,e)}))}),ao=(0,L.C5)(Yn,{Get:(0,L.Pr)(po),Post:(0,L.Pr)(po)}),uo=(0,L.C5)(Yn,{Name:(0,L.Pr)(Z.s2),Title:(0,L.Pr)(Z.s2),Abstract:(0,L.Pr)(Z.s2),LegendURL:(0,L.ke)(go),StyleSheetURL:(0,L.Pr)(po),StyleURL:(0,L.Pr)(po)}),lo=(0,L.C5)(Yn,{Format:(0,L.Pr)(Z.s2),OnlineResource:(0,L.Pr)(Cr)}),ho=(0,L.C5)(Yn,{Keyword:(0,L.Ei)(Z.s2)});function co(t,e){var r=e[e.length-1],i=(0,L.O)({},eo,t,e);if(i){var n=(0,Z.v$)(t.getAttribute("queryable"));void 0===n&&(n=r.queryable),i.queryable=void 0!==n&&n;var o=(0,Z._E)(t.getAttribute("cascaded"));void 0===o&&(o=r.cascaded),i.cascaded=o;var s=(0,Z.v$)(t.getAttribute("opaque"));void 0===s&&(s=r.opaque),i.opaque=void 0!==s&&s;var a=(0,Z.v$)(t.getAttribute("noSubsets"));void 0===a&&(a=r.noSubsets),i.noSubsets=void 0!==a&&a;var u=(0,Z.ej)(t.getAttribute("fixedWidth"));u||(u=r.fixedWidth),i.fixedWidth=u;var l=(0,Z.ej)(t.getAttribute("fixedHeight"));return l||(l=r.fixedHeight),i.fixedHeight=l,["Style","CRS","AuthorityURL"].forEach((function(t){if(t in r){var e=i[t]||[];i[t]=e.concat(r[t])}})),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in i)){var e=r[t];i[t]=e}})),i}}function po(t,e){return(0,L.O)({},lo,t,e)}function fo(t,e){return(0,L.O)({},oo,t,e)}function go(t,e){var r=po(t,e);if(r){var i=[(0,Z._E)(t.getAttribute("width")),(0,Z._E)(t.getAttribute("height"))];return r.size=i,r}}function mo(t,e){return(0,L.O)([],ho,t,e)}const _o=Hn;var yo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const vo=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new U,r.layers_=i.layers?i.layers:null,r}return yo(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,i=[];if(0===t.childNodes.length)return i;if("msGMLOutput"==r)for(var n=0,o=t.childNodes.length;n<o;n++){var s=t.childNodes[n];if(s.nodeType===Node.ELEMENT_NODE){var a=s,u=e[0],l=a.localName.replace("_layer","");if(!this.layers_||(0,T.q9)(this.layers_,l)){var h=l+"_feature";u.featureType=h,u.featureNS=this.featureNS_;var c={};c[h]=(0,L.Ei)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var p=(0,L.C5)([u.featureNS,null],c);a.setAttribute("namespaceURI",this.featureNS_);var f=(0,L.O)([],p,a,e,this.gmlFormat_);f&&(0,T.l7)(i,f)}}}if("FeatureCollection"==r){var d=(0,L.O)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);d&&(i=d)}return i},e.prototype.readFeaturesFromNode=function(t,e){var r={};return e&&(0,m.f0)(r,this.getReadOptions(t,e)),this.readFeatures_(t,[r])},e}(I.Z);var bo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),wo=[null,"http://www.opengis.net/wmts/1.0"],Mo=[null,"http://www.opengis.net/ows/1.1"],So=(0,L.C5)(wo,{Contents:(0,L.Pr)((function(t,e){return(0,L.O)({},Po,t,e)}))}),Co=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new Br,e}return bo(e,t),e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=(0,L.O)(r,So,t,[]))||null):null},e}(Sr),Po=(0,L.C5)(wo,{Layer:(0,L.ke)((function(t,e){return(0,L.O)({},Eo,t,e)})),TileMatrixSet:(0,L.ke)((function(t,e){return(0,L.O)({},Lo,t,e)}))}),Eo=(0,L.C5)(wo,{Style:(0,L.ke)((function(t,e){var r=(0,L.O)({},Oo,t,e);if(r){var i="true"===t.getAttribute("isDefault");return r.isDefault=i,r}})),Format:(0,L.ke)(Z.s2),TileMatrixSetLink:(0,L.ke)((function(t,e){return(0,L.O)({},xo,t,e)})),Dimension:(0,L.ke)((function(t,e){return(0,L.O)({},Io,t,e)})),ResourceURL:(0,L.ke)((function(t,e){var r=t.getAttribute("format"),i=t.getAttribute("template"),n=t.getAttribute("resourceType"),o={};return r&&(o.format=r),i&&(o.template=i),n&&(o.resourceType=n),o}))},(0,L.C5)(Mo,{Title:(0,L.Pr)(Z.s2),Abstract:(0,L.Pr)(Z.s2),WGS84BoundingBox:(0,L.Pr)((function(t,e){var r=(0,L.O)([],To,t,e);if(2==r.length)return(0,_.boundingExtent)(r)})),Identifier:(0,L.Pr)(Z.s2)})),Oo=(0,L.C5)(wo,{LegendURL:(0,L.ke)((function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=Cr(t),r}))},(0,L.C5)(Mo,{Title:(0,L.Pr)(Z.s2),Identifier:(0,L.Pr)(Z.s2)})),xo=(0,L.C5)(wo,{TileMatrixSet:(0,L.Pr)(Z.s2),TileMatrixSetLimits:(0,L.Pr)((function(t,e){return(0,L.O)([],Ao,t,e)}))}),Ao=(0,L.C5)(wo,{TileMatrixLimits:(0,L.Ei)((function(t,e){return(0,L.O)({},Ro,t,e)}))}),Ro=(0,L.C5)(wo,{TileMatrix:(0,L.Pr)(Z.s2),MinTileRow:(0,L.Pr)(Z.A_),MaxTileRow:(0,L.Pr)(Z.A_),MinTileCol:(0,L.Pr)(Z.A_),MaxTileCol:(0,L.Pr)(Z.A_)}),Io=(0,L.C5)(wo,{Default:(0,L.Pr)(Z.s2),Value:(0,L.ke)(Z.s2)},(0,L.C5)(Mo,{Identifier:(0,L.Pr)(Z.s2)})),To=(0,L.C5)(Mo,{LowerCorner:(0,L.Ei)(jo),UpperCorner:(0,L.Ei)(jo)}),Lo=(0,L.C5)(wo,{WellKnownScaleSet:(0,L.Pr)(Z.s2),TileMatrix:(0,L.ke)((function(t,e){return(0,L.O)({},No,t,e)}))},(0,L.C5)(Mo,{SupportedCRS:(0,L.Pr)(Z.s2),Identifier:(0,L.Pr)(Z.s2)})),No=(0,L.C5)(wo,{TopLeftCorner:(0,L.Pr)(jo),ScaleDenominator:(0,L.Pr)(Z.fy),TileWidth:(0,L.Pr)(Z.A_),TileHeight:(0,L.Pr)(Z.A_),MatrixWidth:(0,L.Pr)(Z.A_),MatrixHeight:(0,L.Pr)(Z.A_)},(0,L.C5)(Mo,{Identifier:(0,L.Pr)(Z.s2)}));function jo(t,e){var r=(0,Z.s2)(t).split(/\s+/);if(r&&2==r.length){var i=+r[0],n=+r[1];if(!isNaN(i)&&!isNaN(n))return[i,n]}}const Fo=Co},"./node_modules/ol/format/GPX.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Q});var i,n=r("./node_modules/ol/Feature.js"),o=r("./node_modules/ol/geom/GeometryLayout.js"),s=r("./node_modules/ol/geom/GeometryType.js"),a=r("./node_modules/ol/geom/LineString.js"),u=r("./node_modules/ol/geom/MultiLineString.js"),l=r("./node_modules/ol/geom/Point.js"),h=r("./node_modules/ol/format/XMLFeature.js"),c=r("./node_modules/ol/xml.js"),p=r("./node_modules/ol/proj.js"),f=r("./node_modules/ol/array.js"),d=r("./node_modules/ol/format/xsd.js"),g=r("./node_modules/ol/format/Feature.js"),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],y={rte:Y,trk:W,wpt:X},v=(0,c.C5)(_,{rte:(0,c.Ei)(Y),trk:(0,c.Ei)(W),wpt:(0,c.Ei)(X)}),b=(0,c.C5)(_,{text:(0,c.Pr)(d.s2,"linkText"),type:(0,c.Pr)(d.s2,"linkType")}),w=(0,c.C5)(_,{rte:(0,c.A4)((function(t,e,r){var i=r[0],n=e.getProperties(),o={node:t};o.properties=n;var a=e.getGeometry();if(a.getType()==s.Z.LINE_STRING){var u=(0,g.fI)(a,!0,i);o.geometryLayout=u.getLayout(),n.rtept=u.getCoordinates()}var l=r[r.length-1].node,h=I[l.namespaceURI],p=(0,c.RA)(n,h);(0,c.ZL)(o,T,c.hg,p,r,h)})),trk:(0,c.A4)((function(t,e,r){var i=r[0],n=e.getProperties(),o={node:t};o.properties=n;var a=e.getGeometry();if(a.getType()==s.Z.MULTI_LINE_STRING){var u=(0,g.fI)(a,!0,i);n.trkseg=u.getLineStrings()}var l=r[r.length-1].node,h=N[l.namespaceURI],p=(0,c.RA)(n,h);(0,c.ZL)(o,j,c.hg,p,r,h)})),wpt:(0,c.A4)((function(t,e,r){var i=r[0],n=r[r.length-1];n.properties=e.getProperties();var o=e.getGeometry();if(o.getType()==s.Z.POINT){var a=(0,g.fI)(o,!0,i);n.geometryLayout=a.getLayout(),K(t,a.getCoordinates(),r)}}))}),M=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.dataProjection=(0,p.get)("EPSG:4326"),r.readExtensions_=i.readExtensions,r}return m(e,t),e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,r=t.length;e<r;++e){var i=t[e];if(this.readExtensions_){var n=i.get("extensionsNode_")||null;this.readExtensions_(i,n)}i.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!(0,f.q9)(_,t.namespaceURI))return null;var r=y[t.localName];if(!r)return null;var i=r(t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_([i]),i):null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,f.q9)(_,t.namespaceURI))return[];if("gpx"==t.localName){var r=(0,c.O)([],v,t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=(0,c.c)("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",c.fJ),r.setAttributeNS(c.fJ,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),(0,c.ZL)({node:r},w,z,t,[e]),r},e}(h.Z),S=(0,c.C5)(_,{name:(0,c.Pr)(d.s2),cmt:(0,c.Pr)(d.s2),desc:(0,c.Pr)(d.s2),src:(0,c.Pr)(d.s2),link:q,number:(0,c.Pr)(d.A_),extensions:V,type:(0,c.Pr)(d.s2),rtept:function(t,e){var r=(0,c.O)({},C,t,e);if(r){var i=e[e.length-1];B(i.flatCoordinates,i.layoutOptions,t,r)}}}),C=(0,c.C5)(_,{ele:(0,c.Pr)(d.fy),time:(0,c.Pr)(d.x7)}),P=(0,c.C5)(_,{name:(0,c.Pr)(d.s2),cmt:(0,c.Pr)(d.s2),desc:(0,c.Pr)(d.s2),src:(0,c.Pr)(d.s2),link:q,number:(0,c.Pr)(d.A_),type:(0,c.Pr)(d.s2),extensions:V,trkseg:function(t,e){var r=e[e.length-1];(0,c.T3)(E,t,e);var i=r.flatCoordinates;r.ends.push(i.length)}}),E=(0,c.C5)(_,{trkpt:function(t,e){var r=(0,c.O)({},O,t,e);if(r){var i=e[e.length-1];B(i.flatCoordinates,i.layoutOptions,t,r)}}}),O=(0,c.C5)(_,{ele:(0,c.Pr)(d.fy),time:(0,c.Pr)(d.x7)}),x=(0,c.C5)(_,{ele:(0,c.Pr)(d.fy),time:(0,c.Pr)(d.x7),magvar:(0,c.Pr)(d.fy),geoidheight:(0,c.Pr)(d.fy),name:(0,c.Pr)(d.s2),cmt:(0,c.Pr)(d.s2),desc:(0,c.Pr)(d.s2),src:(0,c.Pr)(d.s2),link:q,sym:(0,c.Pr)(d.s2),type:(0,c.Pr)(d.s2),fix:(0,c.Pr)(d.s2),sat:(0,c.Pr)(d.A_),hdop:(0,c.Pr)(d.fy),vdop:(0,c.Pr)(d.fy),pdop:(0,c.Pr)(d.fy),ageofdgpsdata:(0,c.Pr)(d.fy),dgpsid:(0,c.Pr)(d.A_),extensions:V}),A=["text","type"],R=(0,c.C5)(_,{text:(0,c.A4)(d.bZ),type:(0,c.A4)(d.bZ)}),I=(0,c.C5)(_,["name","cmt","desc","src","link","number","type","rtept"]),T=(0,c.C5)(_,{name:(0,c.A4)(d.bZ),cmt:(0,c.A4)(d.bZ),desc:(0,c.A4)(d.bZ),src:(0,c.A4)(d.bZ),link:(0,c.A4)(H),number:(0,c.A4)(d.JD),type:(0,c.A4)(d.bZ),rtept:(0,c.JO)((0,c.A4)(K))}),L=(0,c.C5)(_,["ele","time"]),N=(0,c.C5)(_,["name","cmt","desc","src","link","number","type","trkseg"]),j=(0,c.C5)(_,{name:(0,c.A4)(d.bZ),cmt:(0,c.A4)(d.bZ),desc:(0,c.A4)(d.bZ),src:(0,c.A4)(d.bZ),link:(0,c.A4)(H),number:(0,c.A4)(d.JD),type:(0,c.A4)(d.bZ),trkseg:(0,c.JO)((0,c.A4)((function(t,e,r){var i={node:t};i.geometryLayout=e.getLayout(),i.properties={},(0,c.ZL)(i,G,F,e.getCoordinates(),r)})))}),F=(0,c.G3)("trkpt"),G=(0,c.C5)(_,{trkpt:(0,c.A4)(K)}),k=(0,c.C5)(_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),Z=(0,c.C5)(_,{ele:(0,c.A4)(d.f3),time:(0,c.A4)(d.hv),magvar:(0,c.A4)(d.f3),geoidheight:(0,c.A4)(d.f3),name:(0,c.A4)(d.bZ),cmt:(0,c.A4)(d.bZ),desc:(0,c.A4)(d.bZ),src:(0,c.A4)(d.bZ),link:(0,c.A4)(H),sym:(0,c.A4)(d.bZ),type:(0,c.A4)(d.bZ),fix:(0,c.A4)(d.bZ),sat:(0,c.A4)(d.JD),hdop:(0,c.A4)(d.f3),vdop:(0,c.A4)(d.f3),pdop:(0,c.A4)(d.f3),ageofdgpsdata:(0,c.A4)(d.f3),dgpsid:(0,c.A4)(d.JD)}),D={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function z(t,e,r){var i=t.getGeometry();if(i){var n=D[i.getType()];if(n){var o=e[e.length-1].node;return(0,c.c)(o.namespaceURI,n)}}}function B(t,e,r,i){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function U(t,e,r){var i=o.Z.XY,n=2;if(t.hasZ&&t.hasM?(i=o.Z.XYZM,n=4):t.hasZ?(i=o.Z.XYZ,n=3):t.hasM&&(i=o.Z.XYM,n=3),4!==n){for(var s=0,a=e.length/4;s<a;s++)e[s*n]=e[4*s],e[s*n+1]=e[4*s+1],t.hasZ&&(e[s*n+2]=e[4*s+2]),t.hasM&&(e[s*n+2]=e[4*s+3]);if(e.length=e.length/4*n,r)for(s=0,a=r.length;s<a;s++)r[s]=r[s]/4*n}return i}function q(t,e){var r=e[e.length-1],i=t.getAttribute("href");null!==i&&(r.link=i),(0,c.T3)(b,t,e)}function V(t,e){e[e.length-1].extensionsNode_=t}function Y(t,e){var r=e[0],i=(0,c.O)({flatCoordinates:[],layoutOptions:{}},S,t,e);if(i){var o=i.flatCoordinates;delete i.flatCoordinates;var s=i.layoutOptions;delete i.layoutOptions;var u=U(s,o),l=new a.Z(o,u);(0,g.fI)(l,!1,r);var h=new n.default(l);return h.setProperties(i,!0),h}}function W(t,e){var r=e[0],i=(0,c.O)({flatCoordinates:[],ends:[],layoutOptions:{}},P,t,e);if(i){var o=i.flatCoordinates;delete i.flatCoordinates;var s=i.ends;delete i.ends;var a=i.layoutOptions;delete i.layoutOptions;var l=U(a,o,s),h=new u.Z(o,l,s);(0,g.fI)(h,!1,r);var p=new n.default(h);return p.setProperties(i,!0),p}}function X(t,e){var r=e[0],i=(0,c.O)({},x,t,e);if(i){var o={},s=B([],o,t,i),a=U(o,s),u=new l.Z(s,a);(0,g.fI)(u,!1,r);var h=new n.default(u);return h.setProperties(i,!0),h}}function H(t,e,r){t.setAttribute("href",e);var i=r[r.length-1].properties,n=[i.linkText,i.linkType];(0,c.ZL)({node:t},R,c.hg,n,r,A)}function K(t,e,r){var i=r[r.length-1],n=i.node.namespaceURI,s=i.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case o.Z.XYZM:0!==e[3]&&(s.time=e[3]);case o.Z.XYZ:0!==e[2]&&(s.ele=e[2]);break;case o.Z.XYM:0!==e[2]&&(s.time=e[2])}var a="rtept"==t.nodeName?L[n]:k[n],u=(0,c.RA)(s,a);(0,c.ZL)({node:t,properties:s},Z,c.hg,u,r,a)}const Q=M},"./node_modules/ol/format/IIIFInfo.js":(t,e,r)=>{"use strict";r.d(e,{L:()=>o,Z:()=>c});var i=r("./node_modules/ol/asserts.js"),n=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i},o={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},s={};s[o.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},s[o.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},s[o.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},s.none={none:{supports:[],formats:[],qualities:[]}};var a=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,u=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,l=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,h={};h[o.VERSION1]=function(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=s[o.VERSION1].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:n(e.formats,[void 0===t.imageInfo.formats?[]:t.imageInfo.formats]),qualities:n(e.qualities,[void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities]),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:null!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},h[o.VERSION2]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,i=r&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],o=r&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],s=r&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:n(e.supports,i),formats:n(e.formats,o),qualities:n(e.qualities,s)}},h[o.VERSION3]=function(t){var e=t.getComplianceLevelSupportedFeatures(),r=void 0===t.imageInfo.extraFormats?e.formats:n(e.formats,t.imageInfo.extraFormats),i=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return["jpg","png","gif"].includes(t)})).reduce((function(t,e){return void 0===t&&r.includes(e)?e:t}),void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:n(e.supports,t.imageInfo.extraFeatures),formats:r,qualities:void 0===t.imageInfo.extraQualities?e.qualities:n(e.qualities,t.imageInfo.extraQualities),preferredFormat:i}};const c=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return o.VERSION1;case"http://iiif.io/api/image/2/context.json":return o.VERSION2;case"http://iiif.io/api/image/3/context.json":return o.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(o.VERSION1)&&this.imageInfo.identifier)return o.VERSION1}(0,i.h)(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case o.VERSION1:if(a.test(this.imageInfo.profile))return this.imageInfo.profile;break;case o.VERSION3:if(l.test(this.imageInfo.profile))return this.imageInfo.profile;break;case o.VERSION2:if("string"==typeof this.imageInfo.profile&&u.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&u.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var r=e.match(/level[0-2](?:\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?s.none.none:s[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},r=this.getImageApiVersion();if(void 0!==r){var i=void 0===r?void 0:h[r](this);if(void 0!==i)return{url:i.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:i.sizes,format:void 0!==e.format&&i.formats.includes(e.format)?e.format:void 0!==i.preferredFormat?i.preferredFormat:"jpg",supports:i.supports,quality:e.quality&&i.qualities.includes(e.quality)?e.quality:i.qualities.includes("native")?"native":"default",resolutions:Array.isArray(i.resolutions)?i.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:i.tileSize}}},t}()},"./node_modules/ol/format/OSMXML.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>M});var i,n=r("./node_modules/ol/Feature.js"),o=r("./node_modules/ol/geom/GeometryLayout.js"),s=r("./node_modules/ol/geom/LineString.js"),a=r("./node_modules/ol/geom/Point.js"),u=r("./node_modules/ol/geom/Polygon.js"),l=r("./node_modules/ol/format/XMLFeature.js"),h=r("./node_modules/ol/array.js"),c=r("./node_modules/ol/proj.js"),p=r("./node_modules/ol/obj.js"),f=r("./node_modules/ol/xml.js"),d=r("./node_modules/ol/format/Feature.js"),g=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=[null],_=(0,f.C5)(m,{nd:function(t,e){e[e.length-1].ndrefs.push(t.getAttribute("ref"))},tag:w}),y=(0,f.C5)(m,{node:function(t,e){var r=e[0],i=e[e.length-1],o=t.getAttribute("id"),s=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];i.nodes[o]=s;var u=(0,f.O)({tags:{}},b,t,e);if(!(0,p.xb)(u.tags)){var l=new a.Z(s);(0,d.fI)(l,!1,r);var h=new n.default(l);h.setId(o),h.setProperties(u.tags,!0),i.features.push(h)}},way:function(t,e){var r=t.getAttribute("id"),i=(0,f.O)({id:r,ndrefs:[],tags:{}},_,t,e);e[e.length-1].ways.push(i)}}),v=function(t){function e(){var e=t.call(this)||this;return e.dataProjection=(0,c.get)("EPSG:4326"),e}return g(e,t),e.prototype.readFeaturesFromNode=function(t,e){var r=this.getReadOptions(t,e);if("osm"==t.localName){for(var i=(0,f.O)({nodes:{},ways:[],features:[]},y,t,[r]),a=0;a<i.ways.length;a++){for(var l=i.ways[a],c=[],p=0,g=l.ndrefs.length;p<g;p++){var m=i.nodes[l.ndrefs[p]];(0,h.l7)(c,m)}var _;_=l.ndrefs[0]==l.ndrefs[l.ndrefs.length-1]?new u.ZP(c,o.Z.XY,[c.length]):new s.Z(c,o.Z.XY),(0,d.fI)(_,!1,r);var v=new n.default(_);v.setId(l.id),v.setProperties(l.tags,!0),i.features.push(v)}if(i.features)return i.features}return[]},e}(l.Z),b=(0,f.C5)(m,{tag:w});function w(t,e){e[e.length-1].tags[t.getAttribute("k")]=t.getAttribute("v")}const M=v},"./node_modules/ol/format/XMLFeature.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var i,n=r("./node_modules/ol/format/Feature.js"),o=r("./node_modules/ol/format/FormatType.js"),s=r("./node_modules/ol/util.js"),a=r("./node_modules/ol/array.js"),u=r("./node_modules/ol/xml.js"),l=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const h=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=(0,u.xc)(),e}return l(e,t),e.prototype.getType=function(){return o.Z.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var r=(0,u.Qc)(t);return this.readFeatureFromDocument(r,e)}return(0,u.qk)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var r=(0,u.Qc)(t);return this.readFeaturesFromDocument(r,e)}return(0,u.qk)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,a.l7)(r,this.readFeaturesFromNode(i,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return(0,s.O3)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var r=(0,u.Qc)(t);return this.readGeometryFromDocument(r,e)}return(0,u.qk)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=(0,u.Qc)(t);return this.readProjectionFromDocument(e)}return(0,u.qk)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(n.ZP)},"./node_modules/ol/format/xsd.js":(t,e,r)=>{"use strict";r.d(e,{ud:()=>o,v$:()=>s,x7:()=>a,fy:()=>u,ej:()=>l,A_:()=>h,_E:()=>c,s2:()=>p,Vi:()=>f,xO:()=>d,hv:()=>g,f3:()=>m,JD:()=>_,bZ:()=>y});var i=r("./node_modules/ol/xml.js"),n=r("./node_modules/ol/string.js");function o(t){return s((0,i.Ve)(t,!1))}function s(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function a(t){var e=(0,i.Ve)(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function u(t){return l((0,i.Ve)(t,!1))}function l(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function h(t){return c((0,i.Ve)(t,!1))}function c(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function p(t){return(0,i.Ve)(t,!1).trim()}function f(t,e){y(t,e?"1":"0")}function d(t,e){t.appendChild((0,i.Me)().createCDATASection(e))}function g(t,e){var r=new Date(1e3*e),o=r.getUTCFullYear()+"-"+(0,n.v)(r.getUTCMonth()+1,2)+"-"+(0,n.v)(r.getUTCDate(),2)+"T"+(0,n.v)(r.getUTCHours(),2)+":"+(0,n.v)(r.getUTCMinutes(),2)+":"+(0,n.v)(r.getUTCSeconds(),2)+"Z";t.appendChild((0,i.Me)().createTextNode(o))}function m(t,e){var r=e.toPrecision();t.appendChild((0,i.Me)().createTextNode(r))}function _(t,e){var r=e.toString();t.appendChild((0,i.Me)().createTextNode(r))}function y(t,e){t.appendChild((0,i.Me)().createTextNode(e))}},"./node_modules/ol/geom.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Circle:()=>i.default,Geometry:()=>n.Z,GeometryCollection:()=>o.Z,LinearRing:()=>s.Z,LineString:()=>a.Z,MultiLineString:()=>u.Z,MultiPoint:()=>l.Z,MultiPolygon:()=>h.Z,Point:()=>c.Z,Polygon:()=>p.ZP,SimpleGeometry:()=>f.ZP});var i=r("./node_modules/ol/geom/Circle.js"),n=r("./node_modules/ol/geom/Geometry.js"),o=r("./node_modules/ol/geom/GeometryCollection.js"),s=r("./node_modules/ol/geom/LinearRing.js"),a=r("./node_modules/ol/geom/LineString.js"),u=r("./node_modules/ol/geom/MultiLineString.js"),l=r("./node_modules/ol/geom/MultiPoint.js"),h=r("./node_modules/ol/geom/MultiPolygon.js"),c=r("./node_modules/ol/geom/Point.js"),p=r("./node_modules/ol/geom/Polygon.js"),f=r("./node_modules/ol/geom/SimpleGeometry.js")},"./node_modules/ol/index.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{AssertionError:()=>n.Z,Collection:()=>o.default,Disposable:()=>s.Z,Feature:()=>a.default,Geolocation:()=>E,Graticule:()=>O.Z,Image:()=>x.Z,ImageBase:()=>A.Z,ImageCanvas:()=>R.Z,ImageTile:()=>I.Z,Kinetic:()=>T.Z,Map:()=>L.Z,MapBrowserEvent:()=>N.Z,MapBrowserEventHandler:()=>j.Z,MapEvent:()=>F.Z,Object:()=>l.ZP,Observable:()=>G.default,Overlay:()=>k.Z,PluggableMap:()=>Z.Z,Tile:()=>D.Z,TileCache:()=>z.Z,TileQueue:()=>B.Z,TileRange:()=>U.Z,VERSION:()=>W.q4,VectorRenderTile:()=>q.Z,VectorTile:()=>V.Z,View:()=>Y.ZP,getUid:()=>W.sq});var i,n=r("./node_modules/ol/AssertionError.js"),o=r("./node_modules/ol/Collection.js"),s=r("./node_modules/ol/Disposable.js"),a=r("./node_modules/ol/Feature.js"),u=r("./node_modules/ol/events/Event.js"),l=r("./node_modules/ol/Object.js"),h=r("./node_modules/ol/events/EventType.js"),c=r("./node_modules/ol/geom/Polygon.js"),p=r("./node_modules/ol/proj.js"),f=r("./node_modules/ol/math.js"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g="accuracy",m="accuracyGeometry",_="altitude",y="altitudeAccuracy",v="heading",b="position",w="projection",M="speed",S="tracking",C="trackingOptions",P=function(t){function e(e){var r=t.call(this,h.Z.ERROR)||this;return r.code=e.code,r.message=e.message,r}return d(e,t),e}(u.ZP);const E=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.position_=null,r.transform_=p.identityTransform,r.watchId_=void 0,r.addEventListener((0,l.v_)(w),r.handleProjectionChanged_),r.addEventListener((0,l.v_)(S),r.handleTrackingChanged_),void 0!==i.projection&&r.setProjection(i.projection),void 0!==i.trackingOptions&&r.setTrackingOptions(i.trackingOptions),r.setTracking(void 0!==i.tracking&&i.tracking),r}return d(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,p.getTransformFromProjections)((0,p.get)("EPSG:4326"),t),this.position_&&this.set(b,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(g,e.accuracy),this.set(_,null===e.altitude?void 0:e.altitude),this.set(y,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(v,null===e.heading?void 0:(0,f.Yr)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var r=this.transform_(this.position_);this.set(b,r),this.set(M,null===e.speed?void 0:e.speed);var i=(0,c.iu)(this.position_,e.accuracy);i.applyTransform(this.transform_),this.set(m,i),this.changed()},e.prototype.positionError_=function(t){this.dispatchEvent(new P(t))},e.prototype.getAccuracy=function(){return this.get(g)},e.prototype.getAccuracyGeometry=function(){return this.get(m)||null},e.prototype.getAltitude=function(){return this.get(_)},e.prototype.getAltitudeAccuracy=function(){return this.get(y)},e.prototype.getHeading=function(){return this.get(v)},e.prototype.getPosition=function(){return this.get(b)},e.prototype.getProjection=function(){return this.get(w)},e.prototype.getSpeed=function(){return this.get(M)},e.prototype.getTracking=function(){return this.get(S)},e.prototype.getTrackingOptions=function(){return this.get(C)},e.prototype.setProjection=function(t){this.set(w,(0,p.get)(t))},e.prototype.setTracking=function(t){this.set(S,t)},e.prototype.setTrackingOptions=function(t){this.set(C,t)},e}(l.ZP);var O=r("./node_modules/ol/layer/Graticule.js"),x=r("./node_modules/ol/Image.js"),A=r("./node_modules/ol/ImageBase.js"),R=r("./node_modules/ol/ImageCanvas.js"),I=r("./node_modules/ol/ImageTile.js"),T=r("./node_modules/ol/Kinetic.js"),L=r("./node_modules/ol/Map.js"),N=r("./node_modules/ol/MapBrowserEvent.js"),j=r("./node_modules/ol/MapBrowserEventHandler.js"),F=r("./node_modules/ol/MapEvent.js"),G=r("./node_modules/ol/Observable.js"),k=r("./node_modules/ol/Overlay.js"),Z=r("./node_modules/ol/PluggableMap.js"),D=r("./node_modules/ol/Tile.js"),z=r("./node_modules/ol/TileCache.js"),B=r("./node_modules/ol/TileQueue.js"),U=r("./node_modules/ol/TileRange.js"),q=r("./node_modules/ol/VectorRenderTile.js"),V=r("./node_modules/ol/VectorTile.js"),Y=r("./node_modules/ol/View.js"),W=r("./node_modules/ol/util.js")},"./node_modules/ol/proj/proj4.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{register:()=>u});var i=r("./node_modules/ol/proj/Projection.js"),n=r("./node_modules/ol/proj/Units.js"),o=r("./node_modules/ol/proj.js"),s=r("./node_modules/ol/obj.js"),a=r("./node_modules/ol/proj/transforms.js");function u(t){var e,r,u=Object.keys(t.defs),l=u.length;for(e=0;e<l;++e){var h=u[e];if(!(0,o.get)(h)){var c=t.defs(h),p=c.units;p||"longlat"!==c.projName||(p=n.Z.DEGREES),(0,o.addProjection)(new i.default({code:h,axisOrientation:c.axis,metersPerUnit:c.to_meter,units:p}))}}for(e=0;e<l;++e){var f=u[e],d=(0,o.get)(f);for(r=0;r<l;++r){var g=u[r],m=(0,o.get)(g);if(!(0,a.U2)(f,g)){var _=t.defs(f),y=t.defs(g);if(_===y)(0,o.addEquivalentProjections)([d,m]);else{var v=t((0,s.f0)({},_,{axis:void 0}),(0,s.f0)({},y,{axis:void 0}));(0,o.addCoordinateTransforms)(d,m,(0,o.createSafeCoordinateTransform)(d,m,v.forward),(0,o.createSafeCoordinateTransform)(m,d,v.inverse))}}}}}},"./node_modules/ol/source.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{BingMaps:()=>f,CartoDB:()=>y,Cluster:()=>v.Z,IIIF:()=>N,Image:()=>j.ZP,ImageArcGISRest:()=>D,ImageCanvas:()=>z.Z,ImageMapGuide:()=>U,ImageStatic:()=>q.Z,ImageWMS:()=>V.Z,OSM:()=>X,Raster:()=>dt,Source:()=>$.Z,Stamen:()=>vt,Tile:()=>rt.Z,TileArcGISRest:()=>Mt,TileDebug:()=>Et,TileImage:()=>o.Z,TileJSON:()=>Ot.default,TileWMS:()=>xt.Z,UTFGrid:()=>Lt,UrlTile:()=>At.Z,Vector:()=>Nt.Z,VectorTile:()=>jt.default,WMTS:()=>Zt,XYZ:()=>g,Zoomify:()=>R});var i,n=r("./node_modules/ol/source/State.js"),o=r("./node_modules/ol/source/TileImage.js"),s=r("./node_modules/ol/extent.js"),a=r("./node_modules/ol/tileurlfunction.js"),u=r("./node_modules/ol/tilecoord.js"),l=r("./node_modules/ol/tilegrid.js"),h=r("./node_modules/ol/proj.js"),c=r("./node_modules/ol/net.js"),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e){var r=this,i=void 0!==e.hidpi&&e.hidpi;(r=t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",imageSmoothing:e.imageSmoothing,opaque:!0,projection:(0,h.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:n.Z.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this).hidpi_=i,r.culture_=void 0!==e.culture?e.culture:"en-us",r.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,r.apiKey_=e.key,r.imagerySet_=e.imagerySet;var o="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+r.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+r.apiKey_+"&c="+r.culture_;return(0,c.R)(o,r.handleImageryMetadataResponse.bind(r),void 0,"jsonp"),r}return p(e,t),e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],r=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,i=this.getProjection(),o=(0,l.extentFromProjection)(i),c=this.hidpi_?2:1,p=e.imageWidth==e.imageHeight?e.imageWidth/c:[e.imageWidth/c,e.imageHeight/c],f=(0,l.createXYZ)({extent:o,minZoom:e.zoomMin,maxZoom:r,tileSize:p});this.tileGrid=f;var d=this.culture_,g=this.hidpi_;if(this.tileUrlFunction=(0,a.Un)(e.imageUrlSubdomains.map((function(t){var r=[0,0,0],i=e.imageUrl.replace("{subdomain}",t).replace("{culture}",d);return function(t,e,n){if(t){(0,u.T9)(t[0],t[1],t[2],r);var o=i;return g&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",function(t){var e,r,i=t[0],n=new Array(i),o=1<<i-1;for(e=0;e<i;++e)r=48,t[1]&o&&(r+=1),t[2]&o&&(r+=2),n[e]=String.fromCharCode(r),o>>=1;return n.join("")}(r))}}}))),e.imageryProviders){var m=(0,h.getTransformFromProjections)((0,h.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var r=[],i=t.viewState,n=this.getTileGrid(),o=n.getZForResolution(i.resolution,this.zDirection),a=n.getTileCoordForCoordAndZ(i.center,o)[0];return e.imageryProviders.map((function(e){for(var i=!1,n=e.coverageAreas,o=0,u=n.length;o<u;++o){var l=n[o];if(a>=l.zoomMin&&a<=l.zoomMax){var h=l.bbox,c=[h[1],h[0],h[3],h[2]],p=(0,s.applyTransform)(c,m);if((0,s.intersects)(p,t.extent)){i=!0;break}}}i&&r.push(e.attribution)})),r.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),r}.bind(this))}this.setState(n.Z.READY)}else this.setState(n.Z.ERROR)},e}(o.Z);var d=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const g=function(t){function e(e){var r=e||{},i=void 0!==r.projection?r.projection:"EPSG:3857",n=void 0!==r.tileGrid?r.tileGrid:(0,l.createXYZ)({extent:(0,l.extentFromProjection)(i),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,imageSmoothing:r.imageSmoothing,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return d(e,t),e}(o.Z);var m=r("./node_modules/ol/obj.js"),_=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const y=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,transition:e.transition,wrapX:e.wrapX})||this;return r.account_=e.account,r.mapId_=e.map||"",r.config_=e.config||{},r.templateCache_={},r.initializeMap_(),r}return _(e,t),e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){(0,m.f0)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,t)),r.addEventListener("error",this.handleInitError_.bind(this)),r.open("POST",e),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var r=e.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch(t){return void this.setState(n.Z.ERROR)}this.applyTemplate_(i),this.templateCache_[t]=i,this.setState(n.Z.READY)}else this.setState(n.Z.ERROR)},e.prototype.handleInitError_=function(t){this.setState(n.Z.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(g);var v=r("./node_modules/ol/source/Cluster.js"),b=r("./node_modules/ol/tilegrid/TileGrid.js"),w=r("./node_modules/ol/tilegrid/common.js"),M=r("./node_modules/ol/ImageTile.js"),S=r("./node_modules/ol/TileState.js"),C=r("./node_modules/ol/asserts.js"),P=r("./node_modules/ol/dom.js"),E=r("./node_modules/ol/size.js"),O=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),x="default",A=function(t){function e(e,r,i,n,o,s,a){var u=t.call(this,r,i,n,o,s,a)||this;return u.zoomifyImage_=null,u.tileSize_=e,u}return O(e,t),e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==S.Z.LOADED){var r=this.tileSize_;if(e.width==r[0]&&e.height==r[1])return this.zoomifyImage_=e,e;var i=(0,P.E4)(r[0],r[1]);return i.drawImage(e,0,0),this.zoomifyImage_=i.canvas,i.canvas}return e},e}(M.Z);const R=function(t){function e(e){var r=this,i=e,n=i.size,o=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:x,u=i.tilePixelRatio||1,l=n[0],h=n[1],c=[],p=i.tileSize||w.S,f=p*u;switch(o){case x:for(;l>f||h>f;)c.push([Math.ceil(l/f),Math.ceil(h/f)]),f+=f;break;case"truncated":for(var d=l,g=h;d>f||g>f;)c.push([Math.ceil(d/f),Math.ceil(g/f)]),d>>=1,g>>=1;break;default:(0,C.h)(!1,53)}c.push([1,1]),c.reverse();for(var m=[u],_=[0],y=1,v=c.length;y<v;y++)m.push(u<<y),_.push(c[y-1][0]*c[y-1][1]+_[y-1]);m.reverse();var M=new b.Z({tileSize:p,extent:i.extent||[0,-h,l,0],resolutions:m}),S=i.url;S&&-1==S.indexOf("{TileGroup}")&&-1==S.indexOf("{tileIndex}")&&(S+="{TileGroup}/{z}-{x}-{y}.jpg");var P=(0,a.Gk)(S),O=p*u,R=(0,a.Un)(P.map((function(t){return function(e,r,i){if(e){var n=e[0],o=e[1],s=e[2],a=o+s*c[n][0],u={z:n,x:o,y:s,tileIndex:a,TileGroup:"TileGroup"+((a+_[n])/O|0)};return t.replace(/\{(\w+?)\}/g,(function(t,e){return u[e]}))}}}))),I=A.bind(null,(0,E.Pq)(p*u));(r=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,projection:i.projection,tilePixelRatio:u,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:I,tileGrid:M,tileUrlFunction:R,transition:i.transition})||this).zDirection=i.zDirection;var T=R(M.getTileCoordForCoordAndResolution((0,s.getCenter)(M.getExtent()),m[m.length-1]),1,null),L=new Image;return L.addEventListener("error",function(){O=p,this.changed()}.bind(r)),L.src=T,r}return O(e,t),e}(o.Z);var I=r("./node_modules/ol/format/IIIFInfo.js"),T=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();function L(t){return t.toLocaleString("en",{maximumFractionDigits:10})}const N=function(t){function e(e){var r=this,i=e||{},n=i.url||"";n+=n.lastIndexOf("/")===n.length-1||""===n?"":"/";var o=i.version||I.L.VERSION2,a=i.sizes||[],u=i.size;(0,C.h)(null!=u&&Array.isArray(u)&&2==u.length&&!isNaN(u[0])&&u[0]>0&&!isNaN(u[1])&&u[1]>0,60);var l,h,c,p=u[0],f=u[1],d=i.tileSize,g=i.tilePixelRatio||1,m=i.format||"jpg",_=i.quality||(i.version==I.L.VERSION1?"native":"default"),y=i.resolutions||[],v=i.supports||[],M=i.extent||[0,-f,p,0],S=null!=a&&Array.isArray(a)&&a.length>0,P=void 0!==d&&("number"==typeof d&&Number.isInteger(d)&&d>0||Array.isArray(d)&&d.length>0),O=null!=v&&Array.isArray(v)&&(v.includes("regionByPx")||v.includes("regionByPct"))&&(v.includes("sizeByWh")||v.includes("sizeByH")||v.includes("sizeByW")||v.includes("sizeByPct"));if(y.sort((function(t,e){return e-t})),P||O)if(null!=d&&("number"==typeof d&&Number.isInteger(d)&&d>0?(l=d,h=d):Array.isArray(d)&&d.length>0&&((1==d.length||null==d[1]&&Number.isInteger(d[0]))&&(l=d[0],h=d[0]),2==d.length&&(Number.isInteger(d[0])&&Number.isInteger(d[1])?(l=d[0],h=d[1]):null==d[0]&&Number.isInteger(d[1])&&(l=d[1],h=d[1])))),void 0!==l&&void 0!==h||(l=w.S,h=w.S),0==y.length)for(var x=c=Math.max(Math.ceil(Math.log(p/l)/Math.LN2),Math.ceil(Math.log(f/h)/Math.LN2));x>=0;x--)y.push(Math.pow(2,x));else{var R=Math.max.apply(Math,y);c=Math.round(Math.log(R)/Math.LN2)}else if(l=p,h=f,y=[],S){a.sort((function(t,e){return t[0]-e[0]})),c=-1;var T=[];for(x=0;x<a.length;x++){var N=p/a[x][0];y.length>0&&y[y.length-1]==N?T.push(x):(y.push(N),c++)}if(T.length>0)for(x=0;x<T.length;x++)a.splice(T[x]-x,1)}else y.push(1),a.push([p,f]),c=0;var j=new b.Z({tileSize:[l,h],extent:M,origin:(0,s.getTopLeft)(M),resolutions:y}),F=A.bind(null,(0,E.Pq)(d||256).map((function(t){return t*g})));return(r=t.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,state:i.state,tileClass:F,tileGrid:j,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:function(t,e,r){var i,s,u=t[0];if(!(u>c)){var d=t[1],g=t[2],b=y[u];if(!(void 0===d||void 0===g||void 0===b||d<0||Math.ceil(p/b/l)<=d||g<0||Math.ceil(f/b/h)<=g)){if(O||P){var w=d*l*b,M=g*h*b,C=l*b,E=h*b,x=l,A=h;w+C>p&&(C=p-w),M+E>f&&(E=f-M),w+l*b>p&&(x=Math.floor((p-w+b-1)/b)),M+h*b>f&&(A=Math.floor((f-M+b-1)/b)),0==w&&C==p&&0==M&&E==f?i="full":!O||v.includes("regionByPx")?i=w+","+M+","+C+","+E:v.includes("regionByPct")&&(i="pct:"+L(w/p*100)+","+L(M/f*100)+","+L(C/p*100)+","+L(E/f*100)),o!=I.L.VERSION3||O&&!v.includes("sizeByWh")?!O||v.includes("sizeByW")?s=x+",":v.includes("sizeByH")?s=","+A:v.includes("sizeByWh")?s=x+","+A:v.includes("sizeByPct")&&(s="pct:"+L(100/b)):s=x+","+A}else if(i="full",S){var R=a[u][0],T=a[u][1];s=o==I.L.VERSION3?R==p&&T==f?"max":R+","+T:R==p?"full":R+","}else s=o==I.L.VERSION3?"max":"full";return n+i+"/"+s+"/0/"+_+"."+m}}},transition:i.transition})||this).zDirection=i.zDirection,r}return T(e,t),e}(o.Z);var j=r("./node_modules/ol/source/Image.js"),F=r("./node_modules/ol/events/EventType.js"),G=r("./node_modules/ol/Image.js"),k=r("./node_modules/ol/uri.js"),Z=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const D=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,{attributions:i.attributions,imageSmoothing:i.imageSmoothing,projection:i.projection,resolutions:i.resolutions})||this).crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,r.hidpi_=void 0===i.hidpi||i.hidpi,r.url_=i.url,r.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:j.r6,r.params_=i.params||{},r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==i.ratio?i.ratio:1.5,r}return Z(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e),r=this.hidpi_?r:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==r&&(0,s.containsExtent)(n.getExtent(),t))return n;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,m.f0)(o,this.params_);var a=((t=t.slice())[0]+t[2])/2,u=(t[1]+t[3])/2;if(1!=this.ratio_){var l=this.ratio_*(0,s.getWidth)(t)/2,h=this.ratio_*(0,s.getHeight)(t)/2;t[0]=a-l,t[1]=u-h,t[2]=a+l,t[3]=u+h}var c=e/r,p=Math.ceil((0,s.getWidth)(t)/c),f=Math.ceil((0,s.getHeight)(t)/c);t[0]=a-c*p/2,t[2]=a+c*p/2,t[1]=u-c*f/2,t[3]=u+c*f/2,this.imageSize_[0]=p,this.imageSize_[1]=f;var d=this.getRequestUrl_(t,this.imageSize_,r,i,o);return this.image_=new G.Z(t,e,r,d,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(F.Z.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,i,n){var o=i.getCode().split(":").pop();n.SIZE=e[0]+","+e[1],n.BBOX=t.join(","),n.BBOXSR=o,n.IMAGESR=o,n.DPI=Math.round(90*r);var s=this.url_,a=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return a==s&&(0,C.h)(!1,50),(0,k.B)(a,n)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,m.f0)(this.params_,t),this.image_=null,this.changed()},e}(j.ZP);var z=r("./node_modules/ol/source/ImageCanvas.js"),B=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const U=function(t){function e(e){var r=t.call(this,{imageSmoothing:e.imageSmoothing,projection:e.projection,resolutions:e.resolutions})||this;return r.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,r.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,r.params_=e.params||{},r.url_=e.url,r.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:j.r6,r.hidpi_=void 0===e.hidpi||e.hidpi,r.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,r.ratio_=void 0!==e.ratio?e.ratio:1,r.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,r.image_=null,r.renderedRevision_=0,r}return B(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,i){e=this.findNearestResolution(e),r=this.hidpi_?r:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==r&&(0,s.containsExtent)(n.getExtent(),t))return n;1!=this.ratio_&&(t=t.slice(),(0,s.scaleFromCenter)(t,this.ratio_));var o=[(0,s.getWidth)(t)/e*r,(0,s.getHeight)(t)/e*r];if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,t,o,i);(n=new G.Z(t,e,r,a,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(F.Z.CHANGE,this.handleImageChange.bind(this))}else n=null;return this.image_=n,this.renderedRevision_=this.getRevision(),n},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){(0,m.f0)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,r,i,n){var o=function(t,e,r,i){var n=(0,s.getWidth)(t),o=(0,s.getHeight)(t),a=e[0],u=e[1],l=.0254/i;return u*n>a*o?n*r/(a*l):o*r/(u*l)}(r,i,this.metersPerUnit_,this.displayDpi_),a=(0,s.getCenter)(r),u={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:o,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return(0,m.f0)(u,e),(0,k.B)(t,u)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(j.ZP);var q=r("./node_modules/ol/source/ImageStatic.js"),V=r("./node_modules/ol/source/ImageWMS.js"),Y=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),W='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';const X=function(t){function e(e){var r,i=e||{};r=void 0!==i.attributions?i.attributions:[W];var n=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",o=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:r,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:n,imageSmoothing:i.imageSmoothing,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,opaque:void 0===i.opaque||i.opaque,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:o,wrapX:i.wrapX})||this}return Y(e,t),e}(g);var H=r("./node_modules/ol/Disposable.js"),K=r("./node_modules/ol/events/Event.js"),Q=r("./node_modules/ol/ImageCanvas.js"),J=r("./node_modules/ol/layer/Image.js"),$=r("./node_modules/ol/source/Source.js"),tt=r("./node_modules/ol/layer/Tile.js"),et=r("./node_modules/ol/TileQueue.js"),rt=r("./node_modules/ol/source/Tile.js"),it=r("./node_modules/ol/transform.js"),nt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),ot=!0;try{new ImageData(10,10)}catch(t){ot=!1}var st=document.createElement("canvas").getContext("2d");function at(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function r(t,r,i){return e?new ImageData(t,r,i):{data:t,width:r,height:i}}return function(e){var i,n,o=e.buffers,s=e.meta,a=e.imageOps,u=e.width,l=e.height,h=o.length,c=o[0].byteLength;if(a){var p=new Array(h);for(n=0;n<h;++n)p[n]=r(new Uint8ClampedArray(o[n]),u,l);i=t(p,s).data}else{i=new Uint8ClampedArray(c);var f=new Array(h),d=new Array(h);for(n=0;n<h;++n)f[n]=new Uint8ClampedArray(o[n]),d[n]=[0,0,0,0];for(var g=0;g<c;g+=4){for(var m=0;m<h;++m){var _=f[m];d[m][0]=_[g],d[m][1]=_[g+1],d[m][2]=_[g+2],d[m][3]=_[g+3]}var y=t(d,s);i[g]=y[0],i[g+1]=y[1],i[g+2]=y[2],i[g+3]=y[3]}}return i.buffer}}function ut(t,e){var r=Object.keys(t.lib||{}).map((function(e){return"var "+e+" = "+t.lib[e].toString()+";"})).concat(["var __minion__ = ("+at.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Blob(r,{type:"text/javascript"}),n=URL.createObjectURL(i),o=new Worker(n);return o.addEventListener("message",e),o}var lt=function(t){function e(e){var r,i=t.call(this)||this;i._imageOps=!!e.imageOps;var n=[];if(r=0===e.threads?0:i._imageOps?1:e.threads||1)for(var o=0;o<r;++o)n[o]=ut(e,i._onWorkerMessage.bind(i,o));else n[0]=function(t,e){var r=at(t.operation),i=!1;return{postMessage:function(t){setTimeout((function(){i||e({data:{buffer:r(t),meta:t.meta}})}),0)},terminate:function(){i=!0}}}(e,i._onWorkerMessage.bind(i,0));return i._workers=n,i._queue=[],i._maxQueueLength=e.queue||1/0,i._running=0,i._dataLookup={},i._job=null,i}return nt(e,t),e.prototype.process=function(t,e,r){this._enqueue({inputs:t,meta:e,callback:r}),this._dispatch()},e.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},e.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._queue.shift();this._job=t;var e=t.inputs[0].width,r=t.inputs[0].height,i=t.inputs.map((function(t){return t.data.buffer})),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:i,meta:t.meta,imageOps:this._imageOps,width:e,height:r},i);else for(var o=t.inputs[0].data.length,s=4*Math.ceil(o/4/n),a=0;a<n;++a){for(var u=a*s,l=[],h=0,c=i.length;h<c;++h)l.push(i[h].slice(u,u+s));this._workers[a].postMessage({buffers:l,meta:t.meta,imageOps:this._imageOps,width:e,height:r},l)}}},e.prototype._onWorkerMessage=function(t,e){this.disposed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},e.prototype._resolveJob=function(){var t,e,r=this._job,i=this._workers.length;if(1===i)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var n=r.inputs[0].data.length;t=new Uint8ClampedArray(n),e=new Array(n);for(var o=4*Math.ceil(n/4/i),s=0;s<i;++s){var a=this._dataLookup[s].buffer,u=s*o;t.set(new Uint8ClampedArray(a),u),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,function(t,e,r){if(ot)return new ImageData(t,e,r);var i=st.createImageData(e,r);return i.data.set(t),i}(t,r.inputs[0].width,r.inputs[0].height),e),this._dispatch()},e.prototype.disposeInternal=function(){for(var t=0;t<this._workers.length;++t)this._workers[t].terminate();this._workers.length=0},e}(H.Z),ht=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.extent=r.extent,n.resolution=r.viewState.resolution/r.pixelRatio,n.data=i,n}return nt(e,t),e}(K.ZP),ct=function(t){function e(e){var r=t.call(this,{projection:null})||this;r.processor_=null,r.operationType_=void 0!==e.operationType?e.operationType:"pixel",r.threads_=void 0!==e.threads?e.threads:1,r.layers_=function(t){for(var e=t.length,r=new Array(e),i=0;i<e;++i)r[i]=(n=t[i],o=void 0,n instanceof $.Z?n instanceof rt.Z?o=new tt.default({source:n}):n instanceof j.ZP&&(o=new J.Z({source:n})):o=n,o);var n,o;return r}(e.sources);for(var i,n=r.changed.bind(r),o=0,s=r.layers_.length;o<s;++o)r.layers_[o].addEventListener(F.Z.CHANGE,n);return r.tileQueue_=new et.Z((function(){return 1}),r.changed.bind(r)),r.requestedFrameState_,r.renderedImageCanvas_=null,r.renderedRevision_,r.frameState_={animate:!1,coordinateToPixelTransform:(0,it.Ue)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:(i=r.layers_,i.map((function(t){return t.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:(0,it.Ue)(),postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},r.setAttributions((function(t){for(var r=[],i=0,n=e.sources.length;i<n;++i){var o=e.sources[i],s=(o instanceof $.Z?o:o.getSource()).getAttributions();if("function"==typeof s){var a=s(t);r.push.apply(r,a)}}return 0!==r.length?r:null})),void 0!==e.operation&&r.setOperation(e.operation,e.lib),r}return nt(e,t),e.prototype.setOperation=function(t,e){this.processor_&&this.processor_.dispose(),this.processor_=new lt({operation:t,imageOps:"image"===this.operationType_,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,r){var i=(0,m.f0)({},this.frameState_);i.viewState=(0,m.f0)({},i.viewState);var n=(0,s.getCenter)(t);i.extent=t.slice(),i.size[0]=Math.round((0,s.getWidth)(t)/e),i.size[1]=Math.round((0,s.getHeight)(t)/e),i.time=1/0;var o=i.viewState;return o.center=n,o.projection=r,o.resolution=e,i},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,r=this.layers_.length;e<r;++e)if(this.layers_[e].getSource().getState()!==n.Z.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,r,i){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(t,e,i);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();e===o&&(0,s.equals)(t,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.layers_.length,r=new Array(e),i=0;i<e;++i){t.layerIndex=i;var n=ft(this.layers_[i],t);if(!n)return;r[i]=n}var o={};this.dispatchEvent(new ht("beforeoperations",t,o)),this.processor_.process(r,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,r,i){if(!e&&r){var n=t.extent,o=t.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&(0,s.equals)(n,this.requestedFrameState_.extent)){var a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{var u=Math.round((0,s.getWidth)(n)/o),l=Math.round((0,s.getHeight)(n)/o);a=(0,P.E4)(u,l),this.renderedImageCanvas_=new Q.Z(n,o,1,a.canvas)}a.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new ht("afteroperations",t,i))}}},e.prototype.getImageInternal=function(){return null},e.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),t.prototype.disposeInternal.call(this)},e}(j.ZP);ct.prototype.dispose;var pt=null;function ft(t,e){var r=t.getRenderer();if(!r)throw new Error("Unsupported layer type: "+t);if(!r.prepareFrame(e))return null;var i=e.size[0],n=e.size[1];if(0===i||0===n)return null;var o,s=r.renderFrame(e,null);if(s&&(o=s.firstElementChild),!(o instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+o);if(o.width===i&&o.height===n)return o.getContext("2d").getImageData(0,0,i,n);if(pt){var a=pt.canvas;a.width!==i||a.height!==n?pt=(0,P.E4)(i,n):pt.clearRect(0,0,i,n)}else pt=(0,P.E4)(i,n);return pt.drawImage(o,0,0,i,n),pt.getImageData(0,0,i,n)}const dt=ct;var gt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),mt=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',W],_t={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},yt={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};const vt=function(t){function e(e){var r=e.layer.indexOf("-"),i=-1==r?e.layer:e.layer.slice(0,r),n=yt[i],o=_t[e.layer],s=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+o.extension;return t.call(this,{attributions:mt,cacheSize:e.cacheSize,crossOrigin:"anonymous",imageSmoothing:e.imageSmoothing,maxZoom:null!=e.maxZoom?e.maxZoom:n.maxZoom,minZoom:null!=e.minZoom?e.minZoom:n.minZoom,opaque:o.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:s,wrapX:e.wrapX})||this}return gt(e,t),e}(g);var bt=r("./node_modules/ol/math.js"),wt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const Mt=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})||this).params_=i.params||{},r.hidpi_=void 0===i.hidpi||i.hidpi,r.tmpExtent_=(0,s.createEmpty)(),r.setKey(r.getKeyForParams_()),r}return wt(e,t),e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,i,n,o){var s=this.urls;if(s){var a=n.getCode().split(":").pop();o.SIZE=e[0]+","+e[1],o.BBOX=r.join(","),o.BBOXSR=a,o.IMAGESR=a,o.DPI=Math.round(o.DPI?o.DPI*i:90*i);var l=(1==s.length?s[0]:s[(0,bt.$W)((0,u.vp)(t),s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,k.B)(l,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_?t:1},e.prototype.updateParams=function(t){(0,m.f0)(this.params_,t),this.setKey(this.getKeyForParams_())},e.prototype.tileUrlFunction=function(t,e,r){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_||(e=1);var n=i.getTileCoordExtent(t,this.tmpExtent_),o=(0,E.Pq)(i.getTileSize(t[0]),this.tmpSize);1!=e&&(o=(0,E.bA)(o,e,this.tmpSize));var s={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,m.f0)(s,this.params_),this.getRequestUrl_(t,o,n,e,r,s)}},e}(o.Z);var St=r("./node_modules/ol/Tile.js"),Ct=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Pt=function(t){function e(e,r,i){var n=t.call(this,e,S.Z.LOADED)||this;return n.tileSize_=r,n.text_=i,n.canvas_=null,n}return Ct(e,t),e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=(0,P.E4)(t[0],t[1]);return e.strokeStyle="grey",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="grey",e.strokeStyle="white",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.lineWidth=4,e.strokeText(this.text_,t[0]/2,t[1]/2,t[0]),e.fillText(this.text_,t[0]/2,t[1]/2,t[0]),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(St.Z);const Et=function(t){function e(e){var r=e||{};return t.call(this,{opaque:!1,projection:r.projection,tileGrid:r.tileGrid,wrapX:void 0===r.wrapX||r.wrapX,zDirection:r.zDirection})||this}return Ct(e,t),e.prototype.getTile=function(t,e,r){var i=(0,u.lg)(t,e,r);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var n,o=(0,E.Pq)(this.tileGrid.getTileSize(t)),s=[t,e,r],a=this.getTileCoordForTileUrlFunction(s);n=a?"z:"+a[0]+" x:"+a[1]+" y:"+a[2]:"none";var l=new Pt(s,o,n);return this.tileCache.set(i,l),l},e}(g);var Ot=r("./node_modules/ol/source/TileJSON.js"),xt=r("./node_modules/ol/source/TileWMS.js"),At=r("./node_modules/ol/source/UrlTile.js"),Rt=r("./node_modules/ol/events.js"),It=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Tt=function(t){function e(e,r,i,n,o,s){var a=t.call(this,e,r)||this;return a.src_=i,a.extent_=n,a.preemptive_=o,a.grid_=null,a.keys_=null,a.data_=null,a.jsonp_=s,a}return It(e,t),e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),i=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof i)return null;var n=i.charCodeAt(Math.floor(e*i.length));n>=93&&n--,n>=35&&n--;var o=null;if((n-=32)in this.keys_){var s=this.keys_[n];o=this.data_&&s in this.data_?this.data_[s]:s}return o},e.prototype.forDataAtCoordinate=function(t,e,r){this.state==S.Z.EMPTY&&!0===r?(this.state=S.Z.IDLE,(0,Rt.Vx)(this,F.Z.CHANGE,(function(r){e(this.getData(t))}),this),this.loadInternal_()):!0===r?setTimeout(function(){e(this.getData(t))}.bind(this),0):e(this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=S.Z.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=S.Z.LOADED,this.changed()},e.prototype.loadInternal_=function(){if(this.state==S.Z.IDLE)if(this.state=S.Z.LOADING,this.jsonp_)(0,c.R)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(S.Z.EMPTY)},e}(St.Z);const Lt=function(t){function e(e){var r=t.call(this,{projection:(0,h.get)("EPSG:3857"),state:n.Z.LOADING})||this;if(r.preemptive_=void 0===e.preemptive||e.preemptive,r.tileUrlFunction_=a.vU,r.template_=void 0,r.jsonp_=e.jsonp||!1,e.url)if(r.jsonp_)(0,c.R)(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener("load",r.onXHRLoad_.bind(r)),i.addEventListener("error",r.onXHRError_.bind(r)),i.open("GET",e.url),i.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):(0,C.h)(!1,51);return r}return It(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,r,i){if(this.tileGrid){var n=this.tileGrid.getZForResolution(e,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(t,n);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(t,r,i)}else!0===i?setTimeout((function(){r(null)}),0):r(null)},e.prototype.handleTileJSONError=function(){this.setState(n.Z.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,r=(0,h.get)("EPSG:4326"),i=this.getProjection();if(void 0!==t.bounds){var o=(0,h.getTransformFromProjections)(r,i);e=(0,s.applyTransform)(t.bounds,o)}var u=t.minzoom||0,c=t.maxzoom||22,p=(0,l.createXYZ)({extent:(0,l.extentFromProjection)(i),maxZoom:c,minZoom:u});this.tileGrid=p,this.template_=t.template;var f=t.grids;if(f){if(this.tileUrlFunction_=(0,a.uR)(f,p),void 0!==t.attribution){var d=void 0!==e?e:r.getExtent();this.setAttributions((function(e){return(0,s.intersects)(d,e.extent)?[t.attribution]:null}))}this.setState(n.Z.READY)}else this.setState(n.Z.ERROR)},e.prototype.getTile=function(t,e,r,i,n){var o=(0,u.lg)(t,e,r);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var s=[t,e,r],a=this.getTileCoordForTileUrlFunction(s,n),l=this.tileUrlFunction_(a,i,n),h=new Tt(s,void 0!==l?S.Z.IDLE:S.Z.EMPTY,void 0!==l?l:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(o,h),h},e.prototype.useTile=function(t,e,r){var i=(0,u.lg)(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(rt.Z);var Nt=r("./node_modules/ol/source/Vector.js"),jt=r("./node_modules/ol/source/VectorTile.js");const Ft="KVP";r("./node_modules/ol/array.js");var Gt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(t){function e(e){var r=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return r.matrixIds_=e.matrixIds,r}Gt(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_}}(b.Z);var kt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const Zt=function(t){function e(e){var r=this,i=void 0!==e.requestEncoding?e.requestEncoding:Ft,n=e.tileGrid,o=e.urls;return void 0===o&&void 0!==e.url&&(o=(0,a.Gk)(e.url)),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:o,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition})||this).version_=void 0!==e.version?e.version:"1.0.0",r.format_=void 0!==e.format?e.format:"image/jpeg",r.dimensions_=void 0!==e.dimensions?e.dimensions:{},r.layer_=e.layer,r.matrixSet_=e.matrixSet,r.style_=e.style,r.requestEncoding_=i,r.setKey(r.getKeyForDimensions_()),o&&o.length>0&&(r.tileUrlFunction=(0,a.Un)(o.map(r.createFromWMTSTemplate.bind(r)))),r}return kt(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction((0,a.Un)(t.map(this.createFromWMTSTemplate.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var r in this.dimensions_)e[t++]=r+"-"+this.dimensions_[r];return e.join("/")},e.prototype.updateDimensions=function(t){(0,m.f0)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Ft&&(0,m.f0)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Ft?(0,k.B)(t,r):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}));var i=this.tileGrid,n=this.dimensions_;return function(r,o,s){if(r){var a={TileMatrix:i.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};(0,m.f0)(a,n);var u=t;return e==Ft?(0,k.B)(u,a):u.replace(/\{(\w+?)\}/g,(function(t,e){return a[e]}))}}},e}(o.Z)},"./node_modules/ol/source/Cluster.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var i,n=r("./node_modules/ol/events/EventType.js"),o=r("./node_modules/ol/Feature.js"),s=r("./node_modules/ol/geom/GeometryType.js"),a=r("./node_modules/ol/geom/Point.js"),u=r("./node_modules/ol/source/Vector.js"),l=r("./node_modules/ol/coordinate.js"),h=r("./node_modules/ol/asserts.js"),c=r("./node_modules/ol/extent.js"),p=r("./node_modules/ol/util.js"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const d=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==e.distance?e.distance:20,r.features=[],r.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return(0,h.h)(e.getType()==s.Z.POINT,10),e},r.boundRefresh_=r.refresh.bind(r),r.setSource(e.source||null),r}return f(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,r){this.source.loadFeatures(t,e,r),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(n.Z.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(n.Z.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=(0,c.createEmpty)(),e=this.distance*this.resolution,r=this.source.getFeatures(),i={},n=0,o=r.length;n<o;n++){var s=r[n];if(!((0,p.sq)(s)in i)){var a=this.geometryFunction(s);if(a){var u=a.getCoordinates();(0,c.createOrUpdateFromCoordinate)(u,t),(0,c.buffer)(t,e,t);var l=this.source.getFeaturesInExtent(t);l=l.filter((function(t){var e=(0,p.sq)(t);return!(e in i)&&(i[e]=!0,!0)})),this.features.push(this.createCluster(l))}}}},e.prototype.createCluster=function(t){for(var e=[0,0],r=t.length-1;r>=0;--r){var i=this.geometryFunction(t[r]);i?(0,l.add)(e,i.getCoordinates()):t.splice(r,1)}(0,l.scale)(e,1/t.length);var n=new o.default(new a.Z(e));return n.set("features",t),n},e}(u.Z)},"./node_modules/ol/source/Image.js":(t,e,r)=>{"use strict";r.d(e,{ZP:()=>S,r6:()=>M});var i,n=r("./node_modules/ol/events/Event.js"),o=r("./node_modules/ol/ImageState.js"),s=r("./node_modules/ol/reproj/common.js"),a=r("./node_modules/ol/events/EventType.js"),u=r("./node_modules/ol/ImageBase.js"),l=r("./node_modules/ol/reproj/Triangulation.js"),h=r("./node_modules/ol/reproj.js"),c=r("./node_modules/ol/extent.js"),p=r("./node_modules/ol/events.js"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const d=function(t){function e(e,r,i,n,a,u,p){var f=this,d=e.getExtent(),g=r.getExtent(),m=g?(0,c.getIntersection)(i,g):i,_=(0,c.getCenter)(m),y=(0,h.aA)(e,r,_,n),v=s.m,b=new l.Z(e,r,m,d,y*v,n),w=u(b.calculateSourceExtent(),y,a),M=w?o.Z.IDLE:o.Z.EMPTY,S=w?w.getPixelRatio():1;return(f=t.call(this,i,n,S,M)||this).targetProj_=r,f.maxSourceExtent_=d,f.triangulation_=b,f.targetResolution_=n,f.targetExtent_=i,f.sourceImage_=w,f.sourcePixelRatio_=S,f.contextOptions_=p,f.canvas_=null,f.sourceListenerKey_=null,f}return f(e,t),e.prototype.disposeInternal=function(){this.state==o.Z.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==o.Z.LOADED){var e=(0,c.getWidth)(this.targetExtent_)/this.targetResolution_,r=(0,c.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,h.sY)(e,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==o.Z.IDLE){this.state=o.Z.LOADING,this.changed();var t=this.sourceImage_.getState();t==o.Z.LOADED||t==o.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,p.oL)(this.sourceImage_,a.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=o.Z.LOADED&&e!=o.Z.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,p.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(u.Z);var g=r("./node_modules/ol/source/Source.js"),m=r("./node_modules/ol/source/common.js"),_=r("./node_modules/ol/util.js"),y=r("./node_modules/ol/proj.js"),v=r("./node_modules/ol/array.js"),b=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),w=function(t){function e(e,r){var i=t.call(this,e)||this;return i.image=r,i}return b(e,t),e}(n.ZP);function M(t,e){t.getImage().src=e}const S=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return r.resolutions_=void 0!==e.resolutions?e.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r.contextOptions_=!1===e.imageSmoothing?m.$:void 0,r}return b(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,v.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,r,i){var n=this.getProjection();if(s.j&&n&&i&&!(0,y.equivalent)(n,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,y.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&(0,c.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new d(n,i,t,e,r,function(t,e,r){return this.getImageInternal(t,e,r,n)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return n&&(i=n),this.getImageInternal(t,e,r,i)},e.prototype.getImageInternal=function(t,e,r,i){return(0,_.O3)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case o.Z.LOADING:this.loading=!0,this.dispatchEvent(new w("imageloadstart",e));break;case o.Z.LOADED:this.loading=!1,this.dispatchEvent(new w("imageloadend",e));break;case o.Z.ERROR:this.loading=!1,this.dispatchEvent(new w("imageloaderror",e))}},e}(g.Z)},"./node_modules/ol/source/ImageCanvas.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var i,n=r("./node_modules/ol/ImageCanvas.js"),o=r("./node_modules/ol/source/Image.js"),s=r("./node_modules/ol/extent.js"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const u=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,{attributions:i.attributions,imageSmoothing:i.imageSmoothing,projection:i.projection,resolutions:i.resolutions,state:i.state})||this).canvasFunction_=i.canvasFunction,r.canvas_=null,r.renderedRevision_=0,r.ratio_=void 0!==i.ratio?i.ratio:1.5,r}return a(e,t),e.prototype.getImageInternal=function(t,e,r,i){e=this.findNearestResolution(e);var o=this.canvas_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==e&&o.getPixelRatio()==r&&(0,s.containsExtent)(o.getExtent(),t))return o;t=t.slice(),(0,s.scaleFromCenter)(t,this.ratio_);var a=[(0,s.getWidth)(t)/e*r,(0,s.getHeight)(t)/e*r],u=this.canvasFunction_.call(this,t,e,r,a,i);return u&&(o=new n.Z(t,e,r,u)),this.canvas_=o,this.renderedRevision_=this.getRevision(),o},e}(o.ZP)},"./node_modules/ol/source/ImageStatic.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var i,n=r("./node_modules/ol/events/EventType.js"),o=r("./node_modules/ol/source/Image.js"),s=r("./node_modules/ol/ImageState.js"),a=r("./node_modules/ol/Image.js"),u=r("./node_modules/ol/obj.js"),l=r("./node_modules/ol/dom.js"),h=r("./node_modules/ol/extent.js"),c=r("./node_modules/ol/proj.js"),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const f=function(t){function e(e){var r=this,i=void 0!==e.crossOrigin?e.crossOrigin:null,s=void 0!==e.imageLoadFunction?e.imageLoadFunction:o.r6;return(r=t.call(this,{attributions:e.attributions,imageSmoothing:e.imageSmoothing,projection:(0,c.get)(e.projection)})||this).url_=e.url,r.imageExtent_=e.imageExtent,r.image_=new a.Z(r.imageExtent_,void 0,1,r.url_,i,s),r.imageSize_=e.imageSize?e.imageSize:null,r.image_.addEventListener(n.Z.CHANGE,r.handleImageChange.bind(r)),r}return p(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,r,i){return(0,h.intersects)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==s.Z.LOADED){var r=this.image_.getExtent(),i=this.image_.getImage(),n=void 0,o=void 0;this.imageSize_?(n=this.imageSize_[0],o=this.imageSize_[1]):(n=i.width,o=i.height);var a=(0,h.getHeight)(r)/o,c=Math.ceil((0,h.getWidth)(r)/a);if(c!=n){var p=(0,l.E4)(c,o);(0,u.f0)(p,this.getContextOptions());var f=p.canvas;p.drawImage(i,0,0,n,o,0,0,f.width,f.height),this.image_.setImage(f)}}t.prototype.handleImageChange.call(this,e)},e}(o.ZP)},"./node_modules/ol/source/ImageWMS.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var i,n=r("./node_modules/ol/source/common.js"),o=r("./node_modules/ol/events/EventType.js"),s=r("./node_modules/ol/source/Image.js"),a=r("./node_modules/ol/Image.js"),u=r("./node_modules/ol/source/WMSServerType.js"),l=r("./node_modules/ol/uri.js"),h=r("./node_modules/ol/asserts.js"),c=r("./node_modules/ol/obj.js"),p=r("./node_modules/ol/reproj.js"),f=r("./node_modules/ol/string.js"),d=r("./node_modules/ol/extent.js"),g=r("./node_modules/ol/proj.js"),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=[101,101];const y=function(t){function e(e){var r=this,i=e||{};return(r=t.call(this,{attributions:i.attributions,imageSmoothing:i.imageSmoothing,projection:i.projection,resolutions:i.resolutions})||this).crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,r.url_=i.url,r.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:s.r6,r.params_=i.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=i.serverType,r.hidpi_=void 0===i.hidpi||i.hidpi,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==i.ratio?i.ratio:1.5,r}return m(e,t),e.prototype.getFeatureInfoUrl=function(t,e,r,i){if(void 0!==this.url_){var o=(0,g.get)(r),s=this.getProjection();s&&s!==o&&(e=(0,p.aA)(s,o,t,e),t=(0,g.transform)(t,o,s));var a=(0,d.getForViewAndSize)(t,e,0,_),u={SERVICE:"WMS",VERSION:n.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,c.f0)(u,this.params_,i);var l=Math.floor((t[0]-a[0])/e),h=Math.floor((a[3]-t[1])/e);return u[this.v13_?"I":"X"]=l,u[this.v13_?"J":"Y"]=h,this.getRequestUrl_(a,_,1,s||o,u)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:n.E,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;r.LAYER=i}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*o/28e-5}return(0,c.f0)(r,e),(0,l.B)(this.url_,r)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var s=e/r,u=(0,d.getCenter)(t),l=Math.ceil((0,d.getWidth)(t)/s),h=Math.ceil((0,d.getHeight)(t)/s),p=(0,d.getForViewAndSize)(u,s,0,[l,h]),f=Math.ceil(this.ratio_*(0,d.getWidth)(t)/s),g=Math.ceil(this.ratio_*(0,d.getHeight)(t)/s),m=(0,d.getForViewAndSize)(u,s,0,[f,g]),_=this.image_;if(_&&this.renderedRevision_==this.getRevision()&&_.getResolution()==e&&_.getPixelRatio()==r&&(0,d.containsExtent)(_.getExtent(),p))return _;var y={SERVICE:"WMS",VERSION:n.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,c.f0)(y,this.params_),this.imageSize_[0]=Math.round((0,d.getWidth)(m)/s),this.imageSize_[1]=Math.round((0,d.getHeight)(m)/s);var v=this.getRequestUrl_(m,this.imageSize_,r,i,y);return this.image_=new a.Z(m,e,r,v,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(o.Z.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,i,n){if((0,h.h)(void 0!==this.url_,9),n[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(n.STYLES=""),1!=r)switch(this.serverType_){case u.Z.GEOSERVER:var o=90*r+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+o:n.FORMAT_OPTIONS="dpi:"+o;break;case u.Z.MAPSERVER:n.MAP_RESOLUTION=90*r;break;case u.Z.CARMENTA_SERVER:case u.Z.QGIS:n.DPI=90*r;break;default:(0,h.h)(!1,8)}n.WIDTH=e[0],n.HEIGHT=e[1];var s,a=i.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,n.BBOX=s.join(","),(0,l.B)(this.url_,n)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,c.f0)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||n.E;this.v13_=(0,f.n)(t,"1.3")>=0},e}(s.ZP)},"./node_modules/ol/source/TileWMS.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var i,n=r("./node_modules/ol/source/common.js"),o=r("./node_modules/ol/source/TileImage.js"),s=r("./node_modules/ol/source/WMSServerType.js"),a=r("./node_modules/ol/uri.js"),u=r("./node_modules/ol/asserts.js"),l=r("./node_modules/ol/obj.js"),h=r("./node_modules/ol/extent.js"),c=r("./node_modules/ol/size.js"),p=r("./node_modules/ol/reproj.js"),f=r("./node_modules/ol/string.js"),d=r("./node_modules/ol/proj.js"),g=r("./node_modules/ol/math.js"),m=r("./node_modules/ol/tilecoord.js"),_=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const y=function(t){function e(e){var r=this,i=e||{},n=i.params||{},o=!("TRANSPARENT"in n)||n.TRANSPARENT;return(r=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:!o,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})||this).gutter_=void 0!==i.gutter?i.gutter:0,r.params_=n,r.v13_=!0,r.serverType_=i.serverType,r.hidpi_=void 0===i.hidpi||i.hidpi,r.tmpExtent_=(0,h.createEmpty)(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return _(e,t),e.prototype.getFeatureInfoUrl=function(t,e,r,i){var o=(0,d.get)(r),s=this.getProjection(),a=this.getTileGrid();a||(a=this.getTileGridForProjection(o));var u=a.getZForResolution(e,this.zDirection),f=a.getTileCoordForCoordAndZ(t,u);if(!(a.getResolutions().length<=f[0])){var g=a.getResolution(f[0]),m=a.getTileCoordExtent(f,this.tmpExtent_),_=(0,c.Pq)(a.getTileSize(f[0]),this.tmpSize),y=this.gutter_;0!==y&&(_=(0,c.f3)(_,y,this.tmpSize),m=(0,h.buffer)(m,g*y,m)),s&&s!==o&&(g=(0,p.aA)(s,o,t,g),m=(0,d.transformExtent)(m,o,s),t=(0,d.transform)(t,o,s));var v={SERVICE:"WMS",VERSION:n.E,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,l.f0)(v,this.params_,i);var b=Math.floor((t[0]-m[0])/g),w=Math.floor((m[3]-t[1])/g);return v[this.v13_?"I":"X"]=b,v[this.v13_?"J":"Y"]=w,this.getRequestUrl_(f,_,m,1,s||o,v)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var r={SERVICE:"WMS",VERSION:n.E,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;r.LAYER=i}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*o/28e-5}return(0,l.f0)(r,e),(0,a.B)(this.urls[0],r)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,i,n,o){var l=this.urls;if(l){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case s.Z.GEOSERVER:var h=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+h:o.FORMAT_OPTIONS="dpi:"+h;break;case s.Z.MAPSERVER:o.MAP_RESOLUTION=90*i;break;case s.Z.CARMENTA_SERVER:case s.Z.QGIS:o.DPI=90*i;break;default:(0,u.h)(!1,52)}var c,p=n.getAxisOrientation(),f=r;if(this.v13_&&"ne"==p.substr(0,2)){var d=void 0;d=r[0],f[0]=r[1],f[1]=d,d=r[2],f[2]=r[3],f[3]=d}return o.BBOX=f.join(","),c=1==l.length?l[0]:l[(0,g.$W)((0,m.vp)(t),l.length)],(0,a.B)(c,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.updateParams=function(t){(0,l.f0)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||n.E;this.v13_=(0,f.n)(t,"1.3")>=0},e.prototype.tileUrlFunction=function(t,e,r){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var o=i.getResolution(t[0]),s=i.getTileCoordExtent(t,this.tmpExtent_),a=(0,c.Pq)(i.getTileSize(t[0]),this.tmpSize),u=this.gutter_;0!==u&&(a=(0,c.f3)(a,u,this.tmpSize),s=(0,h.buffer)(s,o*u,s)),1!=e&&(a=(0,c.bA)(a,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:n.E,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,l.f0)(p,this.params_),this.getRequestUrl_(t,a,s,e,r,p)}},e}(o.Z)},"./node_modules/ol/source/WMSServerType.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});const i={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},"./node_modules/ol/uri.js":(t,e,r)=>{"use strict";function i(t,e){var r=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&r.push(t+"="+encodeURIComponent(e[t]))}));var i=r.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}r.d(e,{B:()=>i})},"./node_modules/ol/xml.js":(t,e,r)=>{"use strict";r.d(e,{fJ:()=>n,c:()=>o,Ve:()=>s,qk:()=>u,As:()=>l,Qc:()=>h,pc:()=>c,Ei:()=>p,z:()=>f,ke:()=>d,Pr:()=>g,A4:()=>m,JO:()=>_,G3:()=>y,hg:()=>v,RA:()=>b,C5:()=>w,T3:()=>M,O:()=>S,ZL:()=>P,xc:()=>O,Me:()=>A});var i=r("./node_modules/ol/array.js"),n="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return A().createElementNS(t,e)}function s(t,e){return a(t,e,[]).join("")}function a(t,e,r){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{var i=void 0;for(i=t.firstChild;i;i=i.nextSibling)a(i,e,r)}return r}function u(t){return"documentElement"in t}function l(t,e,r){return t.getAttributeNS(e,r)||""}function h(t){return(new DOMParser).parseFromString(t,"application/xml")}function c(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);if(void 0!==o){var s=n[n.length-1];(0,i.l7)(s,o)}}}function p(t,e){return function(r,i){var n=t.call(void 0!==e?e:this,r,i);void 0!==n&&i[i.length-1].push(n)}}function f(t,e){return function(r,i){var n=t.call(void 0!==e?e:this,r,i);void 0!==n&&(i[i.length-1]=n)}}function d(t,e,r){return function(i,n){var o=t.call(void 0!==r?r:this,i,n);if(void 0!==o){var s=n[n.length-1],a=void 0!==e?e:i.localName,u=void 0;a in s?u=s[a]:(u=[],s[a]=u),u.push(o)}}}function g(t,e,r){return function(i,n){var o=t.call(void 0!==r?r:this,i,n);void 0!==o&&(n[n.length-1][void 0!==e?e:i.localName]=o)}}function m(t,e){return function(r,i,n){t.call(void 0!==e?e:this,r,i,n),n[n.length-1].node.appendChild(r)}}function _(t,e){var r,i;return function(e,n,o){if(void 0===r){r={};var s={};s[e.localName]=t,r[e.namespaceURI]=s,i=y(e.localName)}C(r,i,n,o)}}function y(t,e){var r=t;return function(t,i,n){var s=i[i.length-1].node,a=r;return void 0===a&&(a=n),o(void 0!==e?e:s.namespaceURI,a)}}var v=y();function b(t,e){for(var r=e.length,i=new Array(r),n=0;n<r;++n)i[n]=t[e[n]];return i}function w(t,e,r){var i,n,o=void 0!==r?r:{};for(i=0,n=t.length;i<n;++i)o[t[i]]=e;return o}function M(t,e,r,i){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=t[n.namespaceURI];if(void 0!==o){var s=o[n.localName];void 0!==s&&s.call(i,n,r)}}}function S(t,e,r,i,n){return i.push(t),M(e,r,i,n),i.pop()}function C(t,e,r,i,n,o){for(var s,a,u=(void 0!==n?n:r).length,l=0;l<u;++l)void 0!==(s=r[l])&&void 0!==(a=e.call(void 0!==o?o:this,s,i,void 0!==n?n[l]:void 0))&&t[a.namespaceURI][a.localName].call(o,a,s,i)}function P(t,e,r,i,n,o,s){return n.push(t),C(e,r,i,n,o,s),n.pop()}var E=void 0;function O(){return void 0===E&&"undefined"!=typeof XMLSerializer&&(E=new XMLSerializer),E}var x=void 0;function A(){return void 0===x&&"undefined"!=typeof document&&(x=document.implementation.createDocument("","",null)),x}},"./node_modules/jsbi/dist/jsbi.mjs":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});class i extends Array{constructor(t,e){if(t>i.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(t),this.sign=e}static BigInt(t){var e=Math.floor,r=Number.isFinite;if("number"==typeof t){if(0===t)return i.__zero();if((0|t)===t)return 0>t?i.__oneDigit(-t,!0):i.__oneDigit(t,!1);if(!r(t)||e(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return i.__fromDouble(t)}if("string"==typeof t){const e=i.__fromString(t);if(null===e)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return e}if("boolean"==typeof t)return!0===t?i.__oneDigit(1,!1):i.__zero();if("object"==typeof t){if(t.constructor===i)return t;const e=i.__toPrimitive(t);return i.BigInt(e)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const e of this)t.push((e?(e>>>0).toString(16):e)+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(t&t-1)?i.__toStringBasePowerOfTwo(this,t):i.__toStringGeneric(this,t,!1)}static toNumber(t){const e=t.length;if(0===e)return 0;if(1===e){const e=t.__unsignedDigit(0);return t.sign?-e:e}const r=t.__digit(e-1),n=i.__clz32(r),o=32*e-n;if(1024<o)return t.sign?-1/0:1/0;let s=o-1,a=r,u=e-1;const l=n+1;let h=32===l?0:a<<l;h>>>=12;const c=l-12;let p=12<=l?0:a<<20+l,f=20+l;0<c&&0<u&&(u--,a=t.__digit(u),h|=a>>>32-c,p=a<<c,f=c),0<f&&0<u&&(u--,a=t.__digit(u),p|=a>>>32-f,f-=32);const d=i.__decideRounding(t,f,u,a);if((1===d||0===d&&1==(1&p))&&(p=p+1>>>0,0===p&&(h++,0!=h>>>20&&(h=0,s++,1023<s))))return t.sign?-1/0:1/0;const g=t.sign?-2147483648:0;return s=s+1023<<20,i.__kBitConversionInts[1]=g|s|h,i.__kBitConversionInts[0]=p,i.__kBitConversionDouble[0]}static unaryMinus(t){if(0===t.length)return t;const e=t.__copy();return e.sign=!t.sign,e}static bitwiseNot(t){return t.sign?i.__absoluteSubOne(t).__trim():i.__absoluteAddOne(t,!0)}static exponentiate(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(0===e.length)return i.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return t.sign&&0==(1&e.__digit(0))?i.unaryMinus(t):t;if(1<e.length)throw new RangeError("BigInt too big");let r=e.__unsignedDigit(0);if(1===r)return t;if(r>=i.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){const e=1+(r>>>5),n=t.sign&&0!=(1&r),o=new i(e,n);o.__initializeDigits();const s=1<<(31&r);return o.__setDigit(e-1,s),o}let n=null,o=t;for(0!=(1&r)&&(n=t),r>>=1;0!==r;r>>=1)o=i.multiply(o,o),0!=(1&r)&&(n=null===n?o:i.multiply(n,o));return n}static multiply(t,e){if(0===t.length)return t;if(0===e.length)return e;let r=t.length+e.length;32<=t.__clzmsd()+e.__clzmsd()&&r--;const n=new i(r,t.sign!==e.sign);n.__initializeDigits();for(let r=0;r<t.length;r++)i.__multiplyAccumulate(e,t.__digit(r),n,r);return n.__trim()}static divide(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>i.__absoluteCompare(t,e))return i.__zero();const r=t.sign!==e.sign,n=e.__unsignedDigit(0);let o;if(1===e.length&&65535>=n){if(1===n)return r===t.sign?t:i.unaryMinus(t);o=i.__absoluteDivSmall(t,n,null)}else o=i.__absoluteDivLarge(t,e,!0,!1);return o.sign=r,o.__trim()}static remainder(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>i.__absoluteCompare(t,e))return t;const r=e.__unsignedDigit(0);if(1===e.length&&65535>=r){if(1===r)return i.__zero();const e=i.__absoluteModSmall(t,r);return 0===e?i.__zero():i.__oneDigit(e,t.sign)}const n=i.__absoluteDivLarge(t,e,!1,!0);return n.sign=t.sign,n.__trim()}static add(t,e){const r=t.sign;return r===e.sign?i.__absoluteAdd(t,e,r):0<=i.__absoluteCompare(t,e)?i.__absoluteSub(t,e,r):i.__absoluteSub(e,t,!r)}static subtract(t,e){const r=t.sign;return r===e.sign?0<=i.__absoluteCompare(t,e)?i.__absoluteSub(t,e,r):i.__absoluteSub(e,t,!r):i.__absoluteAdd(t,e,r)}static leftShift(t,e){return 0===e.length||0===t.length?t:e.sign?i.__rightShiftByAbsolute(t,e):i.__leftShiftByAbsolute(t,e)}static signedRightShift(t,e){return 0===e.length||0===t.length?t:e.sign?i.__leftShiftByAbsolute(t,e):i.__rightShiftByAbsolute(t,e)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,e){return 0>i.__compareToBigInt(t,e)}static lessThanOrEqual(t,e){return 0>=i.__compareToBigInt(t,e)}static greaterThan(t,e){return 0<i.__compareToBigInt(t,e)}static greaterThanOrEqual(t,e){return 0<=i.__compareToBigInt(t,e)}static equal(t,e){if(t.sign!==e.sign)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t.__digit(r)!==e.__digit(r))return!1;return!0}static notEqual(t,e){return!i.equal(t,e)}static bitwiseAnd(t,e){var r=Math.max;if(!t.sign&&!e.sign)return i.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){const n=r(t.length,e.length)+1;let o=i.__absoluteSubOne(t,n);const s=i.__absoluteSubOne(e);return o=i.__absoluteOr(o,s,o),i.__absoluteAddOne(o,!0,o).__trim()}return t.sign&&([t,e]=[e,t]),i.__absoluteAndNot(t,i.__absoluteSubOne(e)).__trim()}static bitwiseXor(t,e){var r=Math.max;if(!t.sign&&!e.sign)return i.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){const n=r(t.length,e.length),o=i.__absoluteSubOne(t,n),s=i.__absoluteSubOne(e);return i.__absoluteXor(o,s,o).__trim()}const n=r(t.length,e.length)+1;t.sign&&([t,e]=[e,t]);let o=i.__absoluteSubOne(e,n);return o=i.__absoluteXor(o,t,o),i.__absoluteAddOne(o,!0,o).__trim()}static bitwiseOr(t,e){const r=(0,Math.max)(t.length,e.length);if(!t.sign&&!e.sign)return i.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){let n=i.__absoluteSubOne(t,r);const o=i.__absoluteSubOne(e);return n=i.__absoluteAnd(n,o,n),i.__absoluteAddOne(n,!0,n).__trim()}t.sign&&([t,e]=[e,t]);let n=i.__absoluteSubOne(e,r);return n=i.__absoluteAndNot(n,t,n),i.__absoluteAddOne(n,!0,n).__trim()}static asIntN(t,e){if(0===e.length)return e;if(0===t)return i.__zero();if(t>=i.__kMaxLengthBits)return e;const r=t+31>>>5;if(e.length<r)return e;const n=e.__unsignedDigit(r-1),o=1<<(31&t-1);if(e.length===r&&n<o)return e;if((n&o)!==o)return i.__truncateToNBits(t,e);if(!e.sign)return i.__truncateAndSubFromPowerOfTwo(t,e,!0);if(0==(n&o-1)){for(let n=r-2;0<=n;n--)if(0!==e.__digit(n))return i.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===r&&n===o?e:i.__truncateToNBits(t,e)}return i.__truncateAndSubFromPowerOfTwo(t,e,!1)}static asUintN(t,e){if(0===e.length)return e;if(0===t)return i.__zero();if(e.sign){if(t>i.__kMaxLengthBits)throw new RangeError("BigInt too big");return i.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=i.__kMaxLengthBits)return e;const r=t+31>>>5;if(e.length<r)return e;const n=31&t;if(e.length==r){if(0===n)return e;if(0==e.__digit(r-1)>>>n)return e}return i.__truncateToNBits(t,e)}static ADD(t,e){if(t=i.__toPrimitive(t),e=i.__toPrimitive(e),"string"==typeof t)return"string"!=typeof e&&(e=e.toString()),t+e;if("string"==typeof e)return t.toString()+e;if(t=i.__toNumeric(t),e=i.__toNumeric(e),i.__isBigInt(t)&&i.__isBigInt(e))return i.add(t,e);if("number"==typeof t&&"number"==typeof e)return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,e){return i.__compare(t,e,0)}static LE(t,e){return i.__compare(t,e,1)}static GT(t,e){return i.__compare(t,e,2)}static GE(t,e){return i.__compare(t,e,3)}static EQ(t,e){for(;;){if(i.__isBigInt(t))return i.__isBigInt(e)?i.equal(t,e):i.EQ(e,t);if("number"==typeof t){if(i.__isBigInt(e))return i.__equalToNumber(e,t);if("object"!=typeof e)return t==e;e=i.__toPrimitive(e)}else if("string"==typeof t){if(i.__isBigInt(e))return null!==(t=i.__fromString(t))&&i.equal(t,e);if("object"!=typeof e)return t==e;e=i.__toPrimitive(e)}else if("boolean"==typeof t){if(i.__isBigInt(e))return i.__equalToNumber(e,+t);if("object"!=typeof e)return t==e;e=i.__toPrimitive(e)}else if("symbol"==typeof t){if(i.__isBigInt(e))return!1;if("object"!=typeof e)return t==e;e=i.__toPrimitive(e)}else{if("object"!=typeof t)return t==e;if("object"==typeof e&&e.constructor!==i)return t==e;t=i.__toPrimitive(t)}}}static NE(t,e){return!i.EQ(t,e)}static __zero(){return new i(0,!1)}static __oneDigit(t,e){const r=new i(1,e);return r.__setDigit(0,t),r}__copy(){const t=new i(this.length,this.sign);for(let e=0;e<this.length;e++)t[e]=this[e];return t}__trim(){let t=this.length,e=this[t-1];for(;0===e;)t--,e=this[t-1],this.pop();return 0===t&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,e,r,i){if(0<e)return-1;let n;if(0>e)n=-e-1;else{if(0===r)return-1;r--,i=t.__digit(r),n=31}let o=1<<n;if(0==(i&o))return-1;if(o-=1,0!=(i&o))return 1;for(;0<r;)if(r--,0!==t.__digit(r))return 1;return 0}static __fromDouble(t){i.__kBitConversionDouble[0]=t;const e=(2047&i.__kBitConversionInts[1]>>>20)-1023,r=1+(e>>>5),n=new i(r,0>t);let o=1048575&i.__kBitConversionInts[1]|1048576,s=i.__kBitConversionInts[0];const a=31&e;let u,l=0;if(a<20){const t=20-a;l=t+32,u=o>>>t,o=o<<32-t|s>>>t,s<<=32-t}else if(20===a)l=32,u=o,o=s;else{const t=a-20;l=32-t,u=o<<t|s>>>32-t,o=s<<t}n.__setDigit(r-1,u);for(let t=r-2;0<=t;t--)0<l?(l-=32,u=o,o=s):u=0,n.__setDigit(t,u);return n.__trim()}static __isWhitespace(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}static __fromString(t,e=0){let r=0;const n=t.length;let o=0;if(o===n)return i.__zero();let s=t.charCodeAt(o);for(;i.__isWhitespace(s);){if(++o===n)return i.__zero();s=t.charCodeAt(o)}if(43===s){if(++o===n)return null;s=t.charCodeAt(o),r=1}else if(45===s){if(++o===n)return null;s=t.charCodeAt(o),r=-1}if(0===e){if(e=10,48===s){if(++o===n)return i.__zero();if(s=t.charCodeAt(o),88===s||120===s){if(e=16,++o===n)return null;s=t.charCodeAt(o)}else if(79===s||111===s){if(e=8,++o===n)return null;s=t.charCodeAt(o)}else if(66===s||98===s){if(e=2,++o===n)return null;s=t.charCodeAt(o)}}}else if(16===e&&48===s){if(++o===n)return i.__zero();if(s=t.charCodeAt(o),88===s||120===s){if(++o===n)return null;s=t.charCodeAt(o)}}for(;48===s;){if(++o===n)return i.__zero();s=t.charCodeAt(o)}const a=n-o;let u=i.__kMaxBitsPerChar[e],l=i.__kBitsPerCharTableMultiplier-1;if(a>1073741824/u)return null;const h=u*a+l>>>i.__kBitsPerCharTableShift,c=new i(h+31>>>5,!1),p=10>e?e:10,f=10<e?e-10:0;if(0==(e&e-1)){u>>=i.__kBitsPerCharTableShift;const e=[],r=[];let a=!1;do{let i=0,l=0;for(;;){let e;if(s-48>>>0<p)e=s-48;else{if(!((32|s)-97>>>0<f)){a=!0;break}e=(32|s)-87}if(l+=u,i=i<<u|e,++o===n){a=!0;break}if(s=t.charCodeAt(o),32<l+u)break}e.push(i),r.push(l)}while(!a);i.__fillFromParts(c,e,r)}else{c.__initializeDigits();let r=!1,a=0;do{let h=0,d=1;for(;;){let i;if(s-48>>>0<p)i=s-48;else{if(!((32|s)-97>>>0<f)){r=!0;break}i=(32|s)-87}const u=d*e;if(4294967295<u)break;if(d=u,h=h*e+i,a++,++o===n){r=!0;break}s=t.charCodeAt(o)}l=32*i.__kBitsPerCharTableMultiplier-1;const g=u*a+l>>>i.__kBitsPerCharTableShift+5;c.__inplaceMultiplyAdd(d,h,g)}while(!r)}if(o!==n){if(!i.__isWhitespace(s))return null;for(o++;o<n;o++)if(s=t.charCodeAt(o),!i.__isWhitespace(s))return null}return 0!=r&&10!==e?null:(c.sign=-1==r,c.__trim())}static __fillFromParts(t,e,r){let i=0,n=0,o=0;for(let s=e.length-1;0<=s;s--){const a=e[s],u=r[s];n|=a<<o,o+=u,32===o?(t.__setDigit(i++,n),o=0,n=0):32<o&&(t.__setDigit(i++,n),o-=32,n=a>>>u-o)}if(0!==n){if(i>=t.length)throw new Error("implementation bug");t.__setDigit(i++,n)}for(;i<t.length;i++)t.__setDigit(i,0)}static __toStringBasePowerOfTwo(t,e){const r=t.length;let n=e-1;n=(85&n>>>1)+(85&n),n=(51&n>>>2)+(51&n),n=(15&n>>>4)+(15&n);const o=n,s=e-1,a=t.__digit(r-1);let u=0|(32*r-i.__clz32(a)+o-1)/o;if(t.sign&&u++,268435456<u)throw new Error("string too long");const l=Array(u);let h=u-1,c=0,p=0;for(let e=0;e<r-1;e++){const r=t.__digit(e),n=(c|r<<p)&s;l[h--]=i.__kConversionChars[n];const a=o-p;for(c=r>>>a,p=32-a;p>=o;)l[h--]=i.__kConversionChars[c&s],c>>>=o,p-=o}const f=(c|a<<p)&s;for(l[h--]=i.__kConversionChars[f],c=a>>>o-p;0!==c;)l[h--]=i.__kConversionChars[c&s],c>>>=o;if(t.sign&&(l[h--]="-"),-1!=h)throw new Error("implementation bug");return l.join("")}static __toStringGeneric(t,e,r){const n=t.length;if(0===n)return"";if(1===n){let i=t.__unsignedDigit(0).toString(e);return!1===r&&t.sign&&(i="-"+i),i}const o=32*n-i.__clz32(t.__digit(n-1)),s=i.__kMaxBitsPerChar[e]-1;let a=o*i.__kBitsPerCharTableMultiplier;a+=s-1,a=0|a/s;const u=a+1>>1,l=i.exponentiate(i.__oneDigit(e,!1),i.__oneDigit(u,!1));let h,c;const p=l.__unsignedDigit(0);if(1===l.length&&65535>=p){h=new i(t.length,!1),h.__initializeDigits();let r=0;for(let e=2*t.length-1;0<=e;e--){const i=r<<16|t.__halfDigit(e);h.__setHalfDigit(e,0|i/p),r=0|i%p}c=r.toString(e)}else{const r=i.__absoluteDivLarge(t,l,!0,!0);h=r.quotient;const n=r.remainder.__trim();c=i.__toStringGeneric(n,e,!0)}h.__trim();let f=i.__toStringGeneric(h,e,!0);for(;c.length<u;)c="0"+c;return!1===r&&t.sign&&(f="-"+f),f+c}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,e){const r=t.sign;if(r!==e.sign)return i.__unequalSign(r);const n=i.__absoluteCompare(t,e);return 0<n?i.__absoluteGreater(r):0>n?i.__absoluteLess(r):0}static __compareToNumber(t,e){if(!0|e){const r=t.sign,n=0>e;if(r!==n)return i.__unequalSign(r);if(0===t.length){if(n)throw new Error("implementation bug");return 0===e?0:-1}if(1<t.length)return i.__absoluteGreater(r);const o=Math.abs(e),s=t.__unsignedDigit(0);return s>o?i.__absoluteGreater(r):s<o?i.__absoluteLess(r):0}return i.__compareToDouble(t,e)}static __compareToDouble(t,e){if(e!=e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;const r=t.sign;if(r!==0>e)return i.__unequalSign(r);if(0===e)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;i.__kBitConversionDouble[0]=e;const n=2047&i.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");const o=n-1023;if(0>o)return i.__absoluteGreater(r);const s=t.length;let a=t.__digit(s-1);const u=i.__clz32(a),l=32*s-u,h=o+1;if(l<h)return i.__absoluteLess(r);if(l>h)return i.__absoluteGreater(r);let c=1048576|1048575&i.__kBitConversionInts[1],p=i.__kBitConversionInts[0];const f=31-u;if(f!==(l-1)%31)throw new Error("implementation bug");let d,g=0;if(20>f){const t=20-f;g=t+32,d=c>>>t,c=c<<32-t|p>>>t,p<<=32-t}else if(20===f)g=32,d=c,c=p;else{const t=f-20;g=32-t,d=c<<t|p>>>32-t,c=p<<t}if(a>>>=0,d>>>=0,a>d)return i.__absoluteGreater(r);if(a<d)return i.__absoluteLess(r);for(let e=s-2;0<=e;e--){0<g?(g-=32,d=c>>>0,c=p,p=0):d=0;const n=t.__unsignedDigit(e);if(n>d)return i.__absoluteGreater(r);if(n<d)return i.__absoluteLess(r)}if(0!==c||0!==p){if(0===g)throw new Error("implementation bug");return i.__absoluteLess(r)}return 0}static __equalToNumber(t,e){var r=Math.abs;return e|0===e?0===e?0===t.length:1===t.length&&t.sign===0>e&&t.__unsignedDigit(0)===r(e):0===i.__compareToDouble(t,e)}static __comparisonResultToBool(t,e){switch(e){case 0:return 0>t;case 1:return 0>=t;case 2:return 0<t;case 3:return 0<=t}throw new Error("unreachable")}static __compare(t,e,r){if(t=i.__toPrimitive(t),e=i.__toPrimitive(e),"string"==typeof t&&"string"==typeof e)switch(r){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(i.__isBigInt(t)&&"string"==typeof e)return null!==(e=i.__fromString(e))&&i.__comparisonResultToBool(i.__compareToBigInt(t,e),r);if("string"==typeof t&&i.__isBigInt(e))return null!==(t=i.__fromString(t))&&i.__comparisonResultToBool(i.__compareToBigInt(t,e),r);if(t=i.__toNumeric(t),e=i.__toNumeric(e),i.__isBigInt(t)){if(i.__isBigInt(e))return i.__comparisonResultToBool(i.__compareToBigInt(t,e),r);if("number"!=typeof e)throw new Error("implementation bug");return i.__comparisonResultToBool(i.__compareToNumber(t,e),r)}if("number"!=typeof t)throw new Error("implementation bug");if(i.__isBigInt(e))return i.__comparisonResultToBool(i.__compareToNumber(e,t),2^r);if("number"!=typeof e)throw new Error("implementation bug");return 0===r?t<e:1===r?t<=e:2===r?t>e:3===r?t>=e:void 0}__clzmsd(){return i.__clz32(this[this.length-1])}static __absoluteAdd(t,e,r){if(t.length<e.length)return i.__absoluteAdd(e,t,r);if(0===t.length)return t;if(0===e.length)return t.sign===r?t:i.unaryMinus(t);let n=t.length;(0===t.__clzmsd()||e.length===t.length&&0===e.__clzmsd())&&n++;const o=new i(n,r);let s=0,a=0;for(;a<e.length;a++){const r=e.__digit(a),i=t.__digit(a),n=(65535&i)+(65535&r)+s,u=(i>>>16)+(r>>>16)+(n>>>16);s=u>>>16,o.__setDigit(a,65535&n|u<<16)}for(;a<t.length;a++){const e=t.__digit(a),r=(65535&e)+s,i=(e>>>16)+(r>>>16);s=i>>>16,o.__setDigit(a,65535&r|i<<16)}return a<o.length&&o.__setDigit(a,s),o.__trim()}static __absoluteSub(t,e,r){if(0===t.length)return t;if(0===e.length)return t.sign===r?t:i.unaryMinus(t);const n=new i(t.length,r);let o=0,s=0;for(;s<e.length;s++){const r=t.__digit(s),i=e.__digit(s),a=(65535&r)-(65535&i)-o;o=1&a>>>16;const u=(r>>>16)-(i>>>16)-o;o=1&u>>>16,n.__setDigit(s,65535&a|u<<16)}for(;s<t.length;s++){const e=t.__digit(s),r=(65535&e)-o;o=1&r>>>16;const i=(e>>>16)-o;o=1&i>>>16,n.__setDigit(s,65535&r|i<<16)}return n.__trim()}static __absoluteAddOne(t,e,r=null){const n=t.length;null===r?r=new i(n,e):r.sign=e;let o=!0;for(let e,i=0;i<n;i++){if(e=t.__digit(i),o){const t=-1===e;e=0|e+1,o=t}r.__setDigit(i,e)}return o&&r.__setDigitGrow(n,1),r}static __absoluteSubOne(t,e){const r=t.length,n=new i(e=e||r,!1);let o=!0;for(let e,i=0;i<r;i++){if(e=t.__digit(i),o){const t=0===e;e=0|e-1,o=t}n.__setDigit(i,e)}if(o)throw new Error("implementation bug");for(let t=r;t<e;t++)n.__setDigit(t,0);return n}static __absoluteAnd(t,e,r=null){let n=t.length,o=e.length,s=o;if(n<o){s=n;const r=t,i=n;t=e,n=o,e=r,o=i}let a=s;null===r?r=new i(a,!1):a=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,t.__digit(u)&e.__digit(u));for(;u<a;u++)r.__setDigit(u,0);return r}static __absoluteAndNot(t,e,r=null){const n=t.length,o=e.length;let s=o;n<o&&(s=n);let a=n;null===r?r=new i(a,!1):a=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,t.__digit(u)&~e.__digit(u));for(;u<n;u++)r.__setDigit(u,t.__digit(u));for(;u<a;u++)r.__setDigit(u,0);return r}static __absoluteOr(t,e,r=null){let n=t.length,o=e.length,s=o;if(n<o){s=n;const r=t,i=n;t=e,n=o,e=r,o=i}let a=n;null===r?r=new i(a,!1):a=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,t.__digit(u)|e.__digit(u));for(;u<n;u++)r.__setDigit(u,t.__digit(u));for(;u<a;u++)r.__setDigit(u,0);return r}static __absoluteXor(t,e,r=null){let n=t.length,o=e.length,s=o;if(n<o){s=n;const r=t,i=n;t=e,n=o,e=r,o=i}let a=n;null===r?r=new i(a,!1):a=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,t.__digit(u)^e.__digit(u));for(;u<n;u++)r.__setDigit(u,t.__digit(u));for(;u<a;u++)r.__setDigit(u,0);return r}static __absoluteCompare(t,e){const r=t.length-e.length;if(0!=r)return r;let i=t.length-1;for(;0<=i&&t.__digit(i)===e.__digit(i);)i--;return 0>i?0:t.__unsignedDigit(i)>e.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(t,e,r,n){if(0===e)return;const o=65535&e,s=e>>>16;let a=0,u=0,l=0;for(let e=0;e<t.length;e++,n++){let h=r.__digit(n),c=65535&h,p=h>>>16;const f=t.__digit(e),d=65535&f,g=f>>>16,m=i.__imul(d,o),_=i.__imul(d,s),y=i.__imul(g,o),v=i.__imul(g,s);c+=u+(65535&m),p+=l+a+(c>>>16)+(m>>>16)+(65535&_)+(65535&y),a=p>>>16,u=(_>>>16)+(y>>>16)+(65535&v)+a,a=u>>>16,u&=65535,l=v>>>16,h=65535&c|p<<16,r.__setDigit(n,h)}for(;0!=a||0!==u||0!==l;n++){let t=r.__digit(n);const e=(65535&t)+u,i=(t>>>16)+(e>>>16)+l+a;u=0,l=0,a=i>>>16,t=65535&e|i<<16,r.__setDigit(n,t)}}static __internalMultiplyAdd(t,e,r,n,o){let s=r,a=0;for(let r=0;r<n;r++){const n=t.__digit(r),u=i.__imul(65535&n,e),l=(65535&u)+a+s;s=l>>>16;const h=i.__imul(n>>>16,e),c=(65535&h)+(u>>>16)+s;s=c>>>16,a=h>>>16,o.__setDigit(r,c<<16|65535&l)}if(o.length>n)for(o.__setDigit(n++,s+a);n<o.length;)o.__setDigit(n++,0);else if(0!==s+a)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,e,r){r>this.length&&(r=this.length);const n=65535&t,o=t>>>16;let s=0,a=65535&e,u=e>>>16;for(let t=0;t<r;t++){const e=this.__digit(t),r=65535&e,l=e>>>16,h=i.__imul(r,n),c=i.__imul(r,o),p=i.__imul(l,n),f=i.__imul(l,o),d=a+(65535&h),g=u+s+(d>>>16)+(h>>>16)+(65535&c)+(65535&p);a=(c>>>16)+(p>>>16)+(65535&f)+(g>>>16),s=a>>>16,a&=65535,u=f>>>16,this.__setDigit(t,65535&d|g<<16)}if(0!=s||0!==a||0!==u)throw new Error("implementation bug")}static __absoluteDivSmall(t,e,r){null===r&&(r=new i(t.length,!1));let n=0;for(let i,o=2*t.length-1;0<=o;o-=2){i=(n<<16|t.__halfDigit(o))>>>0;const s=0|i/e;n=0|i%e,i=(n<<16|t.__halfDigit(o-1))>>>0;const a=0|i/e;n=0|i%e,r.__setDigit(o>>>1,s<<16|a)}return r}static __absoluteModSmall(t,e){let r=0;for(let i=2*t.length-1;0<=i;i--)r=0|((r<<16|t.__halfDigit(i))>>>0)%e;return r}static __absoluteDivLarge(t,e,r,n){const o=e.__halfDigitLength(),s=e.length,a=t.__halfDigitLength()-o;let u=null;r&&(u=new i(a+2>>>1,!1),u.__initializeDigits());const l=new i(o+2>>>1,!1);l.__initializeDigits();const h=i.__clz16(e.__halfDigit(o-1));0<h&&(e=i.__specialLeftShift(e,h,0));const c=i.__specialLeftShift(t,h,1),p=e.__halfDigit(o-1);let f=0;for(let t,n=a;0<=n;n--){t=65535;const a=c.__halfDigit(n+o);if(a!==p){const r=(a<<16|c.__halfDigit(n+o-1))>>>0;t=0|r/p;let s=0|r%p;const u=e.__halfDigit(o-2),l=c.__halfDigit(n+o-2);for(;i.__imul(t,u)>>>0>(s<<16|l)>>>0&&(t--,s+=p,!(65535<s)););}i.__internalMultiplyAdd(e,t,0,s,l);let h=c.__inplaceSub(l,n,o+1);0!==h&&(h=c.__inplaceAdd(e,n,o),c.__setHalfDigit(n+o,c.__halfDigit(n+o)+h),t--),r&&(1&n?f=t<<16:u.__setDigit(n>>>1,f|t))}return n?(c.__inplaceRightShift(h),r?{quotient:u,remainder:c}:c):r?u:void 0}static __clz16(t){return i.__clz32(t)-16}__inplaceAdd(t,e,r){let i=0;for(let n=0;n<r;n++){const r=this.__halfDigit(e+n)+t.__halfDigit(n)+i;i=r>>>16,this.__setHalfDigit(e+n,r)}return i}__inplaceSub(t,e,r){let i=0;if(1&e){e>>=1;let n=this.__digit(e),o=65535&n,s=0;for(;s<r-1>>>1;s++){const r=t.__digit(s),a=(n>>>16)-(65535&r)-i;i=1&a>>>16,this.__setDigit(e+s,a<<16|65535&o),n=this.__digit(e+s+1),o=(65535&n)-(r>>>16)-i,i=1&o>>>16}const a=t.__digit(s),u=(n>>>16)-(65535&a)-i;if(i=1&u>>>16,this.__setDigit(e+s,u<<16|65535&o),e+s+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(n=this.__digit(e+s+1),o=(65535&n)-(a>>>16)-i,i=1&o>>>16,this.__setDigit(e+t.length,4294901760&n|65535&o))}else{e>>=1;let n=0;for(;n<t.length-1;n++){const r=this.__digit(e+n),o=t.__digit(n),s=(65535&r)-(65535&o)-i;i=1&s>>>16;const a=(r>>>16)-(o>>>16)-i;i=1&a>>>16,this.__setDigit(e+n,a<<16|65535&s)}const o=this.__digit(e+n),s=t.__digit(n),a=(65535&o)-(65535&s)-i;i=1&a>>>16;let u=0;0==(1&r)&&(u=(o>>>16)-(s>>>16)-i,i=1&u>>>16),this.__setDigit(e+n,u<<16|65535&a)}return i}__inplaceRightShift(t){if(0===t)return;let e=this.__digit(0)>>>t;const r=this.length-1;for(let i=0;i<r;i++){const r=this.__digit(i+1);this.__setDigit(i,r<<32-t|e),e=r>>>t}this.__setDigit(r,e)}static __specialLeftShift(t,e,r){const n=t.length,o=new i(n+r,!1);if(0===e){for(let e=0;e<n;e++)o.__setDigit(e,t.__digit(e));return 0<r&&o.__setDigit(n,0),o}let s=0;for(let r=0;r<n;r++){const i=t.__digit(r);o.__setDigit(r,i<<e|s),s=i>>>32-e}return 0<r&&o.__setDigit(n,s),o}static __leftShiftByAbsolute(t,e){const r=i.__toShiftAmount(e);if(0>r)throw new RangeError("BigInt too big");const n=r>>>5,o=31&r,s=t.length,a=0!==o&&0!=t.__digit(s-1)>>>32-o,u=s+n+(a?1:0),l=new i(u,t.sign);if(0===o){let e=0;for(;e<n;e++)l.__setDigit(e,0);for(;e<u;e++)l.__setDigit(e,t.__digit(e-n))}else{let e=0;for(let t=0;t<n;t++)l.__setDigit(t,0);for(let r=0;r<s;r++){const i=t.__digit(r);l.__setDigit(r+n,i<<o|e),e=i>>>32-o}if(a)l.__setDigit(s+n,e);else if(0!==e)throw new Error("implementation bug")}return l.__trim()}static __rightShiftByAbsolute(t,e){const r=t.length,n=t.sign,o=i.__toShiftAmount(e);if(0>o)return i.__rightShiftByMaximum(n);const s=o>>>5,a=31&o;let u=r-s;if(0>=u)return i.__rightShiftByMaximum(n);let l=!1;if(n)if(0!=(t.__digit(s)&(1<<a)-1))l=!0;else for(let e=0;e<s;e++)if(0!==t.__digit(e)){l=!0;break}l&&0===a&&0==~t.__digit(r-1)&&u++;let h=new i(u,n);if(0===a)for(let e=s;e<r;e++)h.__setDigit(e-s,t.__digit(e));else{let e=t.__digit(s)>>>a;const i=r-s-1;for(let r=0;r<i;r++){const i=t.__digit(r+s+1);h.__setDigit(r,i<<32-a|e),e=i>>>a}h.__setDigit(i,e)}return l&&(h=i.__absoluteAddOne(h,!0,h)),h.__trim()}static __rightShiftByMaximum(t){return t?i.__oneDigit(1,!0):i.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const e=t.__unsignedDigit(0);return e>i.__kMaxLengthBits?-1:e}static __toPrimitive(t,e="default"){if("object"!=typeof t)return t;if(t.constructor===i)return t;const r=t[Symbol.toPrimitive];if(r){const t=r(e);if("object"!=typeof t)return t;throw new TypeError("Cannot convert object to primitive value")}const n=t.valueOf;if(n){const e=n.call(t);if("object"!=typeof e)return e}const o=t.toString;if(o){const e=o.call(t);if("object"!=typeof e)return e}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return i.__isBigInt(t)?t:+t}static __isBigInt(t){return"object"==typeof t&&t.constructor===i}static __truncateToNBits(t,e){const r=t+31>>>5,n=new i(r,e.sign),o=r-1;for(let t=0;t<o;t++)n.__setDigit(t,e.__digit(t));let s=e.__digit(o);if(0!=(31&t)){const e=32-(31&t);s=s<<e>>>e}return n.__setDigit(o,s),n.__trim()}static __truncateAndSubFromPowerOfTwo(t,e,r){var n=Math.min;const o=t+31>>>5,s=new i(o,r);let a=0;const u=o-1;let l=0;for(const t=n(u,e.length);a<t;a++){const t=e.__digit(a),r=0-(65535&t)-l;l=1&r>>>16;const i=0-(t>>>16)-l;l=1&i>>>16,s.__setDigit(a,65535&r|i<<16)}for(;a<u;a++)s.__setDigit(a,0|-l);let h=u<e.length?e.__digit(u):0;const c=31&t;let p;if(0==c){const t=0-(65535&h)-l;l=1&t>>>16,p=65535&t|0-(h>>>16)-l<<16}else{const t=32-c;h=h<<t>>>t;const e=1<<32-t,r=(65535&e)-(65535&h)-l;l=1&r>>>16,p=65535&r|(e>>>16)-(h>>>16)-l<<16,p&=e-1}return s.__setDigit(u,p),s.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,e){this[t]=0|e}__setDigitGrow(t,e){this[t]=0|e}__halfDigitLength(){const t=this.length;return 65535>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 65535&this[t>>>1]>>>((1&t)<<4)}__setHalfDigit(t,e){const r=t>>>1,i=this.__digit(r),n=1&t?65535&i|e<<16:4294901760&i|65535&e;this.__setDigit(r,n)}static __digitPow(t,e){let r=1;for(;0<e;)1&e&&(r*=t),e>>>=1,t*=t;return r}}i.__kMaxLength=33554432,i.__kMaxLengthBits=i.__kMaxLength<<5,i.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],i.__kBitsPerCharTableShift=5,i.__kBitsPerCharTableMultiplier=1<<i.__kBitsPerCharTableShift,i.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.__kBitConversionBuffer=new ArrayBuffer(8),i.__kBitConversionDouble=new Float64Array(i.__kBitConversionBuffer),i.__kBitConversionInts=new Int32Array(i.__kBitConversionBuffer),i.__clz32=Math.clz32||function(t){return 0===t?32:0|31-(0|Math.log(t>>>0)/Math.LN2)},i.__imul=Math.imul||function(t,e){return 0|t*e};const n=i},"./node_modules/osm-polygon-features/index.js":(t,e,r)=>{t.exports=r("./node_modules/osm-polygon-features/polygon-features.json")},"./node_modules/osm-polygon-features/polygon-features.json":t=>{"use strict";t.exports=JSON.parse('[{"key":"building","polygon":"all"},{"key":"highway","polygon":"whitelist","values":["services","rest_area","escape","elevator"]},{"key":"natural","polygon":"blacklist","values":["coastline","cliff","ridge","arete","tree_row"]},{"key":"landuse","polygon":"all"},{"key":"waterway","polygon":"whitelist","values":["riverbank","dock","boatyard","dam"]},{"key":"amenity","polygon":"all"},{"key":"leisure","polygon":"all"},{"key":"barrier","polygon":"whitelist","values":["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{"key":"railway","polygon":"whitelist","values":["station","turntable","roundhouse","platform"]},{"key":"area","polygon":"all"},{"key":"boundary","polygon":"all"},{"key":"man_made","polygon":"blacklist","values":["cutline","embankment","pipeline"]},{"key":"power","polygon":"whitelist","values":["plant","substation","generator","transformer"]},{"key":"place","polygon":"all"},{"key":"shop","polygon":"all"},{"key":"aeroway","polygon":"blacklist","values":["taxiway"]},{"key":"tourism","polygon":"all"},{"key":"historic","polygon":"all"},{"key":"public_transport","polygon":"all"},{"key":"office","polygon":"all"},{"key":"building:part","polygon":"all"},{"key":"military","polygon":"all"},{"key":"ruins","polygon":"all"},{"key":"area:highway","polygon":"all"},{"key":"craft","polygon":"all"},{"key":"golf","polygon":"all"},{"key":"indoor","polygon":"all"}]')},"./node_modules/osmtogeojson/index.js":(t,e,r)=>{var i,n=r("./node_modules/osmtogeojson/lodash.custom.js"),o=r("./node_modules/@mapbox/geojson-rewind/index.js"),s={};function a(t,e){return(t.version||e.version)&&t.version!==e.version?(+t.version||0)>(+e.version||0)?t:e:n.merge(t,e)}function u(t){for(var e,r,i,n,o,s,a=function(t){return t[0]},u=function(t){return t[t.length-1]},l=function(t,e){return void 0!==t&&void 0!==e&&t.id===e.id},h=[];t.length;)for(e=t.pop().nodes.slice(),h.push(e);t.length&&!l(a(e),u(e));){for(r=a(e),i=u(e),n=0;n<t.length;n++){if(l(i,a(s=t[n].nodes))){o=e.push,s=s.slice(1);break}if(l(i,u(s))){o=e.push,s=s.slice(0,-1).reverse();break}if(l(r,u(s))){o=e.unshift,s=s.slice(0,-1);break}if(l(r,a(s))){o=e.unshift,s=s.slice(1).reverse();break}s=o=null}if(!s)break;t.splice(n,1),o.apply(e,s)}return h}r("./node_modules/osm-polygon-features/index.js").forEach((function(t){if("all"===t.polygon)s[t.key]=!0;else{var e="whitelist"===t.polygon?"included_values":"excluded_values",r={};t.values.forEach((function(t){r[t]=!0})),s[t.key]={},s[t.key][e]=r}})),(i=function(t,e,r){return e=n.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:s,deduplicator:a},e),"undefined"!=typeof XMLDocument&&t instanceof XMLDocument||"undefined"==typeof XMLDocument&&t.childNodes?function(t){var e,r,o=new Array,s=new Array,a=new Array;function u(t,e,r){t.hasAttribute(r)&&(e[r]=t.getAttribute(r))}function l(t,e){var r=n.clone(t);u(e,r,"lat"),u(e,r,"lon"),r.__is_center_placeholder=!0,o.push(r)}function h(t,e){var r=n.clone(t);function i(t,e,i){var n={type:"node",id:"_"+r.type+"/"+r.id+"bounds"+i,lat:t,lon:e};r.nodes.push(n.id),o.push(n)}r.nodes=[],i(e.getAttribute("minlat"),e.getAttribute("minlon"),1),i(e.getAttribute("maxlat"),e.getAttribute("minlon"),2),i(e.getAttribute("maxlat"),e.getAttribute("maxlon"),3),i(e.getAttribute("minlat"),e.getAttribute("maxlon"),4),r.nodes.push(r.nodes[0]),r.__is_bounds_placeholder=!0,s.push(r)}return n.each(t.getElementsByTagName("node"),(function(t,e){var r={};n.each(t.getElementsByTagName("tag"),(function(t){r[t.getAttribute("k")]=t.getAttribute("v")}));var i={type:"node"};u(t,i,"id"),u(t,i,"lat"),u(t,i,"lon"),u(t,i,"version"),u(t,i,"timestamp"),u(t,i,"changeset"),u(t,i,"uid"),u(t,i,"user"),n.isEmpty(r)||(i.tags=r),o.push(i)})),n.each(t.getElementsByTagName("way"),(function(t,i){var a={},c=[];n.each(t.getElementsByTagName("tag"),(function(t){a[t.getAttribute("k")]=t.getAttribute("v")}));var p=!1;n.each(t.getElementsByTagName("nd"),(function(t,e){var r;(r=t.getAttribute("ref"))&&(c[e]=r),!p&&t.getAttribute("lat")&&(p=!0)}));var f={type:"way"};u(t,f,"id"),u(t,f,"version"),u(t,f,"timestamp"),u(t,f,"changeset"),u(t,f,"uid"),u(t,f,"user"),c.length>0&&(f.nodes=c),n.isEmpty(a)||(f.tags=a),(e=t.getElementsByTagName("center")[0])&&l(f,e),p?function(t,e){n.isArray(t.nodes)||(t.nodes=[],n.each(e,(function(e,r){t.nodes.push("_anonymous@"+e.getAttribute("lat")+"/"+e.getAttribute("lon"))}))),n.each(e,(function(e,r){var i,n,s,a;e.getAttribute("lat")&&(i=e.getAttribute("lat"),n=e.getAttribute("lon"),s=t.nodes[r],a={type:"node",id:s,lat:i,lon:n},o.push(a),a.id)}))}(f,t.getElementsByTagName("nd")):(r=t.getElementsByTagName("bounds")[0])&&h(f,r),s.push(f)})),n.each(t.getElementsByTagName("relation"),(function(t,i){var c={},p=[];n.each(t.getElementsByTagName("tag"),(function(t){c[t.getAttribute("k")]=t.getAttribute("v")}));var f=!1;n.each(t.getElementsByTagName("member"),(function(t,e){p[e]={},u(t,p[e],"ref"),u(t,p[e],"role"),u(t,p[e],"type"),(!f&&"node"==p[e].type&&t.getAttribute("lat")||"way"==p[e].type&&t.getElementsByTagName("nd").length>0)&&(f=!0)}));var d={type:"relation"};u(t,d,"id"),u(t,d,"version"),u(t,d,"timestamp"),u(t,d,"changeset"),u(t,d,"uid"),u(t,d,"user"),p.length>0&&(d.members=p),n.isEmpty(c)||(d.tags=c),(e=t.getElementsByTagName("center")[0])&&l(d,e),f?function(t,e){function r(t,e){if(!s.some((function(t){return"way"==t.type&&t.id==e}))){var r={type:"way",id:e,nodes:[]};n.each(t,(function(t){var e,i,n;t.getAttribute("lat")?(e=t.getAttribute("lat"),i=t.getAttribute("lon"),n={type:"node",id:"_anonymous@"+e+"/"+i,lat:e,lon:i},r.nodes.push(n.id),o.push(n)):r.nodes.push(void 0)})),s.push(r)}}n.each(e,(function(e,i){var n,s,a,u;"node"==t.members[i].type?e.getAttribute("lat")&&(n=e.getAttribute("lat"),s=e.getAttribute("lon"),a=t.members[i].ref,u={type:"node",id:a,lat:n,lon:s},o.push(u)):"way"==t.members[i].type&&e.getElementsByTagName("nd").length>0&&(t.members[i].ref="_fullGeom"+t.members[i].ref,r(e.getElementsByTagName("nd"),t.members[i].ref))}))}(d,t.getElementsByTagName("member")):(r=t.getElementsByTagName("bounds")[0])&&h(d,r),a.push(d)})),i(o,s,a)}(t):function(t){var e=new Array,r=new Array,o=new Array;function s(t){var r=n.clone(t);r.lat=t.center.lat,r.lon=t.center.lon,r.__is_center_placeholder=!0,e.push(r)}function a(t){var i=n.clone(t);function o(t,r,n){var o={type:"node",id:"_"+i.type+"/"+i.id+"bounds"+n,lat:t,lon:r};i.nodes.push(o.id),e.push(o)}i.nodes=[],o(i.bounds.minlat,i.bounds.minlon,1),o(i.bounds.maxlat,i.bounds.minlon,2),o(i.bounds.maxlat,i.bounds.maxlon,3),o(i.bounds.minlat,i.bounds.maxlon,4),i.nodes.push(i.nodes[0]),i.__is_bounds_placeholder=!0,r.push(i)}function u(t){n.isArray(t.nodes)||(t.nodes=t.geometry.map((function(t){return null!==t?"_anonymous@"+t.lat+"/"+t.lon:"_anonymous@unknown_location"}))),t.geometry.forEach((function(r,i){var n,o,s;r&&(n=r.lat,o=r.lon,s={type:"node",id:t.nodes[i],lat:n,lon:o},e.push(s))}))}function l(t){t.members.forEach((function(t,i){var n,o,s;"node"==t.type?t.lat&&(n=t.lat,o=t.lon,s={type:"node",id:t.ref,lat:n,lon:o},e.push(s)):"way"==t.type&&t.geometry&&(t.ref="_fullGeom"+t.ref,function(t,i){if(!r.some((function(t){return"way"==t.type&&t.id==i}))){var n={type:"way",id:i,nodes:[]};t.forEach((function(t){var r,i,o;t?(o={type:"node",id:"_anonymous@"+(r=t.lat)+"/"+(i=t.lon),lat:r,lon:i},n.nodes.push(o.id),e.push(o)):n.nodes.push(void 0)})),r.push(n)}}(t.geometry,t.ref))}))}for(var h=0;h<t.elements.length;h++)switch(t.elements[h].type){case"node":var c=t.elements[h];e.push(c);break;case"way":var p=n.clone(t.elements[h]);p.nodes=n.clone(p.nodes),r.push(p),p.center&&s(p),p.geometry?u(p):p.bounds&&a(p);break;case"relation":var f=n.clone(t.elements[h]);f.members=n.clone(f.members),o.push(f);var d=f.members&&f.members.some((function(t){return"node"==t.type&&t.lat||"way"==t.type&&t.geometry&&t.geometry.length>0}));f.center&&s(f),d?l(f):f.bounds&&a(f)}return i(e,r,o)}(t);function i(t,i,s){function a(t,r){if("object"!=typeof r&&(r={}),"function"==typeof e.uninterestingTags)return!e.uninterestingTags(t,r);for(var i in t)if(!0!==e.uninterestingTags[i]&&!0!==r[i]&&r[i]!==t[i])return!0;return!1}function h(t){var e={timestamp:t.timestamp,version:t.version,changeset:t.changeset,user:t.user,uid:t.uid};for(var r in e)void 0===e[r]&&delete e[r];return e}for(var c=new Object,p=new Object,f=0;f<t.length;f++)void 0!==c[(b=t[f]).id]&&(b=e.deduplicator(b,c[b.id])),c[b.id]=b,void 0!==b.tags&&a(b.tags)&&(p[b.id]=!0);for(f=0;f<s.length;f++)if(n.isArray(s[f].members))for(var d=0;d<s[f].members.length;d++)"node"==s[f].members[d].type&&(p[s[f].members[d].ref]=!0);var g=new Object,m=new Object;for(f=0;f<i.length;f++){var _=i[f];if(g[_.id]&&(_=e.deduplicator(_,g[_.id])),g[_.id]=_,n.isArray(_.nodes))for(d=0;d<_.nodes.length;d++)"object"!=typeof _.nodes[d]&&(m[_.nodes[d]]=!0,_.nodes[d]=c[_.nodes[d]])}var y=new Array;for(var v in c){var b=c[v];m[v]&&!p[v]||y.push(b)}var w=new Array;for(f=0;f<s.length;f++)w[(C=s[f]).id]&&(C=e.deduplicator(C,w[C.id])),w[C.id]=C;var M,S={node:{},way:{},relation:{}};for(var v in w){var C=w[v];if(n.isArray(C.members))for(d=0;d<C.members.length;d++){var P=C.members[d].type,E=C.members[d].ref;"number"!=typeof E&&(E=E.replace("_fullGeom","")),S[P]?(void 0===S[P][E]&&(S[P][E]=[]),S[P][E].push({role:C.members[d].role,rel:C.id,reltags:C.tags})):e.verbose&&console.warn("Relation",C.type+"/"+C.id,"member",P+"/"+E,"ignored because it has an invalid type")}else e.verbose&&console.warn("Relation",C.type+"/"+C.id,"ignored because it has no members")}var O=[];for(f=0;f<y.length;f++)if(void 0!==y[f].lon&&void 0!==y[f].lat){var x={type:"Feature",id:y[f].type+"/"+y[f].id,properties:{type:y[f].type,id:y[f].id,tags:y[f].tags||{},relations:S.node[y[f].id]||[],meta:h(y[f])},geometry:{type:"Point",coordinates:[+y[f].lon,+y[f].lat]}};y[f].__is_center_placeholder&&(x.properties.geometry="center"),r?r(x):O.push(x)}else e.verbose&&console.warn("POI",y[f].type+"/"+y[f].id,"ignored because it lacks coordinates");var A=[],R=[];for(f=0;f<s.length;f++)if(w[s[f].id]===s[f]){if(void 0!==s[f].tags&&("route"==s[f].tags.type||"waterway"==s[f].tags.type)){if(!n.isArray(s[f].members)){e.verbose&&console.warn("Route",s[f].type+"/"+s[f].id,"ignored because it has no members");continue}if(s[f].members.forEach((function(t){g[t.ref]&&!a(g[t.ref].tags)&&(g[t.ref].is_skippablerelationmember=!0)})),!1===(x=I(s[f]))){e.verbose&&console.warn("Route relation",s[f].type+"/"+s[f].id,"ignored because it has invalid geometry");continue}function I(t){var r,i,o,s=!1;if(r=(r=t.members.filter((function(t){return"way"===t.type}))).map((function(r){var i=g[r.ref];return void 0===i||void 0===i.nodes?(e.verbose&&console.warn("Route "+t.type+"/"+t.id,"tainted by a missing or incomplete  way",r.type+"/"+r.ref),void(s=!0)):{id:r.ref,role:r.role,way:i,nodes:i.nodes.filter((function(i){return void 0!==i||(s=!0,e.verbose&&console.warn("Route",t.type+"/"+t.id,"tainted by a way",r.type+"/"+r.ref,"with a missing node"),!1)}))}})),i=u(r=n.compact(r)),0==(o=n.compact(i.map((function(t){return n.compact(t.map((function(t){return[+t.lon,+t.lat]})))})))).length)return e.verbose&&console.warn("Route",t.type+"/"+t.id,"contains no coordinates"),!1;var a={type:"Feature",id:t.type+"/"+t.id,properties:{type:t.type,id:t.id,tags:t.tags||{},relations:S[t.type][t.id]||[],meta:h(t)},geometry:{type:1===o.length?"LineString":"MultiLineString",coordinates:1===o.length?o[0]:o}};return s&&(e.verbose&&console.warn("Route",t.type+"/"+t.id,"is tainted"),a.properties.tainted=!0),a}r?r(o(x)):R.push(x)}if(void 0!==s[f].tags&&("multipolygon"==s[f].tags.type||"boundary"==s[f].tags.type)){if(!n.isArray(s[f].members)){e.verbose&&console.warn("Multipolygon",s[f].type+"/"+s[f].id,"ignored because it has no members");continue}var T=0;for(d=0;d<s[f].members.length;d++)"outer"==s[f].members[d].role?T++:e.verbose&&"inner"!=s[f].members[d].role&&console.warn("Multipolygon",s[f].type+"/"+s[f].id,"member",s[f].members[d].type+"/"+s[f].members[d].ref,'ignored because it has an invalid role: "'+s[f].members[d].role+'"');if(s[f].members.forEach((function(t){g[t.ref]&&("outer"!==t.role||a(g[t.ref].tags,s[f].tags)||(g[t.ref].is_skippablerelationmember=!0),"inner"!==t.role||a(g[t.ref].tags)||(g[t.ref].is_skippablerelationmember=!0))})),0==T){e.verbose&&console.warn("Multipolygon relation",s[f].type+"/"+s[f].id,"ignored because it has no outer ways");continue}var L=!1;if(1!=T||a(s[f].tags,{type:!0})||(L=!0),x=null,L){var N=s[f].members.filter((function(t){return"outer"===t.role}))[0];if(void 0===(N=g[N.ref])){e.verbose&&console.warn("Multipolygon relation",s[f].type+"/"+s[f].id,"ignored because outer way",N.type+"/"+N.ref,"is missing");continue}N.is_skippablerelationmember=!0,x=j(N,s[f])}else x=j(s[f],s[f]);if(!1===x){e.verbose&&console.warn("Multipolygon relation",s[f].type+"/"+s[f].id,"ignored because it has invalid geometry");continue}function j(t,r){var i,o,s,a,l=!1,c=L?"way":"relation",p="number"==typeof t.id?t.id:+t.id.replace("_fullGeom","");function f(t){var e,r=function(t,e){for(var r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},i=function(t){return t.map((function(t){return[+t.lat,+t.lon]}))},n=function(t,e){for(var r=t[0],i=t[1],n=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],h=e[s][1];u>i!=h>i&&r<(l-a)*(i-u)/(h-u)+a&&(n=!n)}return n};for(t=i(t),e=0;e<o.length;e++)if(r(i(o[e]),t))return e}i=(i=r.members.filter((function(t){return"way"===t.type}))).map((function(t){var r=g[t.ref];return void 0===r||void 0===r.nodes?(e.verbose&&console.warn("Multipolygon",c+"/"+p,"tainted by a missing or incomplete way",t.type+"/"+t.ref),void(l=!0)):{id:t.ref,role:t.role||"outer",way:r,nodes:r.nodes.filter((function(r){return void 0!==r||(l=!0,e.verbose&&console.warn("Multipolygon",c+"/"+p,"tainted by a way",t.type+"/"+t.ref,"with a missing node"),!1)}))}})),i=n.compact(i),o=u(i.filter((function(t){return"outer"===t.role}))),s=u(i.filter((function(t){return"inner"===t.role}))),a=o.map((function(t){return[t]}));for(var d=0;d<s.length;d++){var m=f(s[d]);void 0!==m?a[m].push(s[d]):e.verbose&&console.warn("Multipolygon",c+"/"+p,"contains an inner ring with no containing outer")}var _=[];if(0==(_=n.compact(a.map((function(t){var r=n.compact(t.map((function(t){if(!(t.length<4))return n.compact(t.map((function(t){return[+t.lon,+t.lat]})));e.verbose&&console.warn("Multipolygon",c+"/"+p,"contains a ring with less than four nodes")})));if(0!=r.length)return r;e.verbose&&console.warn("Multipolygon",c+"/"+p,"contains an empty ring cluster")})))).length)return e.verbose&&console.warn("Multipolygon",c+"/"+p,"contains no coordinates"),!1;var y="MultiPolygon";1===_.length&&(y="Polygon",_=_[0]);var v={type:"Feature",id:t.type+"/"+p,properties:{type:t.type,id:p,tags:t.tags||{},relations:S[t.type][t.id]||[],meta:h(t)},geometry:{type:y,coordinates:_}};return l&&(e.verbose&&console.warn("Multipolygon",c+"/"+p,"is tainted"),v.properties.tainted=!0),v}r?r(o(x)):R.push(x)}}for(f=0;f<i.length;f++)if(g[i[f].id]===i[f])if(n.isArray(i[f].nodes)){if(!i[f].is_skippablerelationmember){"number"!=typeof i[f].id&&(i[f].id=+i[f].id.replace("_fullGeom","")),i[f].tainted=!1,i[f].hidden=!1;var F=new Array;for(d=0;d<i[f].nodes.length;d++)"object"==typeof i[f].nodes[d]?F.push([+i[f].nodes[d].lon,+i[f].nodes[d].lat]):(e.verbose&&console.warn("Way",i[f].type+"/"+i[f].id,"is tainted by an invalid node"),i[f].tainted=!0);if(F.length<=1)e.verbose&&console.warn("Way",i[f].type+"/"+i[f].id,"ignored because it contains too few nodes");else{var G="LineString";void 0!==i[f].nodes[0]&&void 0!==i[f].nodes[i[f].nodes.length-1]&&i[f].nodes[0].id===i[f].nodes[i[f].nodes.length-1].id&&(void 0!==i[f].tags&&l(i[f].tags)||i[f].__is_bounds_placeholder)&&(G="Polygon",F=[F]),x={type:"Feature",id:i[f].type+"/"+i[f].id,properties:{type:i[f].type,id:i[f].id,tags:i[f].tags||{},relations:S.way[i[f].id]||[],meta:h(i[f])},geometry:{type:G,coordinates:F}},i[f].tainted&&(e.verbose&&console.warn("Way",i[f].type+"/"+i[f].id,"is tainted"),x.properties.tainted=!0),i[f].__is_bounds_placeholder&&(x.properties.geometry="bounds"),r?r(o(x)):"LineString"==G?A.push(x):R.push(x)}}}else e.verbose&&console.warn("Way",i[f].type+"/"+i[f].id,"ignored because it has no nodes");return!!r||((M={type:"FeatureCollection",features:[]}).features=M.features.concat(R),M.features=M.features.concat(A),M.features=M.features.concat(O),e.flatProperties&&M.features.forEach((function(t){t.properties=n.merge(t.properties.meta,t.properties.tags,{id:t.properties.type+"/"+t.properties.id})})),o(M))}function l(t){var r=e.polygonFeatures;if("function"==typeof r)return r(t);if("no"===t.area)return!1;for(var i in t){var n=t[i],o=r[i];if(void 0!==o&&"no"!==n){if(!0===o)return!0;if(o.included_values&&!0===o.included_values[n])return!0;if(o.excluded_values&&!0!==o.excluded_values[n])return!0}}return!1}}).toGeojson=i,t.exports=i},"./node_modules/osmtogeojson/lodash.custom.js":function(t,e,r){t=r.nmd(t),function(){var i,n="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object Boolean]",l="[object Date]",h="[object Error]",c="[object Function]",p="[object GeneratorFunction]",f="[object Map]",d="[object Number]",g="[object Object]",m="[object Promise]",_="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",w="[object WeakMap]",M="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",E="[object Int8Array]",O="[object Int16Array]",x="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,j=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/\\(\\)?/g,k=/\w*$/,Z=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,z={};z[C]=z[P]=z[E]=z[O]=z[x]=z[A]=z[R]=z[I]=z[T]=!0,z[s]=z[a]=z[M]=z[u]=z[S]=z[l]=z[h]=z[c]=z[f]=z[d]=z[g]=z[_]=z[y]=z[v]=z[w]=!1;var B={};B[s]=B[a]=B[M]=B[S]=B[u]=B[l]=B[C]=B[P]=B[E]=B[O]=B[x]=B[f]=B[d]=B[g]=B[_]=B[y]=B[v]=B[b]=B[A]=B[R]=B[I]=B[T]=!0,B[h]=B[c]=B[w]=!1;var U="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,q="object"==typeof self&&self&&self.Object===Object&&self,V=U||q||Function("return this")(),Y=e&&!e.nodeType&&e,W=Y&&t&&!t.nodeType&&t,X=W&&W.exports===Y,H=X&&U.process,K=function(){try{return H&&H.binding("util")}catch(t){}}(),Q=K&&K.isTypedArray;function J(t,e){return t.set(e[0],e[1]),t}function $(t,e){return t.add(e),t}function tt(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function et(t,e){for(var r=-1,i=t?t.length:0;++r<i&&!1!==e(t[r],r,t););return t}function rt(t,e,r,i){var n=-1,o=t?t.length:0;for(i&&o&&(r=t[++n]);++n<o;)r=e(r,t[n],n,t);return r}function it(t,e){for(var r=-1,i=t?t.length:0;++r<i;)if(e(t[r],r,t))return!0;return!1}function nt(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function ot(t){var e=-1,r=Array(t.size);return t.forEach((function(t,i){r[++e]=[i,t]})),r}function st(t,e){return function(r){return t(e(r))}}function at(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var ut,lt=Array.prototype,ht=Function.prototype,ct=Object.prototype,pt=V["__core-js_shared__"],ft=(ut=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",dt=ht.toString,gt=ct.hasOwnProperty,mt=dt.call(Object),_t=ct.toString,yt=RegExp("^"+dt.call(gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=X?V.Buffer:i,bt=V.Symbol,wt=V.Uint8Array,Mt=st(Object.getPrototypeOf,Object),St=Object.create,Ct=ct.propertyIsEnumerable,Pt=lt.splice,Et=Object.getOwnPropertySymbols,Ot=vt?vt.isBuffer:i,xt=st(Object.keys,Object),At=Math.max,Rt=ye(V,"DataView"),It=ye(V,"Map"),Tt=ye(V,"Promise"),Lt=ye(V,"Set"),Nt=ye(V,"WeakMap"),jt=ye(Object,"create"),Ft=!Ct.call({valueOf:1},"valueOf"),Gt=xe(Rt),kt=xe(It),Zt=xe(Tt),Dt=xe(Lt),zt=xe(Nt),Bt=bt?bt.prototype:i,Ut=Bt?Bt.valueOf:i,qt=Bt?Bt.toString:i;function Vt(){}function Yt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Ht(t){var e=-1,r=t?t.length:0;for(this.__data__=new Xt;++e<r;)this.add(t[e])}function Kt(t){this.__data__=new Wt(t)}function Qt(t,e){var r=Le(t)||Te(t)?function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}(t.length,String):[],i=r.length,n=!!i;for(var o in t)!e&&!gt.call(t,o)||n&&("length"==o||we(o,i))||r.push(o);return r}function Jt(t,e,r){(r!==i&&!Ie(t[e],r)||"number"==typeof e&&r===i&&!(e in t))&&(t[e]=r)}function $t(t,e,r){var n=t[e];gt.call(t,e)&&Ie(n,r)&&(r!==i||e in t)||(t[e]=r)}function te(t,e){for(var r=t.length;r--;)if(Ie(t[r][0],e))return r;return-1}function ee(t,e,r,n,o,a,h){var m;if(n&&(m=a?n(t,o,a,h):n(t)),m!==i)return m;if(!Ze(t))return t;var w=Le(t);if(w){if(m=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&gt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!e)return fe(t,m)}else{var L=be(t),N=L==c||L==p;if(Fe(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(L==g||L==s||N&&!a){if(nt(t))return a?t:{};if(m=function(t){return"function"!=typeof t.constructor||Se(t)?{}:Ze(e=Mt(t))?St(e):{};var e}(N?{}:t),!e)return function(t,e){return de(t,ve(t),e)}(t,function(t,e){return t&&de(e,He(e),t)}(m,t))}else{if(!B[L])return a?t:{};m=function(t,e,r,i){var n,o=t.constructor;switch(e){case M:return pe(t);case u:case l:return new o(+t);case S:return function(t,e){var r=e?pe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,i);case C:case P:case E:case O:case x:case A:case R:case I:case T:return function(t,e){var r=e?pe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,i);case f:return function(t,e,r){return rt(e?r(ot(t),!0):ot(t),J,new t.constructor)}(t,i,r);case d:case v:return new o(t);case _:return function(t){var e=new t.constructor(t.source,k.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return function(t,e,r){return rt(e?r(at(t),!0):at(t),$,new t.constructor)}(t,i,r);case b:return n=t,Ut?Object(Ut.call(n)):{}}}(t,L,ee,e)}}h||(h=new Kt);var j=h.get(t);if(j)return j;if(h.set(t,m),!w)var F=r?function(t){return function(t,e,r){var i=e(t);return Le(t)?i:function(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}(i,r(t))}(t,He,ve)}(t):He(t);return et(F||t,(function(i,o){F&&(i=t[o=i]),$t(m,o,ee(i,e,r,n,o,t,h))})),m}Yt.prototype.clear=function(){this.__data__=jt?jt(null):{}},Yt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Yt.prototype.get=function(t){var e=this.__data__;if(jt){var r=e[t];return r===n?i:r}return gt.call(e,t)?e[t]:i},Yt.prototype.has=function(t){var e=this.__data__;return jt?e[t]!==i:gt.call(e,t)},Yt.prototype.set=function(t,e){return this.__data__[t]=jt&&e===i?n:e,this},Wt.prototype.clear=function(){this.__data__=[]},Wt.prototype.delete=function(t){var e=this.__data__,r=te(e,t);return!(r<0||(r==e.length-1?e.pop():Pt.call(e,r,1),0))},Wt.prototype.get=function(t){var e=this.__data__,r=te(e,t);return r<0?i:e[r][1]},Wt.prototype.has=function(t){return te(this.__data__,t)>-1},Wt.prototype.set=function(t,e){var r=this.__data__,i=te(r,t);return i<0?r.push([t,e]):r[i][1]=e,this},Xt.prototype.clear=function(){this.__data__={hash:new Yt,map:new(It||Wt),string:new Yt}},Xt.prototype.delete=function(t){return _e(this,t).delete(t)},Xt.prototype.get=function(t){return _e(this,t).get(t)},Xt.prototype.has=function(t){return _e(this,t).has(t)},Xt.prototype.set=function(t,e){return _e(this,t).set(t,e),this},Ht.prototype.add=Ht.prototype.push=function(t){return this.__data__.set(t,n),this},Ht.prototype.has=function(t){return this.__data__.has(t)},Kt.prototype.clear=function(){this.__data__=new Wt},Kt.prototype.delete=function(t){return this.__data__.delete(t)},Kt.prototype.get=function(t){return this.__data__.get(t)},Kt.prototype.has=function(t){return this.__data__.has(t)},Kt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Wt){var i=r.__data__;if(!It||i.length<199)return i.push([t,e]),this;r=this.__data__=new Xt(i)}return r.set(t,e),this};var re,ie=(re=function(t,e){return t&&ne(t,e,He)},function(t,e){if(null==t)return t;if(!Ne(t))return re(t,e);for(var r=t.length,i=-1,n=Object(t);++i<r&&!1!==e(n[i],i,n););return t}),ne=function(t,e,r){for(var i=-1,n=Object(t),o=r(t),s=o.length;s--;){var a=o[++i];if(!1===e(n[a],a,n))break}return t};function oe(t,e){for(var r=0,n=(e=Me(e,t)?[e]:ce(e)).length;null!=t&&r<n;)t=t[Oe(e[r++])];return r&&r==n?t:i}function se(t,e){return null!=t&&e in Object(t)}function ae(t,e,r,n,o){return t===e||(null==t||null==e||!Ze(t)&&!De(e)?t!=t&&e!=e:function(t,e,r,n,o,c){var p=Le(t),m=Le(e),w=a,C=a;p||(w=(w=be(t))==s?g:w),m||(C=(C=be(e))==s?g:C);var P=w==g&&!nt(t),E=C==g&&!nt(e),O=w==C;if(O&&!P)return c||(c=new Kt),p||qe(t)?ge(t,e,r,n,o,c):function(t,e,r,i,n,o,s){switch(r){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!i(new wt(t),new wt(e)));case u:case l:case d:return Ie(+t,+e);case h:return t.name==e.name&&t.message==e.message;case _:case v:return t==e+"";case f:var a=ot;case y:var c=2&o;if(a||(a=at),t.size!=e.size&&!c)return!1;var p=s.get(t);if(p)return p==e;o|=1,s.set(t,e);var g=ge(a(t),a(e),i,n,o,s);return s.delete(t),g;case b:if(Ut)return Ut.call(t)==Ut.call(e)}return!1}(t,e,w,r,n,o,c);if(!(2&o)){var x=P&&gt.call(t,"__wrapped__"),A=E&&gt.call(e,"__wrapped__");if(x||A){var R=x?t.value():t,I=A?e.value():e;return c||(c=new Kt),r(R,I,n,o,c)}}return!!O&&(c||(c=new Kt),function(t,e,r,n,o,s){var a=2&o,u=He(t),l=u.length;if(l!=He(e).length&&!a)return!1;for(var h=l;h--;){var c=u[h];if(!(a?c in e:gt.call(e,c)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var f=!0;s.set(t,e),s.set(e,t);for(var d=a;++h<l;){var g=t[c=u[h]],m=e[c];if(n)var _=a?n(m,g,c,e,t,s):n(g,m,c,t,e,s);if(!(_===i?g===m||r(g,m,n,o,s):_)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(f=!1)}return s.delete(t),s.delete(e),f}(t,e,r,n,o,c))}(t,e,ae,r,n,o))}function ue(t){return"function"==typeof t?t:null==t?Je:"object"==typeof t?Le(t)?(n=t[0],o=t[1],Me(n)&&Ce(o)?Pe(Oe(n),o):function(t){var e=We(t,n);return e===i&&e===o?Xe(t,n):ae(o,e,i,3)}):1==(r=function(t){for(var e=He(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,Ce(n)]}return e}(e=t)).length&&r[0][2]?Pe(r[0][0],r[0][1]):function(t){return t===e||function(t,e,r,n){var o=r.length,s=o;if(null==t)return!s;for(t=Object(t);o--;){var a=r[o];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<s;){var u=(a=r[o])[0],l=t[u],h=a[1];if(a[2]){if(l===i&&!(u in t))return!1}else{var c,p=new Kt;if(!(c===i?ae(h,l,n,3,p):c))return!1}}return!0}(t,0,r)}:tr(t);var e,r,n,o}function le(t){if(!Ze(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Se(t),r=[];for(var i in t)("constructor"!=i||!e&&gt.call(t,i))&&r.push(i);return r}function he(t,e,r,n,o){if(t!==e){if(!Le(e)&&!qe(e))var s=le(e);et(s||e,(function(a,u){if(s&&(a=e[u=a]),Ze(a))o||(o=new Kt),function(t,e,r,n,o,s,a){var u=t[r],l=e[r],h=a.get(l);if(h)Jt(t,r,h);else{var c=s?s(u,l,r+"",t,e,a):i,p=c===i;p&&(c=l,Le(l)||qe(l)?Le(u)?c=u:je(u)?c=fe(u):(p=!1,c=ee(l,!0)):ze(l)||Te(l)?Te(u)?c=Ve(u):!Ze(u)||n&&Ge(u)?(p=!1,c=ee(l,!0)):c=u:p=!1),p&&(a.set(l,c),o(c,l,n,s,a),a.delete(l)),Jt(t,r,c)}}(t,e,u,r,he,n,o);else{var l=n?n(t[u],a,u+"",t,e,o):i;l===i&&(l=a),Jt(t,u,l)}}))}}function ce(t){return Le(t)?t:Ee(t)}function pe(t){var e=new t.constructor(t.byteLength);return new wt(e).set(new wt(t)),e}function fe(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}function de(t,e,r,n){r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=n?n(r[a],t[a],a,r,t):i;$t(r,a,u===i?t[a]:u)}return r}function ge(t,e,r,n,o,s){var a=2&o,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var c=-1,p=!0,f=1&o?new Ht:i;for(s.set(t,e),s.set(e,t);++c<u;){var d=t[c],g=e[c];if(n)var m=a?n(g,d,c,e,t,s):n(d,g,c,t,e,s);if(m!==i){if(m)continue;p=!1;break}if(f){if(!it(e,(function(t,e){if(!f.has(e)&&(d===t||r(d,t,n,o,s)))return f.add(e)}))){p=!1;break}}else if(d!==g&&!r(d,g,n,o,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function me(){var t=Vt.iteratee||$e;return t=t===$e?ue:t,arguments.length?t(arguments[0],arguments[1]):t}function _e(t,e){var r,i,n=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map}function ye(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return function(t){return!(!Ze(t)||(e=t,ft&&ft in e))&&(Ge(t)||nt(t)?yt:Z).test(xe(t));var e}(r)?r:i}var ve=Et?st(Et,Object):er,be=function(t){return _t.call(t)};function we(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Me(t,e){if(Le(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Be(t))||N.test(t)||!L.test(t)||null!=e&&t in Object(e)}function Se(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ct)}function Ce(t){return t==t&&!Ze(t)}function Pe(t,e){return function(r){return null!=r&&r[t]===e&&(e!==i||t in Object(r))}}(Rt&&be(new Rt(new ArrayBuffer(1)))!=S||It&&be(new It)!=f||Tt&&be(Tt.resolve())!=m||Lt&&be(new Lt)!=y||Nt&&be(new Nt)!=w)&&(be=function(t){var e=_t.call(t),r=e==g?t.constructor:i,n=r?xe(r):i;if(n)switch(n){case Gt:return S;case kt:return f;case Zt:return m;case Dt:return y;case zt:return w}return e});var Ee=Re((function(t){t=Ye(t);var e=[];return j.test(t)&&e.push(""),t.replace(F,(function(t,r,i,n){e.push(i?n.replace(G,"$1"):r||t)})),e}));function Oe(t){if("string"==typeof t||Be(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function xe(t){if(null!=t){try{return dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ae(t,e){return(Le(t)?et:ie)(t,me(e,3))}function Re(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=t.apply(this,i);return r.cache=o.set(n,s),s};return r.cache=new(Re.Cache||Xt),r}function Ie(t,e){return t===e||t!=t&&e!=e}function Te(t){return je(t)&&gt.call(t,"callee")&&(!Ct.call(t,"callee")||_t.call(t)==s)}Re.Cache=Xt;var Le=Array.isArray;function Ne(t){return null!=t&&ke(t.length)&&!Ge(t)}function je(t){return De(t)&&Ne(t)}var Fe=Ot||rr;function Ge(t){var e=Ze(t)?_t.call(t):"";return e==c||e==p}function ke(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Ze(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function De(t){return!!t&&"object"==typeof t}function ze(t){if(!De(t)||_t.call(t)!=g||nt(t))return!1;var e=Mt(t);if(null===e)return!0;var r=gt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&dt.call(r)==mt}function Be(t){return"symbol"==typeof t||De(t)&&_t.call(t)==b}var Ue,qe=Q?(Ue=Q,function(t){return Ue(t)}):function(t){return De(t)&&ke(t.length)&&!!z[_t.call(t)]};function Ve(t){return de(t,Ke(t))}function Ye(t){return null==t?"":function(t){if("string"==typeof t)return t;if(Be(t))return qt?qt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}function We(t,e,r){var n=null==t?i:oe(t,e);return n===i?r:n}function Xe(t,e){return null!=t&&function(t,e,r){for(var i,n=-1,o=(e=Me(e,t)?[e]:ce(e)).length;++n<o;){var s=Oe(e[n]);if(!(i=null!=t&&r(t,s)))break;t=t[s]}return i||!!(o=t?t.length:0)&&ke(o)&&we(s,o)&&(Le(t)||Te(t))}(t,e,se)}function He(t){return Ne(t)?Qt(t):function(t){if(!Se(t))return xt(t);var e=[];for(var r in Object(t))gt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}function Ke(t){return Ne(t)?Qt(t,!0):le(t)}var Qe=function(t){return e=function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&function(t,e,r){if(!Ze(r))return!1;var i=typeof e;return!!("number"==i?Ne(r)&&we(e,r.length):"string"==i&&e in r)&&Ie(r[e],t)}(r[0],r[1],a)&&(s=o<3?i:s,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n)}return e},r=At(r===i?e.length-1:r,0),function(){for(var t=arguments,i=-1,n=At(t.length-r,0),o=Array(n);++i<n;)o[i]=t[r+i];i=-1;for(var s=Array(r+1);++i<r;)s[i]=t[i];return s[r]=o,tt(e,this,s)};var e,r}((function(t,e,r){he(t,e,r)}));function Je(t){return t}function $e(t){return ue("function"==typeof t?t:ee(t,!0))}function tr(t){return Me(t)?(e=Oe(t),function(t){return null==t?i:t[e]}):function(t){return function(e){return oe(e,t)}}(t);var e}function er(){return[]}function rr(){return!1}Vt.compact=function(t){for(var e=-1,r=t?t.length:0,i=0,n=[];++e<r;){var o=t[e];o&&(n[i++]=o)}return n},Vt.iteratee=$e,Vt.keys=He,Vt.keysIn=Ke,Vt.memoize=Re,Vt.merge=Qe,Vt.property=tr,Vt.toPlainObject=Ve,Vt.clone=function(t){return ee(t,!1,!0)},Vt.eq=Ie,Vt.forEach=Ae,Vt.get=We,Vt.hasIn=Xe,Vt.identity=Je,Vt.isArguments=Te,Vt.isArray=Le,Vt.isArrayLike=Ne,Vt.isArrayLikeObject=je,Vt.isBuffer=Fe,Vt.isEmpty=function(t){if(Ne(t)&&(Le(t)||"string"==typeof t||"function"==typeof t.splice||Fe(t)||Te(t)))return!t.length;var e=be(t);if(e==f||e==y)return!t.size;if(Ft||Se(t))return!xt(t).length;for(var r in t)if(gt.call(t,r))return!1;return!0},Vt.isFunction=Ge,Vt.isLength=ke,Vt.isObject=Ze,Vt.isObjectLike=De,Vt.isPlainObject=ze,Vt.isSymbol=Be,Vt.isTypedArray=qe,Vt.stubArray=er,Vt.stubFalse=rr,Vt.toString=Ye,Vt.each=Ae,Vt.VERSION="4.15.0",W&&((W.exports=Vt)._=Vt,Y._=Vt)}.call(this)},"./node_modules/proj4/lib/index.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>ke});var i=6378137,n=.0066943799901413165,o=484813681109536e-20,s=Math.PI/2,a=1e-10,u=.017453292519943295,l=57.29577951308232,h=Math.PI/4,c=2*Math.PI,p=3.14159265359,f={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const d={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var g=/[\s_\-\/\(\)]/g;function m(t,e){if(t[e])return t[e];for(var r,i=Object.keys(t),n=e.toLowerCase().replace(g,""),o=-1;++o<i.length;)if((r=i[o]).toLowerCase().replace(g,"")===n)return t[r]}function _(t){var e,r,i,n={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var r=e.split("=");return r.push(!0),t[r[0].toLowerCase()]=r[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){n.rf=parseFloat(t)},lat_0:function(t){n.lat0=t*u},lat_1:function(t){n.lat1=t*u},lat_2:function(t){n.lat2=t*u},lat_ts:function(t){n.lat_ts=t*u},lon_0:function(t){n.long0=t*u},lon_1:function(t){n.long1=t*u},lon_2:function(t){n.long2=t*u},alpha:function(t){n.alpha=parseFloat(t)*u},gamma:function(t){n.rectified_grid_angle=parseFloat(t)},lonc:function(t){n.longc=t*u},x_0:function(t){n.x0=parseFloat(t)},y_0:function(t){n.y0=parseFloat(t)},k_0:function(t){n.k0=parseFloat(t)},k:function(t){n.k0=parseFloat(t)},a:function(t){n.a=parseFloat(t)},b:function(t){n.b=parseFloat(t)},r_a:function(){n.R_A=!0},zone:function(t){n.zone=parseInt(t,10)},south:function(){n.utmSouth=!0},towgs84:function(t){n.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){n.to_meter=parseFloat(t)},units:function(t){n.units=t;var e=m(d,t);e&&(n.to_meter=e.to_meter)},from_greenwich:function(t){n.from_greenwich=t*u},pm:function(t){var e=m(f,t);n.from_greenwich=(e||parseFloat(t))*u},nadgrids:function(t){"@null"===t?n.datumCode="none":n.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(n.axis=t)},approx:function(){n.approx=!0}};for(e in o)r=o[e],e in s?"function"==typeof(i=s[e])?i(r):n[i]=r:n[e]=r;return"string"==typeof n.datumCode&&"WGS84"!==n.datumCode&&(n.datumCode=n.datumCode.toLowerCase()),n}var y=/\s/,v=/[A-Za-z]/,b=/[A-Za-z84]/,w=/[,\]]/,M=/[\d\.E\-\+]/;function S(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function C(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var i=e?{}:t,n=r.reduce((function(t,e){return P(e,t),t}),i);e&&(t[e]=n)}function P(t,e){if(Array.isArray(t)){var r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void P(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r){if("AXIS"===r)return r in e||(e[r]=[]),void e[r].push(t);var i;switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&P(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&P(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void C(e,r,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return P(t,e[r]);return C(e,r,t)}}else e[r]=t;else e[r]=!0}else e[t]=!0}function E(t){return.017453292519943295*t}function O(t){var e=new S(t).output(),r=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",r]);var n={};return P(e,n),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",r=0,i=t.AXIS.length;r<i;++r){var n=t.AXIS[r][0].toLowerCase();-1!==n.indexOf("north")?e+="n":-1!==n.indexOf("south")?e+="s":-1!==n.indexOf("east")?e+="e":-1!==n.indexOf("west")&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",E],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",E],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",E],["lat0","latitude_of_origin",E],["lat0","standard_parallel_1",E],["lat1","standard_parallel_1",E],["lat2","standard_parallel_2",E],["azimuth","Azimuth"],["alpha","azimuth",E],["srsCode","name"]].forEach((function(e){return function(t,e){var r=e[0],i=e[1];!(r in t)&&i in t&&(t[r]=t[i],3===e.length&&(t[r]=e[2](t[r])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=E(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(n),n}function x(t){var e=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?x[t]=_(arguments[1]):x[t]=O(arguments[1]):x[t]=r}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?x.apply(e,t):x(t)}));if("string"==typeof t){if(t in x)return x[t]}else"EPSG"in t?x["EPSG:"+t.EPSG]=t:"ESRI"in t?x["ESRI:"+t.ESRI]=t:"IAU2000"in t?x["IAU2000:"+t.IAU2000]=t:console.log(t);return}}S.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;y.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},S.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(w.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},S.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},S.prototype.number=function(t){if(!M.test(t)){if(w.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},S.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},S.prototype.keyword=function(t){if(b.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!w.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},S.prototype.neutral=function(t){if(v.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(M.test(t))return this.word=t,void(this.state=3);if(!w.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},S.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(x);const A=x;var R=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],I=["3857","900913","3785","102113"];function T(t,e){var r,i;if(t=t||{},!e)return t;for(i in e)void 0!==(r=e[i])&&(t[i]=r);return t}function L(t,e,r){var i=t*e;return r/Math.sqrt(1-i*i)}function N(t){return t<0?-1:1}function j(t){return Math.abs(t)<=p?t:t-N(t)*c}function F(t,e,r){var i=t*r,n=.5*t;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(s-e))/i}function G(t,e){for(var r,i,n=.5*t,o=s-2*Math.atan(e),a=0;a<=15;a++)if(r=t*Math.sin(o),o+=i=s-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-o,Math.abs(i)<=1e-10)return o;return-9999}function k(t){return t}var Z=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=L(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,r,i=t.x,n=t.y;if(n*l>90&&n*l<-90&&i*l>180&&i*l<-180)return null;if(Math.abs(Math.abs(n)-s)<=a)return null;if(this.sphere)e=this.x0+this.a*this.k0*j(i-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*n));else{var o=Math.sin(n),u=F(this.e,n,o);e=this.x0+this.a*this.k0*j(i-this.long0),r=this.y0-this.a*this.k0*Math.log(u)}return t.x=e,t.y=r,t},inverse:function(t){var e,r,i=t.x-this.x0,n=t.y-this.y0;if(this.sphere)r=s-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var o=Math.exp(-n/(this.a*this.k0));if(-9999===(r=G(this.e,o)))return null}return e=j(this.long0+i/(this.a*this.k0)),t.x=e,t.y=r,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:k,inverse:k,names:["longlat","identity"]}],D={},z=[];function B(t,e){var r=z.length;return t.names?(z[r]=t,t.names.forEach((function(t){D[t.toLowerCase()]=r})),this):(console.log(e),!0)}const U={start:function(){Z.forEach(B)},add:B,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==D[e]&&z[D[e]]?z[D[e]]:void 0}};var q={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},V=q.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};q.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Y={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var W={};function X(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:W[t]||null,isNull:!1}}function H(t){return t/3600*Math.PI/180}function K(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function Q(t){return t.map((function(t){return[H(t.longitudeShift),H(t.latitudeShift)]}))}function J(t,e,r){return{name:K(t,e+8,e+16).trim(),parent:K(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function $(t,e,r,i){for(var n=e+176,o=[],s=0;s<r.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(n+16*s,i),longitudeShift:t.getFloat32(n+16*s+4,i),latitudeAccuracy:t.getFloat32(n+16*s+8,i),longitudeAccuracy:t.getFloat32(n+16*s+12,i)};o.push(a)}return o}function tt(t,e){if(!(this instanceof tt))return new tt(t);e=e||function(t){if(t)throw t};var r=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in A}(t))return A[t];if(function(t){return R.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=O(t);if(function(t){var e=m(t,"authority");if(e){var r=m(e,"epsg");return r&&I.indexOf(r)>-1}}(e))return A["EPSG:3857"];var r=function(t){var e=m(t,"extension");if(e)return m(e,"proj4")}(e);return r?_(r):e}return function(t){return"+"===t[0]}(t)?_(t):void 0}(t);if("object"==typeof r){var i=tt.projections.get(r.projName);if(i){if(r.datumCode&&"none"!==r.datumCode){var n=m(Y,r.datumCode);n&&(r.datum_params=r.datum_params||(n.towgs84?n.towgs84.split(","):null),r.ellps=n.ellipse,r.datumName=n.datumName?n.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var s,u,l,h,c,p,f=function(t,e,r,i,n){if(!t){var o=m(q,i);o||(o=V),t=o.a,e=o.b,r=o.rf}return r&&!e&&(e=(1-1/r)*t),(0===r||Math.abs(t-e)<a)&&(n=!0,e=t),{a:t,b:e,rf:r,sphere:n}}(r.a,r.b,r.rf,r.ellps,r.sphere),d=(s=f.a,u=f.b,f.rf,c=((l=s*s)-(h=u*u))/l,p=0,r.R_A?(l=(s*=1-c*(.16666666666666666+c*(.04722222222222222+.022156084656084655*c)))*s,c=0):p=Math.sqrt(c),{es:c,e:p,ep2:(l-h)/h}),g=function(t){return void 0===t?null:t.split(",").map(X)}(r.nadgrids),y=r.datum||function(t,e,r,i,n,s,a){var u={};return u.datum_type=void 0===t||"none"===t?5:4,e&&(u.datum_params=e.map(parseFloat),0===u.datum_params[0]&&0===u.datum_params[1]&&0===u.datum_params[2]||(u.datum_type=1),u.datum_params.length>3&&(0===u.datum_params[3]&&0===u.datum_params[4]&&0===u.datum_params[5]&&0===u.datum_params[6]||(u.datum_type=2,u.datum_params[3]*=o,u.datum_params[4]*=o,u.datum_params[5]*=o,u.datum_params[6]=u.datum_params[6]/1e6+1))),a&&(u.datum_type=3,u.grids=a),u.a=r,u.b=i,u.es=n,u.ep2=s,u}(r.datumCode,r.datum_params,f.a,f.b,d.es,d.ep2,g);T(this,r),T(this,i),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=y,this.init(),e(null,this)}else e(t)}else e(t)}tt.projections=U,tt.projections.start();const et=tt;function rt(t,e,r){var i,n,o,a,u=t.x,l=t.y,h=t.z?t.z:0;if(l<-s&&l>-1.001*s)l=-s;else if(l>s&&l<1.001*s)l=s;else{if(l<-s)return{x:-1/0,y:-1/0,z:t.z};if(l>s)return{x:1/0,y:1/0,z:t.z}}return u>Math.PI&&(u-=2*Math.PI),n=Math.sin(l),a=Math.cos(l),o=n*n,{x:((i=r/Math.sqrt(1-e*o))+h)*a*Math.cos(u),y:(i+h)*a*Math.sin(u),z:(i*(1-e)+h)*n}}function it(t,e,r,i){var n,o,s,a,u,l,h,c,p,f,d,g,m,_,y,v=t.x,b=t.y,w=t.z?t.z:0;if(n=Math.sqrt(v*v+b*b),o=Math.sqrt(v*v+b*b+w*w),n/r<1e-12){if(_=0,o/r<1e-12)return y=-i,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(b,v);s=w/o,c=(a=n/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*a*a)),p=s*u,m=0;do{m++,l=e*(h=r/Math.sqrt(1-e*p*p))/(h+(y=n*c+w*p-h*(1-e*p*p))),g=(d=s*(u=1/Math.sqrt(1-l*(2-l)*a*a)))*c-(f=a*(1-l)*u)*p,c=f,p=d}while(g*g>1e-24&&m<30);return{x:_,y:Math.atan(d/Math.abs(f)),z:y}}function nt(t){return 1===t||2===t}function ot(t,e,r){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-r.x,y:r.y},n={x:Number.NaN,y:Number.NaN},o=[],s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){n=i;break}if(a.mandatory,null!==a.grid){var u=a.grid.subgrids[0],h=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,c=u.ll[0]-h,p=u.ll[1]-h,f=u.ll[0]+(u.lim[0]-1)*u.del[0]+h,d=u.ll[1]+(u.lim[1]-1)*u.del[1]+h;if(!(p>i.y||c>i.x||d<i.y||f<i.x||(n=st(i,e,u),isNaN(n.x))))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*l+" "+i.y*l+" tried: '"+o+"'"),-1):(r.x=-n.x,r.y=n.y,0)}function st(t,e,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var n={x:t.x,y:t.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=j(n.x-Math.PI)+Math.PI;var o=at(n,r);if(e){if(isNaN(o.x))return i;o.x=n.x-o.x,o.y=n.y-o.y;var s,a,u=9;do{if(a=at(o,r),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:n.x-(a.x+o.x),y:n.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(u--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(u<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=j(o.x+r.ll[0]),i.y=o.y+r.ll[1]}else isNaN(o.x)||(i.x=t.x+o.x,i.y=t.y+o.y);return i}function at(t,e){var r,i={x:t.x/e.del[0],y:t.y/e.del[1]},n=Math.floor(i.x),o=Math.floor(i.y),s=i.x-1*n,a=i.y-1*o,u={x:Number.NaN,y:Number.NaN};if(n<0||n>=e.lim[0])return u;if(o<0||o>=e.lim[1])return u;r=o*e.lim[0]+n;var l=e.cvs[r][0],h=e.cvs[r][1];r++;var c=e.cvs[r][0],p=e.cvs[r][1];r+=e.lim[0];var f=e.cvs[r][0],d=e.cvs[r][1];r--;var g=e.cvs[r][0],m=e.cvs[r][1],_=s*a,y=s*(1-a),v=(1-s)*(1-a),b=(1-s)*a;return u.x=v*l+y*c+b*g+_*f,u.y=v*h+y*p+b*m+_*d,u}function ut(t,e,r){var i,n,o,s=r.x,a=r.y,u=r.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==r.z)switch(0===o?(i=s,n=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(i=a,n=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(i=u,n="z"),t.axis[o]){case"e":l[n]=i;break;case"w":l[n]=-i;break;case"n":l[n]=i;break;case"s":l[n]=-i;break;case"u":void 0!==r[n]&&(l.z=i);break;case"d":void 0!==r[n]&&(l.z=-i);break;default:return null}return l}function lt(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function ht(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function ct(t,e,r){var o;if(Array.isArray(r)&&(r=lt(r)),function(t){ht(t.x),ht(t.y)}(r),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(r=ct(t,o=new et("WGS84"),r),t=o),"enu"!==t.axis&&(r=ut(t,!1,r)),"longlat"===t.projName)r={x:r.x*u,y:r.y*u,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),!(r=t.inverse(r)))return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=function(t,e,r){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return r;if(5===t.datum_type||5===e.datum_type)return r;var o=t.a,s=t.es;if(3===t.datum_type){if(0!==ot(t,!1,r))return;o=i,s=n}var a=e.a,u=e.b,l=e.es;return 3===e.datum_type&&(a=i,u=6356752.314,l=n),s!==l||o!==a||nt(t.datum_type)||nt(e.datum_type)?(r=rt(r,s,o),nt(t.datum_type)&&(r=function(t,e,r){if(1===e)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(2===e){var i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5],l=r[6];return{x:l*(t.x-u*t.y+a*t.z)+i,y:l*(u*t.x+t.y-s*t.z)+n,z:l*(-a*t.x+s*t.y+t.z)+o}}}(r,t.datum_type,t.datum_params)),nt(e.datum_type)&&(r=function(t,e,r){if(1===e)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(2===e){var i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5],l=r[6],h=(t.x-i)/l,c=(t.y-n)/l,p=(t.z-o)/l;return{x:h+u*c-a*p,y:-u*h+c+s*p,z:a*h-s*c+p}}}(r,e.datum_type,e.datum_params)),r=it(r,l,a,u),3!==e.datum_type||0===ot(e,!0,r)?r:void 0):r}(t.datum,e.datum,r))return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),"longlat"===e.projName?r={x:r.x*l,y:r.y*l,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),"enu"!==e.axis?ut(e,!0,r):r}var pt=et("WGS84");function ft(t,e,r){var i,n,o;return Array.isArray(r)?(i=ct(t,e,r)||{x:NaN,y:NaN},r.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(r.splice(3)):[i.x,i.y,r[2]].concat(r.splice(3)):[i.x,i.y].concat(r.splice(2)):[i.x,i.y]):(n=ct(t,e,r),2===(o=Object.keys(r)).length||o.forEach((function(i){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;n[i]=r[i]})),n)}function dt(t){return t instanceof et?t:t.oProj?t.oProj:et(t)}const gt=function(t,e,r){t=dt(t);var i,n=!1;return void 0===e?(e=t,t=pt,n=!0):(void 0!==e.x||Array.isArray(e))&&(r=e,e=t,t=pt,n=!0),e=dt(e),r?ft(t,e,r):(i={forward:function(r){return ft(t,e,r)},inverse:function(r){return ft(e,t,r)}},n&&(i.oProj=e),i)};var mt="AJSAJS",_t="AFAFAF",yt=65,vt=73,bt=79;const wt={forward:Mt,inverse:function(t){var e=Et(xt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:St};function Mt(t,e){return e=e||5,function(t,e){var r,i,n,o,s,a,u,l,h,c,p,f="00000"+t.easting,d="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(h=t.easting,c=t.northing,p=Ot(t.zoneNumber),r=Math.floor(h/1e5),i=Math.floor(c/1e5)%20,o=mt.charCodeAt(n=p-1),s=_t.charCodeAt(n),l=!1,(a=o+r-1)>90&&(a=a-90+yt-1,l=!0),(a===vt||o<vt&&a>vt||(a>vt||o<vt)&&l)&&a++,(a===bt||o<bt&&a>bt||(a>bt||o<bt)&&l)&&++a===vt&&a++,a>90&&(a=a-90+yt-1),(u=s+i)>86?(u=u-86+yt-1,l=!0):l=!1,(u===vt||s<vt&&u>vt||(u>vt||s<vt)&&l)&&u++,(u===bt||s<bt&&u>bt||(u>bt||s<bt)&&l)&&++u===vt&&u++,u>86&&(u=u-86+yt-1),String.fromCharCode(a)+String.fromCharCode(u))+f.substr(f.length-5,e)+d.substr(d.length-5,e)}(function(t){var e,r,i,n,o,s,a,u=t.lat,l=t.lon,h=6378137,c=.00669438,p=.9996,f=Ct(u),d=Ct(l);a=Math.floor((l+180)/6)+1,180===l&&(a=60),u>=56&&u<64&&l>=3&&l<12&&(a=32),u>=72&&u<84&&(l>=0&&l<9?a=31:l>=9&&l<21?a=33:l>=21&&l<33?a=35:l>=33&&l<42&&(a=37)),s=Ct(6*(a-1)-180+3),e=.006739496752268451,r=h/Math.sqrt(1-c*Math.sin(f)*Math.sin(f)),i=Math.tan(f)*Math.tan(f),n=e*Math.cos(f)*Math.cos(f);var g,m,_=p*r*((o=Math.cos(f)*(d-s))+(1-i+n)*o*o*o/6+(5-18*i+i*i+72*n-58*e)*o*o*o*o*o/120)+5e5,y=p*(h*(.9983242984503243*f-.002514607064228144*Math.sin(2*f)+2639046602129982e-21*Math.sin(4*f)-3.418046101696858e-9*Math.sin(6*f))+r*Math.tan(f)*(o*o/2+(5-i+9*n+4*n*n)*o*o*o*o/24+(61-58*i+i*i+600*n-2.2240339282485886)*o*o*o*o*o*o/720));return u<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(_),zoneNumber:a,zoneLetter:(g=u,m="Z",84>=g&&g>=72?m="X":72>g&&g>=64?m="W":64>g&&g>=56?m="V":56>g&&g>=48?m="U":48>g&&g>=40?m="T":40>g&&g>=32?m="S":32>g&&g>=24?m="R":24>g&&g>=16?m="Q":16>g&&g>=8?m="P":8>g&&g>=0?m="N":0>g&&g>=-8?m="M":-8>g&&g>=-16?m="L":-16>g&&g>=-24?m="K":-24>g&&g>=-32?m="J":-32>g&&g>=-40?m="H":-40>g&&g>=-48?m="G":-48>g&&g>=-56?m="F":-56>g&&g>=-64?m="E":-64>g&&g>=-72?m="D":-72>g&&g>=-80&&(m="C"),m)}}({lat:t[1],lon:t[0]}),e)}function St(t){var e=Et(xt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Ct(t){return t*(Math.PI/180)}function Pt(t){return t/Math.PI*180}function Et(t){var e=t.northing,r=t.easting,i=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,s,a,u,l,h,c,p,f,d=.9996,g=6378137,m=.00669438,_=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),y=r-5e5,v=e;i<"N"&&(v-=1e7),c=6*(n-1)-180+3,o=.006739496752268451,f=(p=v/d/6367449.145945056)+(3*_/2-27*_*_*_/32)*Math.sin(2*p)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*p)+151*_*_*_/96*Math.sin(6*p),s=g/Math.sqrt(1-m*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),u=o*Math.cos(f)*Math.cos(f),l=.99330562*g/Math.pow(1-m*Math.sin(f)*Math.sin(f),1.5),h=y/(s*d);var b=f-s*Math.tan(f)/l*(h*h/2-(5+3*a+10*u-4*u*u-9*o)*h*h*h*h/24+(61+90*a+298*u+45*a*a-1.6983531815716497-3*u*u)*h*h*h*h*h*h/720);b=Pt(b);var w,M=(h-(1+2*a+u)*h*h*h/6+(5-2*u+28*a-3*u*u+8*o+24*a*a)*h*h*h*h*h/120)/Math.cos(f);if(M=c+Pt(M),t.accuracy){var S=Et({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:S.lat,right:S.lon,bottom:b,left:M}}else w={lat:b,lon:M};return w}function Ot(t){var e=t%6;return 0===e&&(e=6),e}function xt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,i=null,n="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,o++}var s=parseInt(n,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var u=Ot(s),l=function(t,e){for(var r=mt.charCodeAt(e-1),i=1e5,n=!1;r!==t.charCodeAt(0);){if(++r===vt&&r++,r===bt&&r++,r>90){if(n)throw"Bad character: "+t;r=yt,n=!0}i+=1e5}return i}(i.charAt(0),u),h=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=_t.charCodeAt(e-1),i=0,n=!1;r!==t.charCodeAt(0);){if(++r===vt&&r++,r===bt&&r++,r>86){if(n)throw"Bad character: "+t;r=yt,n=!0}i+=1e5}return i}(i.charAt(1),u);h<At(a);)h+=2e6;var c=r-o;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,f,d,g=c/2,m=0,_=0;return g>0&&(p=1e5/Math.pow(10,g),f=t.substring(o,o+g),m=parseFloat(f)*p,d=t.substring(o+g),_=parseFloat(d)*p),{easting:m+l,northing:_+h,zoneLetter:a,zoneNumber:s,accuracy:p}}function At(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Rt(t,e,r){if(!(this instanceof Rt))return new Rt(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Rt.fromMGRS=function(t){return new Rt(St(t))},Rt.prototype.toMGRS=function(t){return Mt([this.x,this.y],t)};const It=Rt;var Tt=.046875,Lt=.01953125,Nt=.01068115234375;function jt(t){var e=[];e[0]=1-t*(.25+t*(Tt+t*(Lt+t*Nt))),e[1]=t*(.75-t*(Tt+t*(Lt+t*Nt)));var r=t*t;return e[2]=r*(.46875-t*(.013020833333333334+.007120768229166667*t)),r*=t,e[3]=r*(.3645833333333333-.005696614583333333*t),e[4]=r*t*.3076171875,e}function Ft(t,e,r,i){return r*=e,e*=e,i[0]*t-r*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}function Gt(t,e,r){for(var i=1/(1-e),n=t,o=20;o;--o){var s=Math.sin(n),u=1-e*s*s;if(n-=u=(Ft(n,s,Math.cos(n),r)-t)*(u*Math.sqrt(u))*i,Math.abs(u)<a)return n}return n}const kt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=jt(this.es),this.ml0=Ft(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,r,i,n=t.x,o=t.y,s=j(n-this.long0),u=Math.sin(o),l=Math.cos(o);if(this.es){var h=l*s,c=Math.pow(h,2),p=this.ep2*Math.pow(l,2),f=Math.pow(p,2),d=Math.abs(l)>a?Math.tan(o):0,g=Math.pow(d,2),m=Math.pow(g,2);e=1-this.es*Math.pow(u,2),h/=Math.sqrt(e);var _=Ft(o,u,l,this.en);r=this.a*(this.k0*h*(1+c/6*(1-g+p+c/20*(5-18*g+m+14*p-58*g*p+c/42*(61+179*m-m*g-479*g)))))+this.x0,i=this.a*(this.k0*(_-this.ml0+u*s*h/2*(1+c/12*(5-g+9*p+4*f+c/30*(61+m-58*g+270*p-330*g*p+c/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var y=l*Math.sin(s);if(Math.abs(Math.abs(y)-1)<a)return 93;if(r=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,i=l*Math.cos(s)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(i))>=1){if(y-1>a)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=r,t.y=i,t},inverse:function(t){var e,r,i,n,o=(t.x-this.x0)*(1/this.a),u=(t.y-this.y0)*(1/this.a);if(this.es)if(r=Gt(e=this.ml0+u/this.k0,this.es,this.en),Math.abs(r)<s){var l=Math.sin(r),h=Math.cos(r),c=Math.abs(h)>a?Math.tan(r):0,p=this.ep2*Math.pow(h,2),f=Math.pow(p,2),d=Math.pow(c,2),g=Math.pow(d,2);e=1-this.es*Math.pow(l,2);var m=o*Math.sqrt(e)/this.k0,_=Math.pow(m,2);i=r-(e*=c)*_/(1-this.es)*.5*(1-_/12*(5+3*d-9*p*d+p-4*f-_/30*(61+90*d-252*p*d+45*g+46*p-_/56*(1385+3633*d+4095*g+1574*g*d)))),n=j(this.long0+m*(1-_/6*(1+2*d+p-_/20*(5+28*d+24*g+8*p*d+6*p-_/42*(61+662*d+1320*g+720*g*d))))/h)}else i=s*N(u),n=0;else{var y=Math.exp(o/this.k0),v=.5*(y-1/y),b=this.lat0+u/this.k0,w=Math.cos(b);e=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(v,2))),i=Math.asin(e),u<0&&(i=-i),n=0===v&&0===w?0:j(Math.atan2(v,w)+this.long0)}return t.x=n,t.y=i,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Zt(t){var e=Math.exp(t);return(e-1/e)/2}function Dt(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),i=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function zt(t,e){for(var r,i=2*Math.cos(2*e),n=t.length-1,o=t[n],s=0;--n>=0;)r=i*o-s+t[n],s=o,o=r;return e+r*Math.sin(2*e)}function Bt(t,e,r){for(var i,n,o=Math.sin(e),s=Math.cos(e),a=Zt(r),u=function(t){var e=Math.exp(t);return(e+1/e)/2}(r),l=2*s*u,h=-2*o*a,c=t.length-1,p=t[c],f=0,d=0,g=0;--c>=0;)i=d,n=f,p=l*(d=p)-i-h*(f=g)+t[c],g=h*d-n+l*f;return[(l=o*u)*p-(h=s*a)*g,l*g+h*p]}const Ut={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(kt.init.apply(this),this.forward=kt.forward,this.inverse=kt.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),r*=e,this.cgb[1]=r*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r*=e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),r*=e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(e*(-24832/14175)-2.4)),r*=e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r*=e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),r*=e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r*=e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r*=e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r*=e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=.6650675310896665*r;var i=zt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var r,i=2*Math.cos(e),n=t.length-1,o=t[n],s=0;--n>=0;)r=i*o-s+t[n],s=o,o=r;return Math.sin(e)*r}(this.gtu,2*i))},forward:function(t){var e=j(t.x-this.long0),r=t.y;r=zt(this.cbg,r);var i=Math.sin(r),n=Math.cos(r),o=Math.sin(e),s=Math.cos(e);r=Math.atan2(i,s*n),e=Math.atan2(o*n,Dt(i,n*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,r=e-1;return 0===r?t:t*Math.log(e)/r}(e*(1+e/(Dt(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,u,l=Bt(this.gtu,2*r,2*e);return r+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*r+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t},inverse:function(t){var e,r,i=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);if(n=(n-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Bt(this.utg,2*n,2*i);n+=o[0],i+=o[1],i=Math.atan(Zt(i));var s=Math.sin(n),a=Math.cos(n),u=Math.sin(i),l=Math.cos(i);n=Math.atan2(s*l,Dt(u,l*a)),e=j((i=Math.atan2(u,l*a))+this.long0),r=zt(this.cgb,n)}else e=1/0,r=1/0;return t.x=e,t.y=r,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},qt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(j(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*u,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ut.init.apply(this),this.forward=Ut.forward,this.inverse=Ut.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Vt(t,e){return Math.pow((1-t)/(1+t),e)}const Yt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+h)/(Math.pow(Math.tan(.5*this.lat0+h),this.C)*Vt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+h),this.C)*Vt(this.e*Math.sin(r),this.ratexp))-s,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+h)/this.K,1/this.C),n=20;n>0&&(r=2*Math.atan(i*Vt(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(r-t.y)<1e-14));--n)t.y=r;return n?(t.x=e,t.y=r,t):null},names:["gauss"]},Wt={init:function(){Yt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,r,i,n;return t.x=j(t.x-this.long0),Yt.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*i),t.x=n*r*Math.sin(t.x),t.y=n*(this.cosc0*e-this.sinc0*r*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,r,i,n,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),r=Math.cos(s),n=Math.asin(r*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*r-t.y*this.sinc0*e)}else n=this.phic0,i=0;return t.x=i,t.y=n,Yt.inverse.apply(this,[t]),t.x=j(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Xt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*(1+N(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=a&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*this.cons*L(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/F(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=L(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,r,i,n,o,u,l=t.x,h=t.y,c=Math.sin(h),p=Math.cos(h),f=j(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=a&&Math.abs(h+this.lat0)<=a?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*p*Math.cos(f)),t.x=this.a*e*p*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*p*Math.cos(f))+this.y0,t):(r=2*Math.atan(this.ssfn_(h,c,this.e))-s,n=Math.cos(r),i=Math.sin(r),Math.abs(this.coslat0)<=a?(o=F(this.e,h*this.con,this.con*c),u=2*this.a*this.k0*o/this.cons,t.x=this.x0+u*Math.sin(l-this.long0),t.y=this.y0-this.con*u*Math.cos(l-this.long0),t):(Math.abs(this.sinlat0)<a?(e=2*this.a*this.k0/(1+n*Math.cos(f)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*n*Math.cos(f))),t.y=e*(this.cosX0*i-this.sinX0*n*Math.cos(f))+this.y0),t.x=e*n*Math.sin(f)+this.x0,t))},inverse:function(t){var e,r,i,n,o;t.x-=this.x0,t.y-=this.y0;var u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(u/(2*this.a*this.k0));return e=this.long0,r=this.lat0,u<=a?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/u),e=Math.abs(this.coslat0)<a?this.lat0>0?j(this.long0+Math.atan2(t.x,-1*t.y)):j(this.long0+Math.atan2(t.x,t.y)):j(this.long0+Math.atan2(t.x*Math.sin(l),u*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l))),t.x=e,t.y=r,t)}if(Math.abs(this.coslat0)<=a){if(u<=a)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,i=u*this.cons/(2*this.a*this.k0),r=this.con*G(this.e,i),e=this.con*j(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else n=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=a?o=this.X0:(o=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/u),e=j(this.long0+Math.atan2(t.x*Math.sin(n),u*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)))),r=-1*G(this.e,Math.tan(.5*(s+o)));return t.x=e,t.y=r,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,r){return e*=r,Math.tan(.5*(s+t))*Math.pow((1-e)/(1+e),.5*r)}},Ht={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,i=1/this.rf,n=2*i-Math.pow(i,2),o=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+r)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,r=t.y-this.y0,i=e/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+s/this.alpha,u=0,l=o,h=-1e3,c=0;Math.abs(l-h)>1e-7;){if(++c>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),h=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=l,t},names:["somerc"]};var Kt=1e-7;const Qt={init:function(){var t,e,r,i,n,o,l,p,f,d,g,m,_,y=0,v=0,b=0,w=0,M=0,S=0,C=0;this.no_off=(_="object"==typeof(m=this).PROJECTION?Object.keys(m.PROJECTION)[0]:m.PROJECTION,"no_uoff"in m||"no_off"in m||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(_)),this.no_rot="no_rot"in this;var P=!1;"alpha"in this&&(P=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),P&&(C=this.alpha),E&&(y=this.rectified_grid_angle*u),P||E)v=this.longc;else if(b=this.long1,M=this.lat1,w=this.long2,S=this.lat2,Math.abs(M-S)<=Kt||(t=Math.abs(M))<=Kt||Math.abs(t-s)<=Kt||Math.abs(Math.abs(this.lat0)-s)<=Kt||Math.abs(Math.abs(S)-s)<=Kt)throw new Error;var O=1-this.es;e=Math.sqrt(O),Math.abs(this.lat0)>a?(p=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*p*p,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/O),this.A=this.B*this.k0*e/t,(n=(i=this.B*e/(r*Math.sqrt(t)))*i-1)<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(F(this.e,this.lat0,p),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=n=1),P||E?(P?(g=Math.asin(Math.sin(C)/i),E||(y=C)):(g=y,C=Math.asin(i*Math.sin(g))),this.lam0=v-Math.asin(.5*(n-1/n)*Math.tan(g))/this.B):(o=Math.pow(F(this.e,M,Math.sin(M)),this.B),l=Math.pow(F(this.e,S,Math.sin(S)),this.B),n=this.E/o,f=(l-o)/(l+o),d=((d=this.E*this.E)-l*o)/(d+l*o),(t=b-w)<-Math.pi?w-=c:t>Math.pi&&(w+=c),this.lam0=j(.5*(b+w)-Math.atan(d*Math.tan(.5*this.B*(b-w))/f)/this.B),g=Math.atan(2*Math.sin(this.B*j(b-this.lam0))/(n-1/n)),y=C=Math.asin(i*Math.sin(g))),this.singam=Math.sin(g),this.cosgam=Math.cos(g),this.sinrot=Math.sin(y),this.cosrot=Math.cos(y),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(C))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*g,this.v_pole_n=this.ArB*Math.log(Math.tan(h-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(h+n))},forward:function(t){var e,r,i,n,o,u,l,h,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-s)>a){if(e=.5*((o=this.E/Math.pow(F(this.e,t.y,Math.sin(t.y)),this.B))-(u=1/o)),r=.5*(o+u),n=Math.sin(this.B*t.x),i=(e*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(i)-1)<a)throw new Error;h=.5*this.ArB*Math.log((1-i)/(1+i)),u=Math.cos(this.B*t.x),l=Math.abs(u)<Kt?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+n*this.singam,u)}else h=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(c.x=l,c.y=h):(l-=this.u_0,c.x=h*this.cosrot+l*this.sinrot,c.y=l*this.cosrot-h*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(t){var e,r,i,n,o,u,l,h={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=.5*((i=Math.exp(-this.BrA*r))-1/i),o=.5*(i+1/i),l=((u=Math.sin(this.BrA*e))*this.cosgam+n*this.singam)/o,Math.abs(Math.abs(l)-1)<a)h.x=0,h.y=l<0?-s:s;else{if(h.y=this.E/Math.sqrt((1+l)/(1-l)),h.y=G(this.e,Math.pow(h.y,1/this.B)),h.y===1/0)throw new Error;h.x=-this.rB*Math.atan2(n*this.cosgam-u*this.singam,Math.cos(this.BrA*e))}return h.x+=this.lam0,h},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},Jt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<a)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),i=L(this.e,e,r),n=F(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),u=L(this.e,o,s),l=F(this.e,this.lat2,o),h=F(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>a?this.ns=Math.log(i/u)/Math.log(n/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=a&&(r=N(r)*(s-2e-10));var i,n,o=Math.abs(Math.abs(r)-s);if(o>a)i=F(this.e,r,Math.sin(r)),n=this.a*this.f0*Math.pow(i,this.ns);else{if((o=r*this.ns)<=0)return null;n=0}var u=this.ns*j(e-this.long0);return t.x=this.k0*(n*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(u))+this.y0,t},inverse:function(t){var e,r,i,n,o,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),r=1):(e=-Math.sqrt(a*a+u*u),r=-1);var l=0;if(0!==e&&(l=Math.atan2(r*a,r*u)),0!==e||this.ns>0){if(r=1/this.ns,i=Math.pow(e/(this.a*this.f0),r),-9999===(n=G(this.e,i)))return null}else n=-s;return o=j(l/this.ns+this.long0),t.x=o,t.y=n,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},$t={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,r,i,n,o,s,a,u=t.x,l=t.y,h=j(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),i=-h*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),o=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(n)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,r,i,n,o,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(e)),t.x=this.long0-r/this.alfa,s=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,l+=1}while(0===a&&l<15);return l>=15?null:t},names:["Krovak","krovak"]};function te(t,e,r,i,n){return t*n-e*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)}function ee(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function re(t){return.375*t*(1+.25*t*(1+.46875*t))}function ie(t){return.05859375*t*t*(1+.75*t)}function ne(t){return t*t*t*(35/3072)}function oe(t,e,r){var i=e*r;return t/Math.sqrt(1-i*i)}function se(t){return Math.abs(t)<s?t:t-N(t)*Math.PI}function ae(t,e,r,i,n){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-r*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)))/(e-2*r*Math.cos(2*o)+4*i*Math.cos(4*o)-6*n*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const ue={init:function(){this.sphere||(this.e0=ee(this.es),this.e1=re(this.es),this.e2=ie(this.es),this.e3=ne(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,r,i=t.x,n=t.y;if(i=j(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var o=Math.sin(n),s=Math.cos(n),a=oe(this.a,this.e,o),u=Math.tan(n)*Math.tan(n),l=i*Math.cos(n),h=l*l,c=this.es*s*s/(1-this.es);e=a*l*(1-h*u*(1/6-(8-u+8*c)*h/120)),r=this.a*te(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*o/s*h*(.5+(5-u+6*c)*h/24)}return t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,i=t.x/this.a,n=t.y/this.a;if(this.sphere){var o=n+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),r=Math.atan2(Math.tan(i),Math.cos(o))}else{var u=ae(this.ml0/this.a+n,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-s)<=a)return t.x=this.long0,t.y=s,n<0&&(t.y*=-1),t;var l=oe(this.a,this.e,Math.sin(u)),h=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(u),2),p=i*this.a/l,f=p*p;e=u-l*Math.tan(u)/h*p*p*(.5-(1+3*c)*p*p/24),r=p*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(u)}return t.x=j(r+this.long0),t.y=se(e),t},names:["Cassini","Cassini_Soldner","cass"]};function le(t,e){var r;return t>1e-7?(1-t*t)*(e/(1-(r=t*e)*r)-.5/t*Math.log((1-r)/(1+r))):2*e}const he={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-s)<a?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<a?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=le(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,r=[];return r[0]=.3333333333333333*t,e=t*t,r[0]+=.17222222222222222*e,r[1]=.06388888888888888*e,e*=t,r[0]+=.10257936507936508*e,r[1]+=.0664021164021164*e,r[2]=.016415012942191543*e,r}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=le(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,r,i,n,o,u,l,c,p,f,d=t.x,g=t.y;if(d=j(d-this.long0),this.sphere){if(o=Math.sin(g),f=Math.cos(g),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+f*i:1+this.sinph0*o+this.cosph0*f*i)<=a)return null;e=(r=Math.sqrt(2/r))*f*Math.sin(d),r*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(g+this.lat0)<a)return null;r=h-.5*g,e=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(d),r*=i}}else{switch(l=0,c=0,p=0,i=Math.cos(d),n=Math.sin(d),o=Math.sin(g),u=le(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(l=u/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:p=1+this.sinb1*l+this.cosb1*c*i;break;case this.EQUIT:p=1+c*i;break;case this.N_POLE:p=s+g,u=this.qp-u;break;case this.S_POLE:p=g-s,u=this.qp+u}if(Math.abs(p)<a)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),r=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*l-this.sinb1*c*i):(p=Math.sqrt(2/(1+c*i)))*l*this.ymf,e=this.xmf*p*c*n;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(p=Math.sqrt(u))*n,r=i*(this.mode===this.S_POLE?p:-p)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,n,o,u,l,h,c,p,f=t.x/this.a,d=t.y/this.a;if(this.sphere){var g,m=0,_=0;if((r=.5*(g=Math.sqrt(f*f+d*d)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(_=Math.sin(r),m=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(g)<=a?0:Math.asin(d*_/g),f*=_,d=m*g;break;case this.OBLIQ:r=Math.abs(g)<=a?this.lat0:Math.asin(m*this.sinph0+d*_*this.cosph0/g),f*=_*this.cosph0,d=(m-Math.sin(r)*this.sinph0)*g;break;case this.N_POLE:d=-d,r=s-r;break;case this.S_POLE:r-=s}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,d):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,d*=this.dd,(u=Math.sqrt(f*f+d*d))<a)return t.x=this.long0,t.y=this.lat0,t;n=2*Math.asin(.5*u/this.rq),i=Math.cos(n),f*=n=Math.sin(n),this.mode===this.OBLIQ?(l=i*this.sinb1+d*n*this.cosb1/u,o=this.qp*l,d=u*this.cosb1*i-d*this.sinb1*n):(l=d*n/u,o=this.qp*l,d=u*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=f*f+d*d))return t.x=this.long0,t.y=this.lat0,t;l=1-o/this.qp,this.mode===this.S_POLE&&(l=-l)}e=Math.atan2(f,d),p=(h=Math.asin(l))+h,r=h+(c=this.apa)[0]*Math.sin(p)+c[1]*Math.sin(p+p)+c[2]*Math.sin(p+p+p)}return t.x=j(this.long0+e),t.y=r,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function ce(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const pe={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=L(this.e3,this.sin_po,this.cos_po),this.qs1=le(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=L(this.e3,this.sin_po,this.cos_po),this.qs2=le(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=le(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>a?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=le(this.e3,this.sin_phi,this.cos_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*j(e-this.long0),s=n*Math.sin(o)+this.x0,a=this.rh-n*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,r,i,n,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),n=0,0!==e&&(n=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,r)),o=j(n/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var r,i,n,o,s=ce(.5*e);if(t<a)return s;for(var u=t*t,l=1;l<=25;l++)if(s+=o=.5*(n=1-(i=t*(r=Math.sin(s)))*i)*n/Math.cos(s)*(e/(1-u)-r/n+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}},fe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,r,i,n,o,s,u,l=t.x,h=t.y;return i=j(l-this.long0),e=Math.sin(h),r=Math.cos(h),n=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*r*n)>0||Math.abs(o)<=a?(s=this.x0+1*this.a*r*Math.sin(i)/o,u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*n)/o):(s=this.x0+this.infinity_dist*r*Math.sin(i),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*n)),t.x=s,t.y=u,t},inverse:function(t){var e,r,i,n,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(n=Math.atan2(e,this.rc),r=Math.sin(n),s=ce((i=Math.cos(n))*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),o=j(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},de={init:function(){this.sphere||(this.k0=L(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,r,i=t.x,n=t.y,o=j(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var s=le(this.e,Math.sin(n));e=this.x0+this.a*this.k0*o,r=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=r,t},inverse:function(t){var e,r;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=j(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=function(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*s:s;for(var i,n,o,a,u=Math.asin(.5*e),l=0;l<30;l++)if(n=Math.sin(u),o=Math.cos(u),a=t*n,u+=i=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-n/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return u;return NaN}(this.e,2*t.y*this.k0/this.a),e=j(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t},names:["cea"]},ge={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,r=t.y,i=j(e-this.long0),n=se(r-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*n,t},inverse:function(t){var e=t.x,r=t.y;return t.x=j(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=se(this.lat0+(r-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},me={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=re(this.es),this.e2=ie(this.es),this.e3=ne(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,r,i,n=t.x,o=t.y,s=j(n-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=a?(e=this.a*s,r=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),r=this.a*(se(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=a)e=this.a*s,r=-1*this.ml0;else{var u=oe(this.a,this.e,Math.sin(o))/Math.tan(o);e=u*Math.sin(i),r=this.a*te(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+u*(1-Math.cos(i))}return t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){var e,r,i,n,o,s,u,l,h;if(i=t.x-this.x0,n=t.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=a)e=j(i/this.a+this.long0),r=0;else{var c;for(s=this.lat0+n/this.a,u=i*i/this.a/this.a+s*s,l=s,o=20;o;--o)if(l+=h=-1*(s*(l*(c=Math.tan(l))+1)-l-.5*(l*l+u)*c)/((l-s)/c-1),Math.abs(h)<=a){r=l;break}e=j(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(n+this.ml0)<=a)r=0,e=j(this.long0+i/this.a);else{var p,f,d,g,m;for(s=(this.ml0+n)/this.a,u=i*i/this.a/this.a+s*s,l=s,o=20;o;--o)if(m=this.e*Math.sin(l),p=Math.sqrt(1-m*m)*Math.tan(l),f=this.a*te(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=h=(s*(p*(g=f/this.a)+1)-g-.5*p*(g*g+u))/(this.es*Math.sin(2*l)*(g*g+u-2*s*g)/(4*p)+(s-g)*(p*d-2/Math.sin(2*l))-d),Math.abs(h)<=a){r=l;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=j(this.long0+Math.asin(i*p/this.a)/Math.sin(r))}return t.x=e,t.y=r,t},names:["Polyconic","poly"]},_e={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,r=t.x,i=t.y-this.lat0,n=r-this.long0,s=i/o*1e-5,a=n,u=1,l=0;for(e=1;e<=10;e++)u*=s,l+=this.A[e]*u;var h,c=l,p=a,f=1,d=0,g=0,m=0;for(e=1;e<=6;e++)h=d*c+f*p,f=f*c-d*p,d=h,g=g+this.B_re[e]*f-this.B_im[e]*d,m=m+this.B_im[e]*f+this.B_re[e]*d;return t.x=m*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,r,i=t.x,n=t.y,s=i-this.x0,a=(n-this.y0)/this.a,u=s/this.a,l=1,h=0,c=0,p=0;for(e=1;e<=6;e++)r=h*a+l*u,l=l*a-h*u,h=r,c=c+this.C_re[e]*l-this.C_im[e]*h,p=p+this.C_im[e]*l+this.C_re[e]*h;for(var f=0;f<this.iterations;f++){var d,g=c,m=p,_=a,y=u;for(e=2;e<=6;e++)d=m*c+g*p,g=g*c-m*p,m=d,_+=(e-1)*(this.B_re[e]*g-this.B_im[e]*m),y+=(e-1)*(this.B_im[e]*g+this.B_re[e]*m);g=1,m=0;var v=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)d=m*c+g*p,g=g*c-m*p,m=d,v+=e*(this.B_re[e]*g-this.B_im[e]*m),b+=e*(this.B_im[e]*g+this.B_re[e]*m);var w=v*v+b*b;c=(_*v+y*b)/w,p=(y*v-_*b)/w}var M=c,S=p,C=1,P=0;for(e=1;e<=9;e++)C*=M,P+=this.D[e]*C;var E=this.lat0+P*o*1e5,O=this.long0+S;return t.x=O,t.y=E,t},names:["New_Zealand_Map_Grid","nzmg"]},ye={init:function(){},forward:function(t){var e=t.x,r=t.y,i=j(e-this.long0),n=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=n,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=j(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t},names:["Miller_Cylindrical","mill"]},ve={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=jt(this.es)},forward:function(t){var e,r,i=t.x,n=t.y;if(i=j(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(n),s=20;s;--s){var u=(this.m*n+Math.sin(n)-o)/(this.m+Math.cos(n));if(n-=u,Math.abs(u)<a)break}else n=1!==this.n?Math.asin(this.n*Math.sin(n)):n;e=this.a*this.C_x*i*(this.m+Math.cos(n)),r=this.a*this.C_y*n}else{var l=Math.sin(n),h=Math.cos(n);r=this.a*Ft(n,l,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=r,t},inverse:function(t){var e,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=ce((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ce(Math.sin(e)/this.n)),r=j(r+this.long0),e=se(e)):(e=Gt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<s?(i=Math.sin(e),r=j(this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)))):i-a<s&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]},be={init:function(){},forward:function(t){for(var e=t.x,r=t.y,i=j(e-this.long0),n=r,o=Math.PI*Math.sin(r);;){var s=-(n+Math.sin(n)-o)/(1+Math.cos(n));if(n+=s,Math.abs(s)<a)break}n/=2,Math.PI/2-Math.abs(r)<a&&(i=0);var u=.900316316158*this.a*i*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return t.x=u,t.y=l,t},inverse:function(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var i=j(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var n=Math.asin(r);return t.x=i,t.y=n,t},names:["Mollweide","moll"]},we={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=re(this.es),this.e2=ie(this.es),this.e3=ne(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=L(this.e,this.sinphi,this.cosphi),this.ml1=te(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<a?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=L(this.e,this.sinphi,this.cosphi),this.ml2=te(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=te(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,r=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var n=te(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-n)}var o=this.ns*j(r-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,r,i,n;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==r&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(n=j(this.long0+o/this.ns),i=se(this.g-r/this.a),t.x=n,t.y=i,t):(i=ae(this.g-r/this.a,this.e0,this.e1,this.e2,this.e3),n=j(this.long0+o/this.ns),t.x=n,t.y=i,t)},names:["Equidistant_Conic","eqdc"]},Me={init:function(){this.R=this.a},forward:function(t){var e,r,i=t.x,n=t.y,o=j(i-this.long0);Math.abs(n)<=a&&(e=this.x0+this.R*o,r=this.y0);var u=ce(2*Math.abs(n/Math.PI));(Math.abs(o)<=a||Math.abs(Math.abs(n)-s)<=a)&&(e=this.x0,r=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var l=.5*Math.abs(Math.PI/o-o/Math.PI),h=l*l,c=Math.sin(u),p=Math.cos(u),f=p/(c+p-1),d=f*f,g=f*(2/c-1),m=g*g,_=Math.PI*this.R*(l*(f-m)+Math.sqrt(h*(f-m)*(f-m)-(m+h)*(d-m)))/(m+h);o<0&&(_=-_),e=this.x0+_;var y=h+f;return _=Math.PI*this.R*(g*y-l*Math.sqrt((m+h)*(h+1)-y*y))/(m+h),r=n>=0?this.y0+_:this.y0-_,t.x=e,t.y=r,t},inverse:function(t){var e,r,i,n,o,s,u,l,h,c,p,f;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,o=(i=t.x/p)*i+(n=t.y/p)*n,p=3*(n*n/(l=-2*(s=-Math.abs(n)*(1+o))+1+2*n*n+o*o)+(2*(u=s-2*n*n+i*i)*u*u/l/l/l-9*s*u/l/l)/27)/(h=(s-u*u/3/l)/l)/(c=2*Math.sqrt(-h/3)),Math.abs(p)>1&&(p=p>=0?1:-1),f=Math.acos(p)/3,r=t.y>=0?(-c*Math.cos(f+Math.PI/3)-u/3/l)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-u/3/l)*Math.PI,e=Math.abs(i)<a?this.long0:j(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-n*n)+o*o))/2/i),t.x=e,t.y=r,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Se={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,r,i,n,o,u,l,h,c,p,f,d,g,m,_,y,v,b,w,M,S,C,P=t.x,E=t.y,O=Math.sin(t.y),x=Math.cos(t.y),A=j(P-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=a?(t.x=this.x0+this.a*(s-E)*Math.sin(A),t.y=this.y0-this.a*(s-E)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=a?(t.x=this.x0+this.a*(s+E)*Math.sin(A),t.y=this.y0+this.a*(s+E)*Math.cos(A),t):(b=this.sin_p12*O+this.cos_p12*x*Math.cos(A),v=(y=Math.acos(b))?y/Math.sin(y):1,t.x=this.x0+this.a*v*x*Math.sin(A),t.y=this.y0+this.a*v*(this.cos_p12*O-this.sin_p12*x*Math.cos(A)),t):(e=ee(this.es),r=re(this.es),i=ie(this.es),n=ne(this.es),Math.abs(this.sin_p12-1)<=a?(o=this.a*te(e,r,i,n,s),u=this.a*te(e,r,i,n,E),t.x=this.x0+(o-u)*Math.sin(A),t.y=this.y0-(o-u)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=a?(o=this.a*te(e,r,i,n,s),u=this.a*te(e,r,i,n,E),t.x=this.x0+(o+u)*Math.sin(A),t.y=this.y0+(o+u)*Math.cos(A),t):(l=O/x,h=oe(this.a,this.e,this.sin_p12),c=oe(this.a,this.e,O),p=Math.atan((1-this.es)*l+this.es*h*this.sin_p12/(c*x)),w=0===(f=Math.atan2(Math.sin(A),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(A)))?Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(f)-Math.PI)<=a?-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.asin(Math.sin(A)*Math.cos(p)/Math.sin(f)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),y=h*w*(1-(M=w*w)*(_=(g=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es))*g)*(1-_)/6+(S=M*w)/8*(m=d*g)*(1-2*_)+(C=S*w)/120*(_*(4-7*_)-3*d*d*(1-7*_))-C*w/48*m),t.x=this.x0+y*Math.sin(f),t.y=this.y0+y*Math.cos(f),t))},inverse:function(t){var e,r,i,n,o,u,l,h,c,p,f,d,g,m,_,y,v,b,w,M,S,C,P;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*s*this.a)return;return r=e/this.a,i=Math.sin(r),n=Math.cos(r),o=this.long0,Math.abs(e)<=a?u=this.lat0:(u=ce(n*this.sin_p12+t.y*i*this.cos_p12/e),l=Math.abs(this.lat0)-s,o=Math.abs(l)<=a?this.lat0>=0?j(this.long0+Math.atan2(t.x,-t.y)):j(this.long0-Math.atan2(-t.x,t.y)):j(this.long0+Math.atan2(t.x*i,e*this.cos_p12*n-t.y*this.sin_p12*i))),t.x=o,t.y=u,t}return h=ee(this.es),c=re(this.es),p=ie(this.es),f=ne(this.es),Math.abs(this.sin_p12-1)<=a?(u=ae(((d=this.a*te(h,c,p,f,s))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,h,c,p,f),o=j(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=u,t):Math.abs(this.sin_p12+1)<=a?(d=this.a*te(h,c,p,f,s),u=ae(((e=Math.sqrt(t.x*t.x+t.y*t.y))-d)/this.a,h,c,p,f),o=j(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=u,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),_=Math.atan2(t.x,t.y),g=oe(this.a,this.e,this.sin_p12),y=Math.cos(_),b=-(v=this.e*this.cos_p12*y)*v/(1-this.es),w=3*this.es*(1-b)*this.sin_p12*this.cos_p12*y/(1-this.es),C=1-b*(S=(M=e/g)-b*(1+b)*Math.pow(M,3)/6-w*(1+3*b)*Math.pow(M,4)/24)*S/2-M*S*S*S/6,m=Math.asin(this.sin_p12*Math.cos(S)+this.cos_p12*Math.sin(S)*y),o=j(this.long0+Math.asin(Math.sin(_)*Math.sin(S)/Math.cos(m))),P=Math.sin(m),u=Math.atan2((P-this.es*C*this.sin_p12)*Math.tan(m),P*(1-this.es)),t.x=o,t.y=u,t)},names:["Azimuthal_Equidistant","aeqd"]},Ce={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,r,i,n,o,s,u,l=t.x,h=t.y;return i=j(l-this.long0),e=Math.sin(h),r=Math.cos(h),n=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*r*n)>0||Math.abs(o)<=a)&&(s=1*this.a*r*Math.sin(i),u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*n)),t.x=s,t.y=u,t},inverse:function(t){var e,r,i,n,o,u,l;return t.x-=this.x0,t.y-=this.y0,r=ce((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),i=Math.sin(r),n=Math.cos(r),u=this.long0,Math.abs(e)<=a?(l=this.lat0,t.x=u,t.y=l,t):(l=ce(n*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-s,Math.abs(o)<=a?(u=this.lat0>=0?j(this.long0+Math.atan2(t.x,-t.y)):j(this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=l,t):(u=j(this.long0+Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i)),t.x=u,t.y=l,t))},names:["ortho"]};function Pe(t,e,r,i){var n;return t<a?(i.value=1,n=0):(n=Math.atan2(e,r),Math.abs(n)<=h?i.value=1:n>h&&n<=s+h?(i.value=2,n-=s):n>s+h||n<=-(s+h)?(i.value=3,n=n>=0?n-p:n+p):(i.value=4,n+=s)),n}function Ee(t,e){var r=t+e;return r<-p?r+=c:r>+p&&(r-=c),r}const Oe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=s-h/2?this.face=5:this.lat0<=-(s-h/2)?this.face=6:Math.abs(this.long0)<=h?this.face=1:Math.abs(this.long0)<=s+h?this.face=this.long0>0?2:4:this.face=3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,r,i,n,o,a,u={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,r=t.x,5===this.face)n=s-e,r>=h&&r<=s+h?(l.value=1,i=r-s):r>s+h||r<=-(s+h)?(l.value=2,i=r>0?r-p:r+p):r>-(s+h)&&r<=-h?(l.value=3,i=r+s):(l.value=4,i=r);else if(6===this.face)n=s+e,r>=h&&r<=s+h?(l.value=1,i=-r+s):r<h&&r>=-h?(l.value=2,i=-r):r<-h&&r>=-(s+h)?(l.value=3,i=-r-s):(l.value=4,i=r>0?-r+p:-r-p);else{var c,f,d,g,m,_;2===this.face?r=Ee(r,+s):3===this.face?r=Ee(r,+p):4===this.face&&(r=Ee(r,-s)),g=Math.sin(e),m=Math.cos(e),_=Math.sin(r),c=m*Math.cos(r),f=m*_,d=g,1===this.face?i=Pe(n=Math.acos(c),d,f,l):2===this.face?i=Pe(n=Math.acos(f),d,-c,l):3===this.face?i=Pe(n=Math.acos(-c),d,-f,l):4===this.face?i=Pe(n=Math.acos(-f),d,c,l):(n=i=0,l.value=1)}return a=Math.atan(12/p*(i+Math.acos(Math.sin(i)*Math.cos(h))-s)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),2===l.value?a+=s:3===l.value?a+=p:4===l.value&&(a+=1.5*p),u.x=o*Math.cos(a),u.y=o*Math.sin(a),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,t.x=u.x,t.y=u.y,t},inverse:function(t){var e,r,i,n,o,a,u,l,h,c,f,d,g={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=1:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=2,e-=s):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=3,e=e<0?e+p:e-p):(m.value=4,e+=s),h=p/12*Math.tan(e),o=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),a=Math.atan(o),(u=1-(i=Math.cos(e))*i*(n=Math.tan(r))*n*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?u=-1:u>1&&(u=1),5===this.face)l=Math.acos(u),g.phi=s-l,1===m.value?g.lam=a+s:2===m.value?g.lam=a<0?a+p:a-p:3===m.value?g.lam=a-s:g.lam=a;else if(6===this.face)l=Math.acos(u),g.phi=l-s,1===m.value?g.lam=-a+s:2===m.value?g.lam=-a:3===m.value?g.lam=-a-s:g.lam=a<0?-a-p:-a+p;else{var _,y,v;h=(_=u)*_,y=(h+=(v=h>=1?0:Math.sqrt(1-h)*Math.sin(a))*v)>=1?0:Math.sqrt(1-h),2===m.value?(h=y,y=-v,v=h):3===m.value?(y=-y,v=-v):4===m.value&&(h=y,y=v,v=-h),2===this.face?(h=_,_=-y,y=h):3===this.face?(_=-_,y=-y):4===this.face&&(h=_,_=y,y=-h),g.phi=Math.acos(-v)-s,g.lam=Math.atan2(y,_),2===this.face?g.lam=Ee(g.lam,-s):3===this.face?g.lam=Ee(g.lam,-p):4===this.face&&(g.lam=Ee(g.lam,+s))}return 0!==this.es&&(c=g.phi<0?1:0,f=Math.tan(g.phi),d=this.b/Math.sqrt(f*f+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),c&&(g.phi=-g.phi)),g.lam+=this.long0,t.x=g.lam,t.y=g.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var xe=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ae=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Re=.8487,Ie=1.3523,Te=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const Le={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=j(t.x-this.long0),r=Math.abs(t.y),i=Math.floor(11.459155902616464*r);i<0?i=0:i>=18&&(i=17);var n={x:Te(xe[i],r=l*(r-.08726646259971647*i))*e,y:Te(Ae[i],r)};return t.y<0&&(n.y=-n.y),n.x=n.x*this.a*Re+this.x0,n.y=n.y*this.a*Ie+this.y0,n},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*Re),y:Math.abs(t.y-this.y0)/(this.a*Ie)};if(e.y>=1)e.x/=xe[18][0],e.y=t.y<0?-s:s;else{var r=Math.floor(18*e.y);for(r<0?r=0:r>=18&&(r=17);;)if(Ae[r][0]>e.y)--r;else{if(!(Ae[r+1][0]<=e.y))break;++r}var i=Ae[r],n=5*(e.y-i[0])/(Ae[r+1][0]-i[0]);n=function(t,e,r,i){for(var n=e;i;--i){var o=t(n);if(n-=o,Math.abs(o)<1e-10)break}return n}((function(t){return(Te(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)}),n,0,100),e.x/=Te(xe[r],n),e.y=(5*r+n)*u,t.y<0&&(e.y=-e.y)}return e.x=j(e.x+this.long0),e},names:["Robinson","robin"]},Ne={init:function(){this.name="geocent"},forward:function(t){return rt(t,this.es,this.a)},inverse:function(t){return it(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var je={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const Fe={init:function(){if(Object.keys(je).forEach(function(t){if(void 0===this[t])this[t]=je[t].def;else{if(je[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);je[t].num&&(this[t]=parseFloat(this[t]))}je[t].degrees&&(this[t]=this[t]*u)}.bind(this)),Math.abs(Math.abs(this.lat0)-s)<a?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<a?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,r,i,n,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case 3:r=this.sinph0*o+this.cosph0*s*a;break;case 2:r=s*a;break;case 1:r=-o;break;case 0:r=o}switch(e=(r=this.pn1/(this.p-r))*s*Math.sin(t.x),this.mode){case 3:r*=this.cosph0*o-this.sinph0*s*a;break;case 2:r*=o;break;case 0:r*=-s*a;break;case 1:r*=s*a}return n=1/((i=r*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-r*this.sg)*this.cw*n,r=i*n,t.x=e*this.a,t.y=r*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,r,i,n={x:t.x,y:t.y};i=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=e*this.cg+r*this.sg,t.y=r*this.cg-e*this.sg;var o=Dt(t.x,t.y);if(Math.abs(o)<a)n.x=0,n.y=t.y;else{var s,u;switch(u=1-o*o*this.pfact,u=(this.p-Math.sqrt(u))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-u*u),this.mode){case 3:n.y=Math.asin(s*this.sinph0+t.y*u*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(n.y))*o,t.x*=u*this.cosph0;break;case 2:n.y=Math.asin(t.y*u/o),t.y=s*o,t.x*=u;break;case 0:n.y=Math.asin(s),t.y=-t.y;break;case 1:n.y=-Math.asin(s)}n.x=Math.atan2(t.x,t.y)}return t.x=n.x+this.long0,t.y=n.y,t},names:["Tilted_Perspective","tpers"]};var Ge;gt.defaultDatum="WGS84",gt.Proj=et,gt.WGS84=new gt.Proj("WGS84"),gt.Point=It,gt.toPoint=lt,gt.defs=A,gt.nadgrid=function(t,e){var r=new DataView(e),i=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(r),n=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:K(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(r,i);n.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o={header:n,subgrids:function(t,e,r){for(var i=[],n=0;n<e.nSubgrids;n++){var o=J(t,176,r),s=$(t,176,o,r),a=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),u=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);i.push({ll:[H(o.lowerLongitude),H(o.lowerLatitude)],del:[H(o.longitudeInterval),H(o.latitudeInterval)],lim:[a,u],count:o.gridNodeCount,cvs:Q(s)})}return i}(r,n,i)};return W[t]=o,o},gt.transform=ct,gt.mgrs=wt,gt.version="__VERSION__",(Ge=gt).Proj.projections.add(kt),Ge.Proj.projections.add(Ut),Ge.Proj.projections.add(qt),Ge.Proj.projections.add(Wt),Ge.Proj.projections.add(Xt),Ge.Proj.projections.add(Ht),Ge.Proj.projections.add(Qt),Ge.Proj.projections.add(Jt),Ge.Proj.projections.add($t),Ge.Proj.projections.add(ue),Ge.Proj.projections.add(he),Ge.Proj.projections.add(pe),Ge.Proj.projections.add(fe),Ge.Proj.projections.add(de),Ge.Proj.projections.add(ge),Ge.Proj.projections.add(me),Ge.Proj.projections.add(_e),Ge.Proj.projections.add(ye),Ge.Proj.projections.add(ve),Ge.Proj.projections.add(be),Ge.Proj.projections.add(we),Ge.Proj.projections.add(Me),Ge.Proj.projections.add(Se),Ge.Proj.projections.add(Ce),Ge.Proj.projections.add(Oe),Ge.Proj.projections.add(Le),Ge.Proj.projections.add(Ne),Ge.Proj.projections.add(Fe);const ke=gt},"./node_modules/regenerator-runtime/runtime.js":t=>{var e=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof m?e:m,o=Object.create(n.prototype),s=new x(i||[]);return o._invoke=function(t,e,r){var i=c;return function(n,o){if(i===f)throw new Error("Generator is already running");if(i===d){if("throw"===n)throw o;return R()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var a=P(s,r);if(a){if(a===g)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===c)throw i=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var u=h(t,e,r);if("normal"===u.type){if(i=r.done?d:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",p="suspendedYield",f="executing",d="completed",g={};function m(){}function _(){}function y(){}var v={};v[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==r&&i.call(w,o)&&(v=w);var M=y.prototype=m.prototype=Object.create(v);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(n,o,s,a){var u=h(t[n],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(c).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,a)}))}a(u.arg)}var n;this._invoke=function(t,i){function o(){return new e((function(e,n){r(t,i,e,n)}))}return n=n?n.then(o,o):o()}}function P(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=h(i,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,g;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:R}}function R(){return{value:e,done:!0}}return _.prototype=M.constructor=y,y.constructor=_,_.displayName=u(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,a,"GeneratorFunction")),t.prototype=Object.create(M),t},t.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var s=new C(l(e,r,i,n),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(M),u(M,a,"Generator"),M[o]=function(){return this},M.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=A,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return a.type="throw",a.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;O(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:A(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},"./node_modules/wgs84/index.js":t=>{t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142}}]);